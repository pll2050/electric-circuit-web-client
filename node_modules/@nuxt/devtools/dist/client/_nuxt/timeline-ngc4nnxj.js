import{P as z,G as j,am as Y,b as q,a4 as U,a as Z,_ as H,V as K,f as Q,an as X,A as ee,w as se,j as te,Q as ne,aj as oe,r as G,J as ae}from"#entry";import{_ as M}from"./duration-display.vue-hc7it00w.js";import{g as W}from"./color-mt9xuhgy.js";import{p as B,q as w,J as c,a0 as t,a3 as T,a1 as s,a9 as k,u as b,F as f,ah as E,V as h,k as C,x as le,z as ie,a2 as g,Y as m,a5 as O,$ as R,W as v,aw as re,Z as ce,ac as F,an as pe}from"./vendor/json-editor-vue-linwxbdb.js";import{_ as P}from"./nbadge-h7alls7b.js";import{_ as de}from"./composable-item.vue-emog8rj6.js";import{_ as ue}from"./stacktrace-list.vue-gtf32k2z.js";import{_ as me}from"./ndrawer.vue-hcqgn10u.js";import{_ as ke}from"./launch-page.vue-b5jz6435.js";import{_ as ye}from"./nlink.vue-hu4nnvo7.js";import{_ as fe}from"./code-diff.vue-cickw09g.js";import{_ as he}from"./help-fab.vue-lyrsxykz.js";import"./vendor/shiki-hpfujfi3.js";import"./vendor/unocss-c1ookmgn.js";import"./nmarkdown.vue-benph8ez.js";import"./client-grni31iy.js";import"./filepath-item.vue-neqjm2ct.js";import"./index-jc4yj4to.js";import"./constants-b32h69zq.js";import"./ncode-block.vue-fnl81rsp.js";const ve=B({__name:"TimelineItemFunction",props:{item:{}},setup(n){const u=n,p=w(()=>W(u.item.name,50,60,"_op_")),o=w(()=>p.value.replace(/_op_/,"1")),e=w(()=>W(u.item.name,50,40)),r=w(()=>p.value.replace(/_op_/,"0.2"));return(i,l)=>(t(),c("button",{class:"group",style:T({color:o.value,borderLeft:`2px solid ${o.value}`}),relative:"","bg-base":"","text-sm":"",transition:"","hover:z-1000":""},[s("div",{style:T({backgroundColor:r.value}),absolute:"","bottom-0":"","left--1px":"","top-0":"","w-full":"","text-sm":"","transition-all":"","duration-300":""},null,4),s("div",{style:T({color:e.value,"--c":o.value}),border:"r-2 t-2 y-2 transparent","min-w-max":"",px1:"","text-left":"","group-hover":"border-$c"},k(n.item.name),5)],4))}}),_e={relative:"","h-full":""},xe={absolute:"","left-2":"","top-2.3em":"","text-xs":"",op50:""},be=B({__name:"TimelineSegment",props:{segment:{}},emits:["select"],setup(n,{emit:u}){const p=n,o=u,e=z(()=>p.segment.start,{updateInterval:1e3,showSecond:!0,controls:!1,messages:{justNow:"",past:r=>r,future:r=>r,invalid:"-",second:r=>r?`${r}s`:"",minute:r=>`${r}m`,hour:r=>`${r}h`,week:r=>`${r}w`,day:r=>`${r}d`,month:r=>`${r}mo`,year:r=>`${r}y`}});return(r,i)=>{const l=ve;return t(),c("div",_e,[s("button",{absolute:"","left-0":"","right-0":"","top-0":"","bg-green:5":"",px2:"",py1:"","text-left":"","text-xs":"","text-green6":"","font-mono":"",onClick:i[0]||(i[0]=a=>n.segment.route?o("select",n.segment.route):void 0)},k(n.segment.route?.event.to),1),s("div",xe,k(b(e))+" ago ",1),s("div",null,[(t(!0),c(f,null,E(n.segment.functions,(a,d)=>(t(),h(l,{key:d,item:a.event,style:T({position:"absolute",minWidth:`${a.relativeWidth*100}%`,maxWidth:`${a.relativeWidth*100}%`,top:`${4+a.layer*1.6}em`,left:`${a.relativeStart*100}%`}),onClick:y=>o("select",a)},null,8,["item","style","onClick"]))),128))])])}}}),ge=3e3,De=50;function Ae(n){const u=[];let p={start:0,end:0,events:[],functions:[],duration:0};for(const o of n){const e=o.end||o.start;(o.start-p.end>ge||o.type==="route")&&(p={start:o.start,end:e,events:[],functions:[],duration:0},u.push(p)),p.events.push(o),p.end=e+De}return u.forEach((o,e)=>{const r=o.end-o.start,i=[];o.duration=r,o.previousGap=e>0?o.start-u[e-1].end:0,o.events.forEach(l=>{const a=l.end||l.start;let d=0;l.type!=="route"&&(d=i.findIndex(D=>D<=l.start),d===-1?(d=i.length,i.push(a+1e3)):i[d]=a+1e3);const y={event:l,segment:o,relativeStart:(l.start-o.start)/r,relativeWidth:(a-l.start)/r,layer:d};l.type==="function"?o.functions.push(y):o.route=y})}),u}const $e={relative:""},Ce={key:0,border:"x base","h-full":"","flex-inline":"","bg-true-gray-1":"",py15:"","text-xs":"","write-vertical-left":"",op50:"","dark:bg-true-gray-9":""},Be=B({__name:"TimelineTable",props:{data:{}},emits:["select"],setup(n,{emit:u}){const p=n,o=u,e=C(),r=C(),i=C(),l=C(),a=C(!0),d=C(1.5),y=w(()=>Ae(p.data.events)),D=w(()=>(p.data.events.length,e.value?.scrollWidth||window.innerWidth));function A(){l.value&&(l.value.style.width=`${D.value}px`)}function S(){a.value&&e.value&&(e.value.scrollTo({left:e.value.scrollWidth-e.value.clientWidth,behavior:"smooth"}),i.value.scrollTo({left:e.value.scrollWidth-e.value.clientWidth,behavior:"smooth"}))}return le(()=>p.data.events.length,async()=>{await ie(),A(),S()},{flush:"post"}),j(e,"scroll",()=>{i.value.scrollLeft!==e.value.scrollLeft&&(A(),i.value.scrollLeft=e.value.scrollLeft,a.value=e.value.scrollLeft>=e.value.scrollWidth-e.value.clientWidth)}),j(i,"scroll",()=>{i.value.scrollLeft!==e.value.scrollLeft&&(A(),e.value.scrollLeft=i.value.scrollLeft)}),j(e,"wheel",_=>{_.altKey?(d.value=Y(d.value+_.deltaY/200,.5,3),A()):e.value.scrollLeft+=_.deltaY}),(_,L)=>{const $=M,V=be;return t(),c(f,null,[s("div",$e,[s("div",{ref_key:"minimap",ref:r,border:"t b base",relative:"","h-50px":"","ws-nowrap":"","border-base":""},[(t(!0),c(f,null,E(y.value,(x,N)=>(t(),c("div",{key:N,relative:"","h-full":"","flex-inline":"",style:T({width:`${Math.max(100,x.duration/10)/D.value*100}%`})},[(t(!0),c(f,null,E(x.functions,(I,J)=>(t(),c("div",{key:J,"h-3px":"",rounded:"",style:T({width:`max(${I.relativeWidth*100}%, 10px)`,position:"absolute",top:`${I.layer*4}px`,left:`${I.relativeStart*100}%`,backgroundColor:("getHslColorFromStringHash"in _?_.getHslColorFromStringHash:b(W))(I.event.name,50,60)})},null,4))),128)),x.route?(t(),c("div",{key:0,absolute:"","top-0":"","h-full":"","w-px":"","border-l":"","border-green6":"",op10:"",style:T({left:`${x.route.relativeStart*100}%`})},null,4)):g("",!0)],4))),128))],512),s("div",{ref_key:"minimapScroller",ref:i,class:"timeline-scroller",absolute:"","inset-0":"","h-full":"","w-full":"","of-x-scroll":""},[s("div",{ref_key:"minimapScrollerInner",ref:l,"h-1px":""},null,512)],512)]),s("div",{ref_key:"scroller",ref:e,relative:"","h-full":"","w-full":"","of-x-scroll":"","of-y-hidden":"","ws-nowrap":"","n-panel-grids":""},[(t(!0),c(f,null,E(y.value,(x,N)=>(t(),c(f,{key:N},[x.previousGap&&x.previousGap>=200?(t(),c("div",Ce,[m($,{op50:"",duration:x.previousGap,color:!1},null,8,["duration"])])):g("",!0),m(V,{"flex-inline":"","of-x-hidden":"","bg-base":"","hover:of-x-visible":"",class:O(N===y.value.length-1?"border-r border-base":""),segment:x,style:T({width:`${Math.max(50,x.duration/10)*d.value}px`}),onSelect:L[0]||(L[0]=I=>o("select",I))},null,8,["class","segment","style"])],64))),128))],512)],64)}}}),we=q(Be,[["__scopeId","data-v-da163089"]]),Te={border:"t base",flex:"~ col","h-full":"","of-y-auto":"","text-sm":""},Se=["onClick"],Ne={flex:"~","ml--1":"","font-mono":""},Fe={key:0,mr2:"",op30:""},Ee={op75:""},Le={flex:"~ col items-start"},Ie={"text-xs":"","font-mono":"",op30:""},Ve={"text-green":"","font-bold":"","font-mono":""},We=B({__name:"TimelineList",props:{data:{}},emits:["select"],setup(n,{emit:u}){const p=u;return(o,e)=>{const r=M;return t(),c("div",Te,[(t(!0),c(f,null,E(n.data.events,(i,l)=>(t(),c("button",{key:l,border:"b base",px3:"",py2:"",flex:"~ items-center gap-2",hover:"bg-active",onClick:a=>p("select",i)},[i.type==="function"?(t(),c(f,{key:0},[e[2]||(e[2]=s("div",{"i-carbon-function":"",op50:""},null,-1)),s("div",{"font-mono":"",style:T({color:i.type==="function"?("getHslColorFromStringHash"in o?o.getHslColorFromStringHash:b(W))(i.name,50,60):""})},k(i.name),5),s("div",Ne,[e[0]||(e[0]=s("div",{op30:""}," ( ",-1)),(t(!0),c(f,null,E(i.args,(a,d)=>(t(),c(f,{key:d},[d?(t(),c("div",Fe," , ")):g("",!0),s("div",Ee,k(a===null?"null":a===void 0?"undefined":typeof a=="function"?"[function]":Array.isArray(a)?"[Array]":typeof a=="object"?"[object]":JSON.stringify(a)),1)],64))),128)),e[1]||(e[1]=s("div",{op30:""}," ) ",-1))])],64)):(t(),c(f,{key:1},[e[3]||(e[3]=s("div",{"mr-1":"","h-7":"","w-7":"",flex:"","rounded-lg":"","bg-primary:5":"",p1:"","text-green6":""},[s("div",{"i-carbon-direction-rotary-right":"",ma:"","text-lg":""})],-1)),s("div",Le,[s("div",Ie,k(i.from),1),s("div",Ve,k(i.to),1)])],64)),e[4]||(e[4]=s("div",{"flex-auto":""},null,-1)),i.end?(t(),h(r,{key:2,duration:i.end-i.start,color:i.type==="function"},null,8,["duration","color"])):g("",!0)],8,Se))),128)),e[5]||(e[5]=s("div",{"min-h-100":""},null,-1))])}}}),Me={key:0,"text-blue":""},je={key:1,"text-purple":""},ze={key:2,"text-green":""},He={key:3,"text-gray":""},Oe={key:4,"text-gray":""},Ge={key:5,"text-gray":""},Re={key:0,"bg-red:10":"",px2:"",py1:"","text-red":""},Pe={key:1},Je={p2:"","text-sm":"",border:"t base"},Ye=B({__name:"TimelineArgumentView",props:{value:{}},setup(n){const u=n,p=C(),o=C();function e(){try{p.value=JSON.parse(JSON.stringify(u.value))}catch(a){console.error(a),o.value=a}}const r=B({emits:["setup"],setup(a,{emit:d}){return d("setup"),()=>null}}),i=U(),l=Z();return(a,d)=>{const y=H,D=R("VMenu");return typeof n.value=="string"?(t(),c("div",Me,k(JSON.stringify(n.value)),1)):typeof n.value=="number"?(t(),c("div",je,k(n.value),1)):typeof n.value=="boolean"?(t(),c("div",ze,k(n.value),1)):typeof n.value>"u"?(t(),c("div",He," undefined ")):typeof n.value=="function"?(t(),c("div",Oe," [Function"+k(n.value.name?`: ${n.value.name}`:"")+"] ",1)):n.value===null?(t(),c("div",Ge," null ")):(t(),h(D,{key:6,placement:"top"},{popper:v(()=>[m(b(r),{onSetup:e}),o.value?(t(),c("div",Re," Failed to display object: "+k(o.value),1)):p.value?(t(),c("div",Pe,[m(b(re),ce({"model-value":p.value},a.$attrs,{class:["json-editor-vue",[b(i)==="dark"?"jse-theme-dark":""]],"main-menu-bar":!1,"navigation-bar":!1,"status-bar":!1,"read-only":!0,indentation:2,"tab-size":2}),null,16,["model-value","class"]),s("div",Je,[m(y,{title:"Copy to clipboard",icon:"carbon-copy",onClick:d[0]||(d[0]=A=>b(l)(JSON.stringify(p.value,null,2),"timeline-argument"))},{default:v(()=>[...d[1]||(d[1]=[F(" Copy ",-1)])]),_:1})])])):g("",!0)]),default:v(()=>[s("span",{"rounded-sm":"",px1:"","py0.5":"","text-sm":"",class:O([Array.isArray(n.value)?"text-amber bg-amber:10":"text-orange bg-orange:10"])},k(Array.isArray(n.value)?`[Array(${n.value.length})]`:"[Object]"),3)]),_:1}))}}}),qe={key:0,"p-4":"",flex:"~ col gap-2","text-base":""},Ue={"mx--1":""},Ze={flex:"~ gap-1","font-mono":""},Ke={key:1},Qe={key:0,op30:""},Xe={flex:"~ gap-1","text-sm":""},es={class:"text-sm text-gray-400"},ss=B({__name:"TimelineDetailsFunction",props:{record:{}},setup(n){const u=n,p=z(()=>u.record.start,{showSecond:!0}),o=K(),e=w(()=>o.value?.metadata),r=w(()=>o.value?.imports.find(i=>i.as===u.record.name));return(i,l)=>{const a=P,d=de,y=Ye,D=M,A=ue;return n.record?(t(),c("div",qe,[s("div",Ue,[m(a,{n:"yellow",textContent:"Function call"})]),s("div",Ze,[r.value?(t(),h(d,{key:0,item:r.value,metadata:e.value,counter:!1,classes:"px2 py1","mx--2":""},null,8,["item","metadata"])):(t(),c("span",Ke,k(n.record.name),1)),l[0]||(l[0]=s("span",{ml1:"",op30:""},"(",-1)),(t(!0),c(f,null,E(n.record.args,(S,_)=>(t(),c(f,{key:_},[_?(t(),c("span",Qe,", ")):g("",!0),m(y,{value:S},null,8,["value"])],64))),128)),l[1]||(l[1]=s("span",{op30:""},")",-1))]),s("div",Xe,[n.record.end?(t(),h(D,{key:0,duration:n.record.end-n.record.start},null,8,["duration"])):g("",!0),l[2]||(l[2]=s("span",{mx1:"",op50:""},"·",-1)),s("div",es,k(b(p)),1)]),n.record.stacktrace?(t(),h(A,{key:0,stacktrace:n.record.stacktrace,class:"text-xs text-gray-400"},null,8,["stacktrace"])):g("",!0)])):g("",!0)}}}),ts={key:0,"p-4":"",flex:"~ col gap-2"},ns={"mx--1":""},os={flex:"~ gap-1 items-center","font-mono":""},as={op50:""},ls={flex:"~ gap-1","text-sm":""},is={class:"text-sm text-gray-400"},rs=B({__name:"TimelineDetailsRoute",props:{record:{}},setup(n){const u=n,p=z(()=>u.record.start,{showSecond:!0});return(o,e)=>{const r=P,i=M;return n.record?(t(),c("div",ts,[s("div",ns,[m(r,{n:"green",textContent:"Route Change"})]),s("div",os,[s("span",as,k(n.record.from),1),e[0]||(e[0]=s("span",{"i-carbon-arrow-right":"",op50:""},null,-1)),s("span",null,k(n.record.to),1)]),s("div",ls,[n.record.end?(t(),h(i,{key:0,duration:n.record.end-n.record.start},null,8,["duration"])):g("",!0),e[1]||(e[1]=s("span",{mx1:"",op50:""},"·",-1)),s("div",is,k(b(p)),1)])])):g("",!0)}}}),cs={key:0,"h-screen":"","of-hidden":""},ps={"h-screen":"","w-full":"",flex:"","flex-col":""},ds={"h-10":"",flex:"~ gap-2 items-center justify-end",p2:"",px3:""},us={"text-sm":""},ms={"min-h-50":"",px3:"",py2:""},ks=B({__name:"TimelineView",setup(n){const u=Q(),p=C("table"),o=C(),e=w(()=>u.value?.metrics.clientTimeline());function r(){e.value&&(e.value.events=[])}function i(){p.value=p.value==="table"?"list":"table"}return(l,a)=>{const d=R("VTooltip"),y=H,D=we,A=We,S=ss,_=rs,L=me;return e.value?(t(),c("div",cs,[s("div",ps,[s("div",ds,[m(d,{flex:""},{popper:v(()=>[s("div",us,k(e.value.options.enabled?"Recording...":"Paused"),1)]),default:v(()=>[s("div",{"text-lg":"",class:O(e.value.options.enabled?"i-carbon-radio-button-checked text-primary animate-pulse":"i-carbon-pause-outline op30")},null,2)]),_:1}),e.value.options.enabled?(t(),h(y,{key:1,size:"small",ml1:"","text-sm":"",n:"orange",icon:"i-carbon-stop",onClick:a[1]||(a[1]=$=>e.value.options.enabled=!1)},{default:v(()=>[...a[6]||(a[6]=[F(" Stop Tracking ",-1)])]),_:1})):(t(),h(y,{key:0,size:"small",ml1:"","text-sm":"",n:"primary",icon:"i-carbon-play",onClick:a[0]||(a[0]=$=>e.value.options.enabled=!0)},{default:v(()=>[...a[5]||(a[5]=[F(" Start Tracking ",-1)])]),_:1})),a[7]||(a[7]=s("div",{"flex-auto":""},null,-1)),m(y,{icon:p.value==="table"?"i-carbon-roadmap":"i-carbon-list",class:"ml-2",title:"Toggle View",border:!1,onClick:i},null,8,["icon"]),m(y,{icon:"i-carbon-trash-can","hover-text-red":"",class:"ml-2",border:!1,onClick:r})]),p.value==="table"?(t(),h(D,{key:0,data:{...e.value},onSelect:a[2]||(a[2]=$=>o.value=$.event)},null,8,["data"])):(t(),h(A,{key:1,data:{...e.value},onSelect:a[3]||(a[3]=$=>o.value=$)},null,8,["data"]))]),m(L,{"model-value":!!o.value,"auto-close":"",transition:"bottom",left:"#nuxt-devtools-side-nav",onClose:a[4]||(a[4]=$=>o.value=void 0)},{default:v(()=>[s("div",ms,[o.value?.type==="function"?(t(),h(S,{key:0,record:o.value},null,8,["record"])):o.value?.type==="route"?(t(),h(_,{key:1,record:o.value},null,8,["record"])):g("",!0)])]),_:1},8,["model-value"])])):g("",!0)}}}),ys={class:"markdown-body"},fs={__name:"timeline",setup(n,{expose:u}){return u({frontmatter:{}}),(o,e)=>(t(),c("div",ys,[...e[0]||(e[0]=[s("h1",null,"Timeline",-1),s("blockquote",{"text-orange":"","bg-orange:10":"",py1:""}," This is an experimental feature ",-1),pe(`<p>Timeline tracks your route navigations and functions calls in your Nuxt application. It can be used to debug performance issues and to understand how your application works.</p><h2>Function calls</h2><p>Nuxt DevTools tracks function calls by wrapping them in the build time. It works for functions referenced by auto-imports, or explicit imports through <code>import {} from &#39;#imports&#39;</code>.</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee;" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666;">&lt;</span><span style="color:#1E754F;--shiki-dark:#4D9375;">script</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> setup</span><span style="color:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375;">import</span><span style="color:#999999;--shiki-dark:#666666;"> {</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> useRoute</span><span style="color:#999999;--shiki-dark:#666666;"> }</span><span style="color:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="color:#B56959;--shiki-dark:#C98A7D;">#app/composables/router</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375;">import</span><span style="color:#999999;--shiki-dark:#666666;"> {</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> useNuxtApp</span><span style="color:#999999;--shiki-dark:#666666;"> }</span><span style="color:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="color:#B56959;--shiki-dark:#C98A7D;">#imports</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375;">import</span><span style="color:#999999;--shiki-dark:#666666;"> {</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> useMouse</span><span style="color:#999999;--shiki-dark:#666666;"> }</span><span style="color:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="color:#B56959;--shiki-dark:#C98A7D;">@vueuse/core</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676;">const</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> route</span><span style="color:#999999;--shiki-dark:#666666;"> =</span><span style="color:#59873A;--shiki-dark:#80A665;"> useRoute</span><span style="color:#999999;--shiki-dark:#666666;">()</span><span style="color:#A0ADA0;--shiki-dark:#758575DD;"> // tracked</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676;">const</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> app</span><span style="color:#999999;--shiki-dark:#666666;"> =</span><span style="color:#59873A;--shiki-dark:#80A665;"> useNuxtApp</span><span style="color:#999999;--shiki-dark:#666666;">()</span><span style="color:#A0ADA0;--shiki-dark:#758575DD;"> // tracked</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD;">// NOT tracked because it&#39;s directly imported</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676;">const</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> mouse</span><span style="color:#999999;--shiki-dark:#666666;"> =</span><span style="color:#59873A;--shiki-dark:#80A665;"> useMouse</span><span style="color:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">&lt;/</span><span style="color:#1E754F;--shiki-dark:#4D9375;">script</span><span style="color:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><p>By default, it tracks Nuxt provided composables as well as user defined functions. You can include/exclude functions by using the <code>include</code> and <code>exclude</code> options in the <code>nuxt.config.js</code> file.</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee;" tabindex="0"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375;">export</span><span style="color:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="color:#59873A;--shiki-dark:#80A665;"> defineNuxtConfig</span><span style="color:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965;">  devtools</span><span style="color:#999999;--shiki-dark:#666666;">:</span><span style="color:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965;">    timeline</span><span style="color:#999999;--shiki-dark:#666666;">:</span><span style="color:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965;">      functions</span><span style="color:#999999;--shiki-dark:#666666;">:</span><span style="color:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965;">        include</span><span style="color:#999999;--shiki-dark:#666666;">:</span><span style="color:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD;">          // track \`useMouse\`</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77;">          &#39;</span><span style="color:#B56959;--shiki-dark:#C98A7D;">useMouse</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="color:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD;">          // track all functions starting with \`use\`</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77;">          /</span><span style="color:#1E754F;--shiki-dark:#4D9375;">^</span><span style="color:#AB5E3F;--shiki-dark:#C4704F;">use</span><span style="color:#999999;--shiki-dark:#666666;">[</span><span style="color:#A65E2B;--shiki-dark:#C99076;">A-Z</span><span style="color:#999999;--shiki-dark:#666666;">]</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">/</span><span style="color:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD;">          // track all functions from @vueuse/core</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A;">          entry</span><span style="color:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="color:#B07D48;--shiki-dark:#BD976A;"> entry</span><span style="color:#999999;--shiki-dark:#666666;">.</span><span style="color:#B07D48;--shiki-dark:#BD976A;">from</span><span style="color:#AB5959;--shiki-dark:#CB7676;"> ===</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="color:#B56959;--shiki-dark:#C98A7D;">@vueuse/core</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="color:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">        ],</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965;">        exclude</span><span style="color:#999999;--shiki-dark:#666666;">:</span><span style="color:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77;">          &#39;</span><span style="color:#B56959;--shiki-dark:#C98A7D;">useRouter</span><span style="color:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">        ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">      }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666;">})</span></span>
<span class="line"></span></code></pre>`,6)])]))}},hs={flex:"~ col gap-2","w-150":"",p4:"",border:"t base"},vs={op50:""},_s={flex:"~ gap-3",mt2:"","justify-end":""},zs=B({__name:"timeline",setup(n){const u=X(),p=ee(),o=oe(),e=se();async function r(){try{const[i,l]=await G.enableTimeline(!0);if(!await o.start(i,l))return;await G.enableTimeline(!1)}catch{ae({message:"Failed to enable timeline automatically. Check the terminal for more details.",icon:"i-carbon-warning",classes:"text-red"})}}return(i,l)=>{const a=ks,d=ke,y=te,D=ye,A=fe,S=H,_=ne,L=fs,$=he;return t(),c(f,null,[b(u)?.timeline?.enabled?(t(),h(a,{key:0})):(t(),c(f,{key:1},[m(y,null,{default:v(()=>[m(d,{icon:"i-carbon-roadmap",name:"feature-timeline",title:"Timeline",description:"Timeline enables the inspection of when composable being executed and the route changes.",actions:[{label:"Enable"}],onAction:r})]),_:1}),m(b(o),null,{default:v(({resolve:V,args:x})=>[m(_,{"model-value":!0,onClose:N=>V(!1)},{default:v(()=>[s("div",hs,[l[5]||(l[5]=s("h2",{"text-xl":""},[s("span",{capitalize:""},"Enable Timeline?")],-1)),s("p",vs,[l[1]||(l[1]=F(" Your ",-1)),m(D,{role:"button",n:"primary",underline:"",onClick:l[0]||(l[0]=N=>b(e)(b(p)?._nuxtConfigFile)),textContent:"Nuxt config"}),l[2]||(l[2]=F(" will be updated as: ",-1))]),m(A,{from:x[0],to:x[1],"max-h-80":"","of-auto":"",py2:"",border:"~ base rounded",lang:"ts"},null,8,["from","to"]),l[6]||(l[6]=s("p",null,[s("span",{op50:""},"Then Nuxt will "),s("span",{"text-orange":""},"restart automatically"),F(". ")],-1)),s("div",_s,[m(S,{onClick:N=>V(!1)},{default:v(()=>[...l[3]||(l[3]=[F(" Cancel ",-1)])]),_:1},8,["onClick"]),m(S,{n:"solid primary",capitalize:"",onClick:N=>V(!0)},{default:v(()=>[...l[4]||(l[4]=[F(" Enable ",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["onClose"])]),_:1})],64)),m($,null,{default:v(()=>[m(L)]),_:1})],64)}}});export{zs as default};
