import{_ as k}from"./state-editor.vue-bv2vsi3e.js";import{p as b,J as c,a0 as t,F as $,ah as N,V as f,W as n,X as B,Z as V,a1 as y,q as h,aj as w,a2 as p,Y as a,u as F,ad as O,ac as j}from"./vendor/json-editor-vue-linwxbdb.js";import{_ as E}from"./nsection-block-ld7dxama.js";import{f as P,_ as R}from"#entry";import{_ as A}from"./help-fab.vue-lyrsxykz.js";import"./data-schema-button.vue-fo5mzhk5.js";import"./nicon-title.vue-c7m4gyag.js";import"./vendor/shiki-hpfujfi3.js";import"./vendor/unocss-c1ookmgn.js";const G={key:0,flex:"~ col gap-1"},H={key:1,mt2:"",px4:"",italic:"",op35:""},K=b({__name:"StateGroup",props:{state:{},revision:{},prefix:{default:""}},setup(e){return(o,s)=>{const l=k;return t(),c("div",null,[e.state&&Object.keys(e.state).length>0?(t(),c("div",G,[(t(!0),c($,null,N(e.state,(i,r)=>(t(),f(l,{key:r,revision:e.revision,state:i,name:r.startsWith(e.prefix)?r.slice(e.prefix.length):r},{actions:n(u=>[B(o.$slots,"actions",V({ref_for:!0},u))]),_:3},8,["revision","state","name"]))),128))])):(t(),c("div",H," No data "))])}}}),T={class:"markdown-body"},W={__name:"payload",setup(e,{expose:o}){return o({frontmatter:{}}),(l,i)=>(t(),c("div",T,[...i[0]||(i[0]=[y("h1",null,"State & Async Data",-1),y("p",null,"// TODO",-1)])]))}},q={key:0},tt=b({__name:"payload",setup(e){const o=P(),s=h(()=>o.value?.nuxt.payload),l=h(()=>o.value?.revision.value);async function i(r){await o.value?.nuxt.hooks.callHookParallel("app:data:refresh",r)}return(r,u)=>{const m=K,d=E,v=R,S=k,g=W,D=A,C=w("tooltip");return t(),c($,null,[F(o)?(t(),c("div",q,[a(d,{icon:"carbon-data-set",text:"State",description:"Keyed state from `useState`",padding:!1},{default:n(()=>[a(m,{state:s.value.state,revision:l.value,prefix:"$s"},null,8,["state","revision"])]),_:1}),a(d,{icon:"carbon-data-blob",text:"Data",description:"Keyed state from `useAsyncData`",padding:!1},{actions:n(()=>[a(v,{n:"xs primary","self-start":"",icon:"i-carbon-recycle",onClick:u[0]||(u[0]=x=>i())},{default:n(()=>[...u[1]||(u[1]=[j(" Re-fetch all data ",-1)])]),_:1})]),default:n(()=>[a(m,{state:s.value.data,revision:l.value},{actions:n(({isOpen:x,name:_})=>[x&&_?O((t(),f(v,{key:0,title:`Re-fetch '${_}'`,icon:"carbon-recycle",border:!1,onClick:J=>i([_])},null,8,["title","onClick"])),[[C,`Re-fetch '${_}'`,void 0,{bottom:!0}]]):p("",!0)]),_:1},8,["state","revision"])]),_:1}),s.value.functions&&Object.keys(s.value.functions).length?(t(),f(d,{key:0,icon:"carbon-function",text:"Functions",description:"State for functions"},{default:n(()=>[a(S,{"ml--6":"",state:s.value.functions,revision:l.value},null,8,["state","revision"])]),_:1})):p("",!0)])):p("",!0),a(D,null,{default:n(()=>[a(g)]),_:1})],64)}}});export{tt as default};
