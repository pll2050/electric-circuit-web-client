import{a4 as C,H as _,_ as O}from"#entry";import{_ as j}from"./data-schema-button.vue-fo5mzhk5.js";import{p as z,n as b,E as D,x as E,aj as J,J as u,a0 as i,u as n,a1 as m,a2 as d,X as M,a5 as p,a9 as k,a6 as P,a7 as R,F as h,ad as $,V as x,Y as A,aw as F,Z as H,z as T}from"./vendor/json-editor-vue-linwxbdb.js";const U=["open"],X={flex:"~ gap2","select-none":"","items-center":"",px4:""},Y={key:0,class:"bg-red:10 px5 py3 text-red"},K=z({__name:"StateEditor",props:{name:{},open:{type:Boolean},revision:{},state:{},readonly:{type:Boolean}},emits:["update:open"],setup(o,{emit:V}){const s=o,r=_(s,"open",V,{passive:!0}),w=C(),l=b(),c=b();function v(e){return["number","bigint","string","boolean"].includes(typeof e)}function y(){c.value=void 0;try{l.value=v(s.state)?s.state:JSON.parse(JSON.stringify(s.state||{}))}catch(e){console.error(e),c.value=e}}D(()=>{y(),E(()=>[s.revision,s.state],([e,t])=>{v(t)?l.value=s.state:f(t,s.state)},{deep:!0})});function f(e,t){for(const a in e)Array.isArray(e[a])?t[a]=e[a].slice():typeof e[a]=="object"&&e[a]!==null?f(e[a],t[a]):t[a]=e[a]}async function B(){y(),await T()}return(e,t)=>{const a=O,S=j,N=J("tooltip");return i(),u("div",{class:"state-editor-details",open:o.name?n(r):!0},[m("div",X,[o.name?(i(),u("button",{key:0,flex:"~","cursor-pointer":"","items-center":"",class:p(n(r)?"":"op50"),onClick:t[0]||(t[0]=g=>r.value=!n(r))},[m("div",{"i-carbon-chevron-right":"",transition:"",class:p(n(r)?"rotate-90 op0":"")},null,2),m("code",{px3:"",py1:"","font-mono":"",class:p(n(r)?"bg-[#8881] rounded-t":"rounded hover:bg-active")},k(o.name),3)],2)):d("",!0),M(e.$slots,"actions",P(R({isOpen:n(r),name:o.name,state:o.state}))),n(r)?(i(),u(h,{key:1},[$(A(a,{title:"Refresh View",icon:"carbon-renew",border:!1,onClick:B},null,512),[[N,"Refresh View",void 0,{bottom:!0}]]),l.value&&!c.value?(i(),x(S,{key:0,getter:()=>({name:o.name,input:JSON.stringify(l.value)})},null,8,["getter"])):d("",!0)],64)):d("",!0)]),n(r)||!o.name?(i(),u(h,{key:0},[c.value?(i(),u("div",Y," Error: "+k(c.value),1)):(i(),x(n(F),H({key:1,modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=g=>l.value=g)},e.$attrs,{class:["json-editor-vue",[n(w)==="dark"?"jse-theme-dark":"",(o.name,"")]],"main-menu-bar":!1,"navigation-bar":!1,"status-bar":!1,"read-only":s.readonly,indentation:2,"tab-size":2}),null,16,["modelValue","class","read-only"]))],64)):d("",!0)],8,U)}}});export{K as _};
