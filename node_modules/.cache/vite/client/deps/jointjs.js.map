{
  "version": 3,
  "sources": ["../../../../underscore/modules/_setup.js", "../../../../underscore/modules/restArguments.js", "../../../../underscore/modules/isObject.js", "../../../../underscore/modules/isNull.js", "../../../../underscore/modules/isUndefined.js", "../../../../underscore/modules/isBoolean.js", "../../../../underscore/modules/isElement.js", "../../../../underscore/modules/_tagTester.js", "../../../../underscore/modules/isString.js", "../../../../underscore/modules/isNumber.js", "../../../../underscore/modules/isDate.js", "../../../../underscore/modules/isRegExp.js", "../../../../underscore/modules/isError.js", "../../../../underscore/modules/isSymbol.js", "../../../../underscore/modules/isArrayBuffer.js", "../../../../underscore/modules/isFunction.js", "../../../../underscore/modules/_hasObjectTag.js", "../../../../underscore/modules/_stringTagBug.js", "../../../../underscore/modules/isDataView.js", "../../../../underscore/modules/isArray.js", "../../../../underscore/modules/_has.js", "../../../../underscore/modules/isArguments.js", "../../../../underscore/modules/isFinite.js", "../../../../underscore/modules/isNaN.js", "../../../../underscore/modules/constant.js", "../../../../underscore/modules/_createSizePropertyCheck.js", "../../../../underscore/modules/_shallowProperty.js", "../../../../underscore/modules/_getByteLength.js", "../../../../underscore/modules/_isBufferLike.js", "../../../../underscore/modules/isTypedArray.js", "../../../../underscore/modules/_getLength.js", "../../../../underscore/modules/_collectNonEnumProps.js", "../../../../underscore/modules/keys.js", "../../../../underscore/modules/isEmpty.js", "../../../../underscore/modules/isMatch.js", "../../../../underscore/modules/underscore.js", "../../../../underscore/modules/_toBufferView.js", "../../../../underscore/modules/isEqual.js", "../../../../underscore/modules/allKeys.js", "../../../../underscore/modules/_methodFingerprint.js", "../../../../underscore/modules/isMap.js", "../../../../underscore/modules/isWeakMap.js", "../../../../underscore/modules/isSet.js", "../../../../underscore/modules/isWeakSet.js", "../../../../underscore/modules/values.js", "../../../../underscore/modules/pairs.js", "../../../../underscore/modules/invert.js", "../../../../underscore/modules/functions.js", "../../../../underscore/modules/_createAssigner.js", "../../../../underscore/modules/extend.js", "../../../../underscore/modules/extendOwn.js", "../../../../underscore/modules/defaults.js", "../../../../underscore/modules/_baseCreate.js", "../../../../underscore/modules/create.js", "../../../../underscore/modules/clone.js", "../../../../underscore/modules/tap.js", "../../../../underscore/modules/toPath.js", "../../../../underscore/modules/_toPath.js", "../../../../underscore/modules/_deepGet.js", "../../../../underscore/modules/get.js", "../../../../underscore/modules/has.js", "../../../../underscore/modules/identity.js", "../../../../underscore/modules/matcher.js", "../../../../underscore/modules/property.js", "../../../../underscore/modules/_optimizeCb.js", "../../../../underscore/modules/_baseIteratee.js", "../../../../underscore/modules/iteratee.js", "../../../../underscore/modules/_cb.js", "../../../../underscore/modules/mapObject.js", "../../../../underscore/modules/noop.js", "../../../../underscore/modules/propertyOf.js", "../../../../underscore/modules/times.js", "../../../../underscore/modules/random.js", "../../../../underscore/modules/now.js", "../../../../underscore/modules/_createEscaper.js", "../../../../underscore/modules/_escapeMap.js", "../../../../underscore/modules/escape.js", "../../../../underscore/modules/_unescapeMap.js", "../../../../underscore/modules/unescape.js", "../../../../underscore/modules/templateSettings.js", "../../../../underscore/modules/template.js", "../../../../underscore/modules/result.js", "../../../../underscore/modules/uniqueId.js", "../../../../underscore/modules/chain.js", "../../../../underscore/modules/_executeBound.js", "../../../../underscore/modules/partial.js", "../../../../underscore/modules/bind.js", "../../../../underscore/modules/_isArrayLike.js", "../../../../underscore/modules/_flatten.js", "../../../../underscore/modules/bindAll.js", "../../../../underscore/modules/memoize.js", "../../../../underscore/modules/delay.js", "../../../../underscore/modules/defer.js", "../../../../underscore/modules/throttle.js", "../../../../underscore/modules/debounce.js", "../../../../underscore/modules/wrap.js", "../../../../underscore/modules/negate.js", "../../../../underscore/modules/compose.js", "../../../../underscore/modules/after.js", "../../../../underscore/modules/before.js", "../../../../underscore/modules/once.js", "../../../../underscore/modules/findKey.js", "../../../../underscore/modules/_createPredicateIndexFinder.js", "../../../../underscore/modules/findIndex.js", "../../../../underscore/modules/findLastIndex.js", "../../../../underscore/modules/sortedIndex.js", "../../../../underscore/modules/_createIndexFinder.js", "../../../../underscore/modules/indexOf.js", "../../../../underscore/modules/lastIndexOf.js", "../../../../underscore/modules/find.js", "../../../../underscore/modules/findWhere.js", "../../../../underscore/modules/each.js", "../../../../underscore/modules/map.js", "../../../../underscore/modules/_createReduce.js", "../../../../underscore/modules/reduce.js", "../../../../underscore/modules/reduceRight.js", "../../../../underscore/modules/filter.js", "../../../../underscore/modules/reject.js", "../../../../underscore/modules/every.js", "../../../../underscore/modules/some.js", "../../../../underscore/modules/contains.js", "../../../../underscore/modules/invoke.js", "../../../../underscore/modules/pluck.js", "../../../../underscore/modules/where.js", "../../../../underscore/modules/max.js", "../../../../underscore/modules/min.js", "../../../../underscore/modules/toArray.js", "../../../../underscore/modules/sample.js", "../../../../underscore/modules/shuffle.js", "../../../../underscore/modules/sortBy.js", "../../../../underscore/modules/_group.js", "../../../../underscore/modules/groupBy.js", "../../../../underscore/modules/indexBy.js", "../../../../underscore/modules/countBy.js", "../../../../underscore/modules/partition.js", "../../../../underscore/modules/size.js", "../../../../underscore/modules/_keyInObj.js", "../../../../underscore/modules/pick.js", "../../../../underscore/modules/omit.js", "../../../../underscore/modules/initial.js", "../../../../underscore/modules/first.js", "../../../../underscore/modules/rest.js", "../../../../underscore/modules/last.js", "../../../../underscore/modules/compact.js", "../../../../underscore/modules/flatten.js", "../../../../underscore/modules/difference.js", "../../../../underscore/modules/without.js", "../../../../underscore/modules/uniq.js", "../../../../underscore/modules/union.js", "../../../../underscore/modules/intersection.js", "../../../../underscore/modules/unzip.js", "../../../../underscore/modules/zip.js", "../../../../underscore/modules/object.js", "../../../../underscore/modules/range.js", "../../../../underscore/modules/chunk.js", "../../../../underscore/modules/_chainResult.js", "../../../../underscore/modules/mixin.js", "../../../../underscore/modules/underscore-array-methods.js", "../../../../underscore/modules/index.js", "../../../../underscore/modules/index-default.js", "../../../../underscore/modules/index-all.js", "../../../../jquery/dist/jquery.js", "../../../../backbone/backbone.js", "../../../../jointjs/src/layout/index.mjs", "../../../../jointjs/src/layout/ports/port.mjs", "../../../../jointjs/src/dia/attributes/calc.mjs", "../../../../jointjs/src/g/index.mjs", "../../../../jointjs/src/g/geometry.helpers.mjs", "../../../../jointjs/src/g/line.bearing.mjs", "../../../../jointjs/src/g/line.squaredLength.mjs", "../../../../jointjs/src/g/line.length.mjs", "../../../../jointjs/src/g/types.mjs", "../../../../jointjs/src/g/point.mjs", "../../../../jointjs/src/g/line.mjs", "../../../../jointjs/src/g/ellipse.mjs", "../../../../jointjs/src/g/rect.mjs", "../../../../jointjs/src/g/points.mjs", "../../../../jointjs/src/g/polyline.mjs", "../../../../jointjs/src/g/curve.mjs", "../../../../jointjs/src/g/extend.mjs", "../../../../jointjs/src/g/path.mjs", "../../../../jointjs/src/g/bezier.mjs", "../../../../jointjs/src/g/polygon.mjs", "../../../../jointjs/src/g/intersection.mjs", "../../../../jointjs/src/util/index.mjs", "../../../../jointjs/src/dia/Cell.mjs", "../../../../jointjs/src/util/util.mjs", "../../../../jointjs/src/V/index.mjs", "../../../../jointjs/src/config/index.mjs", "../../../../jointjs/src/util/utilHelpers.mjs", "../../../../jointjs/src/util/cloneCells.mjs", "../../../../jointjs/src/dia/attributes/props.mjs", "../../../../jointjs/src/dia/attributes/index.mjs", "../../../../jointjs/src/util/wrappers.mjs", "../../../../jointjs/src/util/svgTagTemplate.mjs", "../../../../jointjs/src/util/getRectPoint.mjs", "../../../../jointjs/src/layout/ports/portLabel.mjs", "../../../../jointjs/src/dia/index.mjs", "../../../../jointjs/src/dia/Graph.mjs", "../../../../jointjs/src/dia/Link.mjs", "../../../../jointjs/src/dia/ports.mjs", "../../../../jointjs/src/dia/Element.mjs", "../../../../jointjs/src/mvc/index.mjs", "../../../../jointjs/src/mvc/View.mjs", "../../../../jointjs/src/mvc/Listener.mjs", "../../../../jointjs/src/dia/PaperLayer.mjs", "../../../../jointjs/src/dia/CellView.mjs", "../../../../jointjs/src/dia/HighlighterView.mjs", "../../../../jointjs/src/dia/ElementView.mjs", "../../../../jointjs/src/routers/index.mjs", "../../../../jointjs/src/routers/normal.mjs", "../../../../jointjs/src/routers/oneSide.mjs", "../../../../jointjs/src/routers/orthogonal.mjs", "../../../../jointjs/src/routers/manhattan.mjs", "../../../../jointjs/src/routers/metro.mjs", "../../../../jointjs/src/routers/rightAngle.mjs", "../../../../jointjs/src/connectors/index.mjs", "../../../../jointjs/src/connectors/straight.mjs", "../../../../jointjs/src/connectors/jumpover.mjs", "../../../../jointjs/src/connectors/normal.mjs", "../../../../jointjs/src/connectors/rounded.mjs", "../../../../jointjs/src/connectors/smooth.mjs", "../../../../jointjs/src/connectors/curve.mjs", "../../../../jointjs/src/dia/LinkView.mjs", "../../../../jointjs/src/highlighters/index.mjs", "../../../../jointjs/src/highlighters/stroke.mjs", "../../../../jointjs/src/highlighters/mask.mjs", "../../../../jointjs/src/highlighters/opacity.mjs", "../../../../jointjs/src/highlighters/addClass.mjs", "../../../../jointjs/src/highlighters/list.mjs", "../../../../jointjs/src/linkAnchors/index.mjs", "../../../../jointjs/src/connectionPoints/index.mjs", "../../../../jointjs/src/anchors/index.mjs", "../../../../jointjs/src/dia/Paper.mjs", "../../../../jointjs/src/dia/ToolView.mjs", "../../../../jointjs/src/dia/ToolsView.mjs", "../../../../jointjs/src/layout/DirectedGraph/DirectedGraph.mjs", "../../../../jointjs/src/shapes/index.mjs", "../../../../jointjs/src/shapes/basic.mjs", "../../../../jointjs/src/env/index.mjs", "../../../../jointjs/src/shapes/standard.mjs", "../../../../jointjs/src/shapes/devs.mjs", "../../../../jointjs/src/shapes/logic.mjs", "../../../../jointjs/src/shapes/chess.mjs", "../../../../jointjs/src/shapes/erd.mjs", "../../../../jointjs/src/shapes/fsa.mjs", "../../../../jointjs/src/shapes/org.mjs", "../../../../jointjs/src/shapes/pn.mjs", "../../../../jointjs/src/shapes/uml.mjs", "../../../../jointjs/src/connectionStrategies/index.mjs", "../../../../jointjs/src/linkTools/index.mjs", "../../../../jointjs/src/linkTools/Vertices.mjs", "../../../../jointjs/src/linkTools/helpers.mjs", "../../../../jointjs/src/linkTools/Segments.mjs", "../../../../jointjs/src/linkTools/Arrowhead.mjs", "../../../../jointjs/src/linkTools/Boundary.mjs", "../../../../jointjs/src/linkTools/Anchor.mjs", "../../../../jointjs/src/linkTools/Button.mjs", "../../../../jointjs/src/linkTools/Connect.mjs", "../../../../jointjs/src/linkTools/HoverConnect.mjs", "../../../../jointjs/src/elementTools/index.mjs", "../../../../jointjs/src/elementTools/Control.mjs", "../../../../jointjs/src/elementTools/HoverConnect.mjs", "../../../../jointjs/dist/version.mjs", "../../../../jointjs/src/core.mjs"],
  "sourcesContent": ["// Current version.\nexport var VERSION = '1.13.7';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n", "// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the function’s\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6’s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n", "// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n", "// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n", "// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n", "import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n", "// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n", "import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n", "import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n", "import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\n// Also, there are cases where an application can override the native\n// `DataView` object, in cases like that we can't use the constructor\n// safely and should just rely on alternate `DataView` checks\nexport var hasDataViewBug = (\n      supportsDataView && (!/\\[native code\\]/.test(String(DataView)) || hasObjectTag(new DataView(new ArrayBuffer(8))))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n", "import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasDataViewBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\n// Also, in cases where the native `DataView` is\n// overridden we can't rely on the tag itself.\nfunction alternateIsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasDataViewBug ? alternateIsDataView : isDataView);\n", "import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n", "import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n", "import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n", "import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n", "import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n", "// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n", "import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n", "// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n", "import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n", "import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n", "import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n", "import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n", "import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n", "import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n", "import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n", "import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n", "import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n", "import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n", "import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasDataViewBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasDataViewBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n", "import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n", "import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n", "import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n", "import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n", "import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n", "import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n", "import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n", "import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n", "import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n", "import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n", "// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n", "import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n", "import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n", "import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n", "import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n", "import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n", "import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n", "// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n", "import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n", "import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n", "// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n", "import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n", "import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n", "// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n", "import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n", "import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that object’s\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n", "// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because we’re not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n", "import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result — either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n", "import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n", "import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n", "import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n", "// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n", "import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n", "import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n", "// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n", "// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n", "import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n", "// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n", "import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n", "import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n", "import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n", "import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n", "import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n", "import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n", "// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n", "import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n", "import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n", "import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n", "import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n", "import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n", "import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n", "import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n", "import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n", "import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n", "import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n", "import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n", "import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n", "import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n", "// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n", "// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n", "// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n", "// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n", "import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n", "import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n", "import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n", "import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n", "import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n", "import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n", "import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n", "import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n", "import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n", "import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n", "import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n", "import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n", "import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n", "import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n", "import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n", "import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n", "import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n", "import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n", "import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n", "import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n", "import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n", "import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n", "import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n", "import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n", "import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n", "import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n", "import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n", "import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n", "import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n", "import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n", "import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n", "import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n", "import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n", "import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n", "import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n", "import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n", "// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n", "import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n", "import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n", "import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n", "import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n", "import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n", "import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n", "import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n", "import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n", "import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n", "import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n", "import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n", "import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n", "import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n", "import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n", "import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n", "import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n", "// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n", "import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n", "import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n", "import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n", "import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n", "// Named Exports\n// =============\n\n//     Underscore.js 1.13.7\n//     https://underscorejs.org\n//     (c) 2009-2024 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n// Baseline setup.\nexport { VERSION } from './_setup.js';\nexport { default as restArguments } from './restArguments.js';\n\n// Object Functions\n// ----------------\n// Our most fundamental functions operate on any JavaScript object.\n// Most functions in Underscore depend on at least one function in this section.\n\n// A group of functions that check the types of core JavaScript values.\n// These are often informally referred to as the \"isType\" functions.\nexport { default as isObject } from './isObject.js';\nexport { default as isNull } from './isNull.js';\nexport { default as isUndefined } from './isUndefined.js';\nexport { default as isBoolean } from './isBoolean.js';\nexport { default as isElement } from './isElement.js';\nexport { default as isString } from './isString.js';\nexport { default as isNumber } from './isNumber.js';\nexport { default as isDate } from './isDate.js';\nexport { default as isRegExp } from './isRegExp.js';\nexport { default as isError } from './isError.js';\nexport { default as isSymbol } from './isSymbol.js';\nexport { default as isArrayBuffer } from './isArrayBuffer.js';\nexport { default as isDataView } from './isDataView.js';\nexport { default as isArray } from './isArray.js';\nexport { default as isFunction } from './isFunction.js';\nexport { default as isArguments } from './isArguments.js';\nexport { default as isFinite } from './isFinite.js';\nexport { default as isNaN } from './isNaN.js';\nexport { default as isTypedArray } from './isTypedArray.js';\nexport { default as isEmpty } from './isEmpty.js';\nexport { default as isMatch } from './isMatch.js';\nexport { default as isEqual } from './isEqual.js';\nexport { default as isMap } from './isMap.js';\nexport { default as isWeakMap } from './isWeakMap.js';\nexport { default as isSet } from './isSet.js';\nexport { default as isWeakSet } from './isWeakSet.js';\n\n// Functions that treat an object as a dictionary of key-value pairs.\nexport { default as keys } from './keys.js';\nexport { default as allKeys } from './allKeys.js';\nexport { default as values } from './values.js';\nexport { default as pairs } from './pairs.js';\nexport { default as invert } from './invert.js';\nexport { default as functions,\n         default as methods   } from './functions.js';\nexport { default as extend } from './extend.js';\nexport { default as extendOwn,\n         default as assign    } from './extendOwn.js';\nexport { default as defaults } from './defaults.js';\nexport { default as create } from './create.js';\nexport { default as clone } from './clone.js';\nexport { default as tap } from './tap.js';\nexport { default as get } from './get.js';\nexport { default as has } from './has.js';\nexport { default as mapObject } from './mapObject.js';\n\n// Utility Functions\n// -----------------\n// A bit of a grab bag: Predicate-generating functions for use with filters and\n// loops, string escaping and templating, create random numbers and unique ids,\n// and functions that facilitate Underscore's chaining and iteration conventions.\nexport { default as identity } from './identity.js';\nexport { default as constant } from './constant.js';\nexport { default as noop } from './noop.js';\nexport { default as toPath } from './toPath.js';\nexport { default as property } from './property.js';\nexport { default as propertyOf } from './propertyOf.js';\nexport { default as matcher,\n         default as matches } from './matcher.js';\nexport { default as times } from './times.js';\nexport { default as random } from './random.js';\nexport { default as now } from './now.js';\nexport { default as escape } from './escape.js';\nexport { default as unescape } from './unescape.js';\nexport { default as templateSettings } from './templateSettings.js';\nexport { default as template } from './template.js';\nexport { default as result } from './result.js';\nexport { default as uniqueId } from './uniqueId.js';\nexport { default as chain } from './chain.js';\nexport { default as iteratee } from './iteratee.js';\n\n// Function (ahem) Functions\n// -------------------------\n// These functions take a function as an argument and return a new function\n// as the result. Also known as higher-order functions.\nexport { default as partial } from './partial.js';\nexport { default as bind } from './bind.js';\nexport { default as bindAll } from './bindAll.js';\nexport { default as memoize } from './memoize.js';\nexport { default as delay } from './delay.js';\nexport { default as defer } from './defer.js';\nexport { default as throttle } from './throttle.js';\nexport { default as debounce } from './debounce.js';\nexport { default as wrap } from './wrap.js';\nexport { default as negate } from './negate.js';\nexport { default as compose } from './compose.js';\nexport { default as after } from './after.js';\nexport { default as before } from './before.js';\nexport { default as once } from './once.js';\n\n// Finders\n// -------\n// Functions that extract (the position of) a single element from an object\n// or array based on some criterion.\nexport { default as findKey } from './findKey.js';\nexport { default as findIndex } from './findIndex.js';\nexport { default as findLastIndex } from './findLastIndex.js';\nexport { default as sortedIndex } from './sortedIndex.js';\nexport { default as indexOf } from './indexOf.js';\nexport { default as lastIndexOf } from './lastIndexOf.js';\nexport { default as find,\n         default as detect } from './find.js';\nexport { default as findWhere } from './findWhere.js';\n\n// Collection Functions\n// --------------------\n// Functions that work on any collection of elements: either an array, or\n// an object of key-value pairs.\nexport { default as each,\n         default as forEach } from './each.js';\nexport { default as map,\n         default as collect } from './map.js';\nexport { default as reduce,\n         default as foldl,\n         default as inject } from './reduce.js';\nexport { default as reduceRight,\n         default as foldr       } from './reduceRight.js';\nexport { default as filter,\n         default as select } from './filter.js';\nexport { default as reject } from './reject.js';\nexport { default as every,\n         default as all   } from './every.js';\nexport { default as some,\n         default as any  } from './some.js';\nexport { default as contains,\n         default as includes,\n         default as include  } from './contains.js';\nexport { default as invoke } from './invoke.js';\nexport { default as pluck } from './pluck.js';\nexport { default as where } from './where.js';\nexport { default as max } from './max.js';\nexport { default as min } from './min.js';\nexport { default as shuffle } from './shuffle.js';\nexport { default as sample } from './sample.js';\nexport { default as sortBy } from './sortBy.js';\nexport { default as groupBy } from './groupBy.js';\nexport { default as indexBy } from './indexBy.js';\nexport { default as countBy } from './countBy.js';\nexport { default as partition } from './partition.js';\nexport { default as toArray } from './toArray.js';\nexport { default as size } from './size.js';\n\n// `_.pick` and `_.omit` are actually object functions, but we put\n// them here in order to create a more natural reading order in the\n// monolithic build as they depend on `_.contains`.\nexport { default as pick } from './pick.js';\nexport { default as omit } from './omit.js';\n\n// Array Functions\n// ---------------\n// Functions that operate on arrays (and array-likes) only, because they’re\n// expressed in terms of operations on an ordered list of values.\nexport { default as first,\n         default as head,\n         default as take  } from './first.js';\nexport { default as initial } from './initial.js';\nexport { default as last } from './last.js';\nexport { default as rest,\n         default as tail,\n         default as drop } from './rest.js';\nexport { default as compact } from './compact.js';\nexport { default as flatten } from './flatten.js';\nexport { default as without } from './without.js';\nexport { default as uniq,\n         default as unique } from './uniq.js';\nexport { default as union } from './union.js';\nexport { default as intersection } from './intersection.js';\nexport { default as difference } from './difference.js';\nexport { default as unzip,\n         default as transpose } from './unzip.js';\nexport { default as zip } from './zip.js';\nexport { default as object } from './object.js';\nexport { default as range } from './range.js';\nexport { default as chunk } from './chunk.js';\n\n// OOP\n// ---\n// These modules support the \"object-oriented\" calling style. See also\n// `underscore.js` and `index-default.js`.\nexport { default as mixin } from './mixin.js';\nexport { default } from './underscore-array-methods.js';\n", "// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n", "// ESM Exports\n// ===========\n// This module is the package entry point for ES module users. In other words,\n// it is the module they are interfacing with when they import from the whole\n// package instead of from a submodule, like this:\n//\n// ```js\n// import { map } from 'underscore';\n// ```\n//\n// The difference with `./index-default`, which is the package entry point for\n// CommonJS, AMD and UMD users, is purely technical. In ES modules, named and\n// default exports are considered to be siblings, so when you have a default\n// export, its properties are not automatically available as named exports. For\n// this reason, we re-export the named exports in addition to providing the same\n// default export as in `./index-default`.\nexport { default } from './index-default.js';\nexport * from './index.js';\n", "/*!\n * jQuery JavaScript Library v3.7.1\n * https://jquery.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2023-08-28T13:37Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar version = \"3.7.1\",\n\n\trhtmlSuffix = /HTML$/i,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\n\t// Retrieve the text value of an array of DOM nodes\n\ttext: function( elem ) {\n\t\tvar node,\n\t\t\tret = \"\",\n\t\t\ti = 0,\n\t\t\tnodeType = elem.nodeType;\n\n\t\tif ( !nodeType ) {\n\n\t\t\t// If no nodeType, this is expected to be an array\n\t\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t\t// Do not traverse comment nodes\n\t\t\t\tret += jQuery.text( node );\n\t\t\t}\n\t\t}\n\t\tif ( nodeType === 1 || nodeType === 11 ) {\n\t\t\treturn elem.textContent;\n\t\t}\n\t\tif ( nodeType === 9 ) {\n\t\t\treturn elem.documentElement.textContent;\n\t\t}\n\t\tif ( nodeType === 3 || nodeType === 4 ) {\n\t\t\treturn elem.nodeValue;\n\t\t}\n\n\t\t// Do not include comment or processing instruction nodes\n\n\t\treturn ret;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tisXMLDoc: function( elem ) {\n\t\tvar namespace = elem && elem.namespaceURI,\n\t\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t\t// Assume HTML when documentElement doesn't yet exist, such as inside\n\t\t// document fragments.\n\t\treturn !rhtmlSuffix.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar pop = arr.pop;\n\n\nvar sort = arr.sort;\n\n\nvar splice = arr.splice;\n\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n// Note: an element does not contain itself\njQuery.contains = function( a, b ) {\n\tvar bup = b && b.parentNode;\n\n\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE doesn't have `contains` on SVG.\n\t\ta.contains ?\n\t\t\ta.contains( bup ) :\n\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t) );\n};\n\n\n\n\n// CSS string/identifier serialization\n// https://drafts.csswg.org/cssom/#common-serializing-idioms\nvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\nfunction fcssescape( ch, asCodePoint ) {\n\tif ( asCodePoint ) {\n\n\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\tif ( ch === \"\\0\" ) {\n\t\t\treturn \"\\uFFFD\";\n\t\t}\n\n\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t}\n\n\t// Other potentially-special ASCII characters get backslash-escaped\n\treturn \"\\\\\" + ch;\n}\n\njQuery.escapeSelector = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\n\n\n\nvar preferredDoc = document,\n\tpushNative = push;\n\n( function() {\n\nvar i,\n\tExpr,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\tpush = pushNative,\n\n\t// Local document vars\n\tdocument,\n\tdocumentElement,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\tmatches,\n\n\t// Instance-specific data\n\texpando = jQuery.expando,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|\" +\n\t\t\"loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trleadingCombinator = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" +\n\t\twhitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\tID: new RegExp( \"^#(\" + identifier + \")\" ),\n\t\tCLASS: new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\tTAG: new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\tATTR: new RegExp( \"^\" + attributes ),\n\t\tPSEUDO: new RegExp( \"^\" + pseudos ),\n\t\tCHILD: new RegExp(\n\t\t\t\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\tbool: new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\tneedsContext: new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// https://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\tif ( nonHex ) {\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\treturn nonHex;\n\t\t}\n\n\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t// Support: IE <=11+\n\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t// surrogate pair\n\t\treturn high < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes; see `setDocument`.\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE/Edge.\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && nodeName( elem, \"fieldset\" );\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android <=4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = {\n\t\tapply: function( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t},\n\t\tcall: function( target ) {\n\t\t\tpushNative.apply( target, slice.call( arguments, 1 ) );\n\t\t}\n\t};\n}\n\nfunction find( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tfind.contains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && context.getElementsByClassName ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( !nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rleadingCombinator.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when\n\t\t\t\t\t// strict-comparing two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( newContext != context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = jQuery.escapeSelector( nid );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrimCSS, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties\n\t\t// (see https://github.com/jquery/sizzle/issues/157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by jQuery selector module\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn nodeName( elem, \"input\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn ( nodeName( elem, \"input\" ) || nodeName( elem, \"button\" ) ) &&\n\t\t\telem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11+\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a jQuery selector context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [node] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nfunction setDocument( node ) {\n\tvar subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocumentElement = document.documentElement;\n\tdocumentIsHTML = !jQuery.isXMLDoc( document );\n\n\t// Support: iOS 7 only, IE 9 - 11+\n\t// Older browsers didn't support unprefixed `matches`.\n\tmatches = documentElement.matches ||\n\t\tdocumentElement.webkitMatchesSelector ||\n\t\tdocumentElement.msMatchesSelector;\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors\n\t// (see trac-13936).\n\t// Limit the fix to IE & Edge Legacy; despite Edge 15+ implementing `matches`,\n\t// all IE 9+ and Edge Legacy versions implement `msMatchesSelector` as well.\n\tif ( documentElement.msMatchesSelector &&\n\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tpreferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t\tsubWindow.addEventListener( \"unload\", unloadHandler );\n\t}\n\n\t// Support: IE <10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocumentElement.appendChild( el ).id = jQuery.expando;\n\t\treturn !document.getElementsByName ||\n\t\t\t!document.getElementsByName( jQuery.expando ).length;\n\t} );\n\n\t// Support: IE 9 only\n\t// Check to see if it's possible to do matchesSelector\n\t// on a disconnected node.\n\tsupport.disconnectedMatch = assert( function( el ) {\n\t\treturn matches.call( el, \"*\" );\n\t} );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// IE/Edge don't support the :scope pseudo-class.\n\tsupport.scope = assert( function() {\n\t\treturn document.querySelectorAll( \":scope\" );\n\t} );\n\n\t// Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only\n\t// Make sure the `:has()` argument is parsed unforgivingly.\n\t// We include `*` in the test to detect buggy implementations that are\n\t// _selectively_ forgiving (specifically when the list includes at least\n\t// one valid selector).\n\t// Note that we treat complete lack of support for `:has()` as if it were\n\t// spec-compliant support, which is fine because use of `:has()` in such\n\t// environments will fail in the qSA path and fall back to jQuery traversal\n\t// anyway.\n\tsupport.cssHas = assert( function() {\n\t\ttry {\n\t\t\tdocument.querySelector( \":has(*,:jqfake)\" );\n\t\t\treturn false;\n\t\t} catch ( e ) {\n\t\t\treturn true;\n\t\t}\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter.ID = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter.ID =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find.TAG = function( tag, context ) {\n\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t// DocumentFragment nodes don't have gEBTN\n\t\t} else {\n\t\t\treturn context.querySelectorAll( tag );\n\t\t}\n\t};\n\n\t// Class\n\tExpr.find.CLASS = function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\trbuggyQSA = [];\n\n\t// Build QSA regex\n\t// Regex strategy adopted from Diego Perini\n\tassert( function( el ) {\n\n\t\tvar input;\n\n\t\tdocumentElement.appendChild( el ).innerHTML =\n\t\t\t\"<a id='\" + expando + \"' href='' disabled='disabled'></a>\" +\n\t\t\t\"<select id='\" + expando + \"-\\r\\\\' disabled='disabled'>\" +\n\t\t\t\"<option selected=''></option></select>\";\n\n\t\t// Support: iOS <=7 - 8 only\n\t\t// Boolean attributes and \"value\" are not treated correctly in some XML documents\n\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t}\n\n\t\t// Support: iOS <=7 - 8 only\n\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\trbuggyQSA.push( \"~=\" );\n\t\t}\n\n\t\t// Support: iOS 8 only\n\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t}\n\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\trbuggyQSA.push( \":checked\" );\n\t\t}\n\n\t\t// Support: Windows 8 Native Apps\n\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tdocumentElement.appendChild( el ).disabled = true;\n\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t}\n\n\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t// Adding a temporary attribute to the document before the selection works\n\t\t// around the issue.\n\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"name\", \"\" );\n\t\tel.appendChild( input );\n\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t}\n\t} );\n\n\tif ( !support.cssHas ) {\n\n\t\t// Support: Chrome 105 - 110+, Safari 15.4 - 16.3+\n\t\t// Our regular `try-catch` mechanism fails to detect natively-unsupported\n\t\t// pseudo-classes inside `:has()` (such as `:has(:contains(\"Foo\"))`)\n\t\t// in browsers that parse the `:has()` argument as a forgiving selector list.\n\t\t// https://drafts.csswg.org/selectors/#relational now requires the argument\n\t\t// to be parsed unforgivingly, but browsers have not yet fully adjusted.\n\t\trbuggyQSA.push( \":has\" );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = function( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a === document || a.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b === document || b.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t};\n\n\treturn document;\n}\n\nfind.matches = function( expr, elements ) {\n\treturn find( expr, null, null, elements );\n};\n\nfind.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn find( expr, document, null, [ elem ] ).length > 0;\n};\n\nfind.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn jQuery.contains( context, elem );\n};\n\n\nfind.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (see trac-13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\tif ( val !== undefined ) {\n\t\treturn val;\n\t}\n\n\treturn elem.getAttribute( name );\n};\n\nfind.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\njQuery.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\t//\n\t// Support: Android <=4.0+\n\t// Testing for detecting duplicates is unpredictable so instead assume we can't\n\t// depend on duplicate detection in all browsers without a stable sort.\n\thasDuplicate = !support.sortStable;\n\tsortInput = !support.sortStable && slice.call( results, 0 );\n\tsort.call( results, sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tsplice.call( results, duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\njQuery.fn.uniqueSort = function() {\n\treturn this.pushStack( jQuery.uniqueSort( slice.apply( this ) ) );\n};\n\nExpr = jQuery.expr = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\tATTR: function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] || match[ 5 ] || \"\" )\n\t\t\t\t.replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\tCHILD: function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" )\n\t\t\t\t);\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\tPSEUDO: function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr.CHILD.test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\tTAG: function( nodeNameSelector ) {\n\t\t\tvar expectedNodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn nodeName( elem, expectedNodeName );\n\t\t\t\t};\n\t\t},\n\n\t\tCLASS: function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace + \")\" + className +\n\t\t\t\t\t\"(\" + whitespace + \"|$)\" ) ) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\tATTR: function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = find.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\tif ( operator === \"=\" ) {\n\t\t\t\t\treturn result === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"!=\" ) {\n\t\t\t\t\treturn result !== check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"^=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) === 0;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"*=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"$=\" ) {\n\t\t\t\t\treturn check && result.slice( -check.length ) === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"~=\" ) {\n\t\t\t\t\treturn ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" )\n\t\t\t\t\t\t.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"|=\" ) {\n\t\t\t\t\treturn result === check || result.slice( 0, check.length + 1 ) === check + \"-\";\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t},\n\n\t\tCHILD: function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || ( parent[ expando ] = {} );\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\t\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\t\t\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\tPSEUDO: function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// https://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tfind.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as jQuery does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\tnot: markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrimCSS, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element\n\t\t\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\thas: markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn find( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\tcontains: markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || jQuery.text( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// https://www.w3.org/TR/selectors/#lang-pseudo\n\t\tlang: markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tfind.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\ttarget: function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\troot: function( elem ) {\n\t\t\treturn elem === documentElement;\n\t\t},\n\n\t\tfocus: function( elem ) {\n\t\t\treturn elem === safeActiveElement() &&\n\t\t\t\tdocument.hasFocus() &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\tenabled: createDisabledPseudo( false ),\n\t\tdisabled: createDisabledPseudo( true ),\n\n\t\tchecked: function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\treturn ( nodeName( elem, \"input\" ) && !!elem.checked ) ||\n\t\t\t\t( nodeName( elem, \"option\" ) && !!elem.selected );\n\t\t},\n\n\t\tselected: function( elem ) {\n\n\t\t\t// Support: IE <=11+\n\t\t\t// Accessing the selectedIndex property\n\t\t\t// forces the browser to treat the default option as\n\t\t\t// selected when in an optgroup.\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\tempty: function( elem ) {\n\n\t\t\t// https://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tparent: function( elem ) {\n\t\t\treturn !Expr.pseudos.empty( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\theader: function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\tinput: function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\tbutton: function( elem ) {\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"button\" ||\n\t\t\t\tnodeName( elem, \"button\" );\n\t\t},\n\n\t\ttext: function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"text\" &&\n\n\t\t\t\t// Support: IE <10 only\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear\n\t\t\t\t// with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\tfirst: createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\tlast: createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\teq: createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\teven: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\todd: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tlt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i;\n\n\t\t\tif ( argument < 0 ) {\n\t\t\t\ti = argument + length;\n\t\t\t} else if ( argument > length ) {\n\t\t\t\ti = length;\n\t\t\t} else {\n\t\t\t\ti = argument;\n\t\t\t}\n\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tgt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos.nth = Expr.pseudos.eq;\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\nfunction tokenize( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rleadingCombinator.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrimCSS, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\tif ( parseOnly ) {\n\t\treturn soFar.length;\n\t}\n\n\treturn soFar ?\n\t\tfind.error( selector ) :\n\n\t\t// Cache the tokens\n\t\ttokenCache( selector, groups ).slice( 0 );\n}\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\tif ( skip && nodeName( elem, skip ) ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = outerCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tfind( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem, matcherOut,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed ||\n\t\t\t\tmultipleContexts( selector || \"*\",\n\t\t\t\t\tcontext.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems;\n\n\t\tif ( matcher ) {\n\n\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter\n\t\t\t// or preexisting results,\n\t\t\tmatcherOut = postFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t[] :\n\n\t\t\t\t// ...otherwise use results directly\n\t\t\t\tresults;\n\n\t\t\t// Find primary matches\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t} else {\n\t\t\tmatcherOut = matcherIn;\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf.call( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tvar ret = ( !leadingRelative && ( xml || context != outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element\n\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 )\n\t\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrimCSS, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find.TAG( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: iOS <=7 - 9 only\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching\n\t\t\t// elements by id. (see trac-14142)\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tjQuery.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\nfunction compile( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n}\n\n/**\n * A low-level selection function that works with jQuery's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with jQuery selector compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nfunction select( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find.ID(\n\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\tcontext\n\t\t\t) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr.needsContext.test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) &&\n\t\t\t\t\t\ttestContext( context.parentNode ) || context\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n}\n\n// One-time assignments\n\n// Support: Android <=4.0 - 4.1+\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Android <=4.0 - 4.1+\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\njQuery.find = find;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.unique = jQuery.uniqueSort;\n\n// These have always been private, but they used to be documented as part of\n// Sizzle so let's maintain them for now for backwards compatibility purposes.\nfind.compile = compile;\nfind.select = select;\nfind.setDocument = setDocument;\nfind.tokenize = tokenize;\n\nfind.escape = jQuery.escapeSelector;\nfind.getText = jQuery.text;\nfind.isXML = jQuery.isXMLDoc;\nfind.selectors = jQuery.expr;\nfind.support = jQuery.support;\nfind.uniqueSort = jQuery.uniqueSort;\n\n\t/* eslint-enable */\n\n} )();\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to jQuery#find\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.error );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the error, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getErrorHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getErrorHook();\n\n\t\t\t\t\t\t\t\t// The deprecated alias of the above. While the name suggests\n\t\t\t\t\t\t\t\t// returning the stack, not an error instance, jQuery just passes\n\t\t\t\t\t\t\t\t// it directly to `console.warn` so both will work; an instance\n\t\t\t\t\t\t\t\t// just better cooperates with source maps.\n\t\t\t\t\t\t\t\t} else if ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\n// If `jQuery.Deferred.getErrorHook` is defined, `asyncError` is an error\n// captured before the async barrier to get the original error cause\n// which may otherwise be hidden.\njQuery.Deferred.exceptionHook = function( error, asyncError ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message,\n\t\t\terror.stack, asyncError );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", true );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, isSetup ) {\n\n\t// Missing `isSetup` indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !isSetup ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\tif ( !saved ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tdataPriv.set( this, type, false );\n\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering\n\t\t\t\t// the native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, jQuery.event.trigger(\n\t\t\t\t\tsaved[ 0 ],\n\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\tthis\n\t\t\t\t) );\n\n\t\t\t\t// Abort handling of the native event by all jQuery handlers while allowing\n\t\t\t\t// native handlers on the same element to run. On target, this is achieved\n\t\t\t\t// by stopping immediate propagation just on the jQuery event. However,\n\t\t\t\t// the native event is re-wrapped by a jQuery one on each level of the\n\t\t\t\t// propagation so the only way to stop it for jQuery is to stop it for\n\t\t\t\t// everyone via native `stopPropagation()`. This is not a problem for\n\t\t\t\t// focus/blur which don't bubble, but it does also stop click on checkboxes\n\t\t\t\t// and radios. We accept this limitation.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.isImmediatePropagationStopped = returnTrue;\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\n\tfunction focusMappedHandler( nativeEvent ) {\n\t\tif ( document.documentMode ) {\n\n\t\t\t// Support: IE 11+\n\t\t\t// Attach a single focusin/focusout handler on the document while someone wants\n\t\t\t// focus/blur. This is because the former are synchronous in IE while the latter\n\t\t\t// are async. In other browsers, all those handlers are invoked synchronously.\n\n\t\t\t// `handle` from private data would already wrap the event, but we need\n\t\t\t// to change the `type` here.\n\t\t\tvar handle = dataPriv.get( this, \"handle\" ),\n\t\t\t\tevent = jQuery.event.fix( nativeEvent );\n\t\t\tevent.type = nativeEvent.type === \"focusin\" ? \"focus\" : \"blur\";\n\t\t\tevent.isSimulated = true;\n\n\t\t\t// First, handle focusin/focusout\n\t\t\thandle( nativeEvent );\n\n\t\t\t// ...then, handle focus/blur\n\t\t\t//\n\t\t\t// focus/blur don't bubble while focusin/focusout do; simulate the former by only\n\t\t\t// invoking the handler at the lower level.\n\t\t\tif ( event.target === event.currentTarget ) {\n\n\t\t\t\t// The setup part calls `leverageNative`, which, in turn, calls\n\t\t\t\t// `jQuery.event.add`, so event handle will already have been set\n\t\t\t\t// by this point.\n\t\t\t\thandle( event );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// For non-IE browsers, attach a single capturing handler on the document\n\t\t\t// while someone wants focusin/focusout.\n\t\t\tjQuery.event.simulate( delegateType, nativeEvent.target,\n\t\t\t\tjQuery.event.fix( nativeEvent ) );\n\t\t}\n\t}\n\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\tvar attaches;\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, true );\n\n\t\t\tif ( document.documentMode ) {\n\n\t\t\t\t// Support: IE 9 - 11+\n\t\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\t\tattaches = dataPriv.get( this, delegateType );\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t}\n\t\t\t\tdataPriv.set( this, delegateType, ( attaches || 0 ) + 1 );\n\t\t\t} else {\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar attaches;\n\n\t\t\tif ( document.documentMode ) {\n\t\t\t\tattaches = dataPriv.get( this, delegateType ) - 1;\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t\tdataPriv.remove( this, delegateType );\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.set( this, delegateType, attaches );\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Return false to indicate standard teardown should be applied\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n\n\t// Support: Firefox <=44\n\t// Firefox doesn't have focus(in | out) events\n\t// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n\t//\n\t// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n\t// focus(in | out) events fire after focus & blur events,\n\t// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n\t// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\n\t//\n\t// Support: IE 9 - 11+\n\t// To preserve relative focusin/focus & focusout/blur event order guaranteed on the 3.x branch,\n\t// attach a single handler for both events in IE.\n\tjQuery.event.special[ delegateType ] = {\n\t\tsetup: function() {\n\n\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType );\n\n\t\t\t// Support: IE 9 - 11+\n\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.addEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\tdataPriv.set( dataHolder, delegateType, ( attaches || 0 ) + 1 );\n\t\t},\n\t\tteardown: function() {\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType ) - 1;\n\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.removeEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( dataHolder, delegateType );\n\t\t\t} else {\n\t\t\t\tdataPriv.set( dataHolder, delegateType, attaches );\n\t\t\t}\n\t\t}\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Re-enable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew jQuery#find here for performance reasons:\n\t\t\t// https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"box-sizing:content-box;border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is `display: block`\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\n\t\t// Support: IE <=9 - 11+\n\t\t// IE only supports `\"float\"` in `getPropertyValue`; in computed styles\n\t\t// it's only available as `\"cssFloat\"`. We no longer modify properties\n\t\t// sent to `.css()` apart from camelCasing, so we need to check both.\n\t\t// Normally, this would create difference in behavior: if\n\t\t// `getPropertyValue` returns an empty string, the value returned\n\t\t// by `.css()` would be `undefined`. This is usually the case for\n\t\t// disconnected elements. However, in IE even disconnected elements\n\t\t// with no styles return `\"none\"` for `getPropertyValue( \"float\" )`\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( isCustomProp && ret ) {\n\n\t\t\t// Support: Firefox 105+, Chrome <=105+\n\t\t\t// Spec requires trimming whitespace for custom properties (gh-4926).\n\t\t\t// Firefox only trims leading whitespace. Chrome just collapses\n\t\t\t// both leading & trailing whitespace to a single space.\n\t\t\t//\n\t\t\t// Fall back to `undefined` if empty string returned.\n\t\t\t// This collapses a missing definition with property defined\n\t\t\t// and set to an empty string but there's no standard API\n\t\t\t// allowing us to differentiate them without a performance penalty\n\t\t\t// and returning `undefined` aligns with older jQuery.\n\t\t\t//\n\t\t\t// rtrimCSS treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" ) || undefined;\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0,\n\t\tmarginDelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\t// Count margin delta separately to only add it after scroll gutter adjustment.\n\t\t// This is needed to make negative margins work with `outerHeight( true )` (gh-3982).\n\t\tif ( box === \"margin\" ) {\n\t\t\tmarginDelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta + marginDelta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\tanimationIterationCount: true,\n\t\taspectRatio: true,\n\t\tborderImageSlice: true,\n\t\tcolumnCount: true,\n\t\tflexGrow: true,\n\t\tflexShrink: true,\n\t\tfontWeight: true,\n\t\tgridArea: true,\n\t\tgridColumn: true,\n\t\tgridColumnEnd: true,\n\t\tgridColumnStart: true,\n\t\tgridRow: true,\n\t\tgridRowEnd: true,\n\t\tgridRowStart: true,\n\t\tlineHeight: true,\n\t\topacity: true,\n\t\torder: true,\n\t\torphans: true,\n\t\tscale: true,\n\t\twidows: true,\n\t\tzIndex: true,\n\t\tzoom: true,\n\n\t\t// SVG-related\n\t\tfillOpacity: true,\n\t\tfloodOpacity: true,\n\t\tstopOpacity: true,\n\t\tstrokeMiterlimit: true,\n\t\tstrokeOpacity: true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this\n\t\t\t.on( \"mouseenter\", fnOver )\n\t\t\t.on( \"mouseleave\", fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n", "//     Backbone.js 1.4.1\n\n//     (c) 2010-2022 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global;\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $;\n    try { $ = require('jquery'); } catch (e) {}\n    factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.4.1';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // A private global variable to share between listeners and listenees.\n  var _listening;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0, names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length ; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening;\n      // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n      _listening.interop = false;\n    }\n\n    return this;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    }\n\n    // Bind callbacks on obj.\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n\n    if (error) throw error;\n    // If the target obj is not Backbone.Events, track events manually.\n    if (listening.interop) listening.on(name, callback);\n\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context, ctx = options.ctx, listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n    }\n    return events;\n  };\n\n  // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n  var tryCatchOn = function(obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var context = options.context, listeners = options.listeners;\n    var i = 0, names;\n\n    // Delete all event listeners and \"drop\" events.\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Find any remaining events.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n            callback !== handler.callback._callback ||\n              context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      }\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n  var Listening = function(listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on;\n\n  // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n  Listening.prototype.off = function(name, callback) {\n    var cleanup;\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n    if (cleanup) this.cleanup();\n  };\n\n  // Cleans up memory bindings between the listener and the listenee.\n  Listening.prototype.cleanup = function() {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    var defaults = _.result(this, 'defaults');\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset      = options.unset;\n      var silent     = options.silent;\n      var changes    = [];\n      var changing   = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev    = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      if (this.idAttribute in attrs) {\n        var prevId = this.id;\n        this.id = this.get(this.idAttribute);\n        this.trigger('changeId', this, prevId, options);\n      }\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n      return hasChanged ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true, parse: true}, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend({}, options, {validate: true}));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) { return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed.length) {\n        options.changes = {added: [], merged: [], removed: removed};\n        this.trigger('update', this, options);\n      }\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.extend({}, setOptions, options);\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model, i;\n      for (i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort/update events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] ||\n        this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj, obj.idAttribute)] ||\n        obj.cid && this._byId[obj.cid];\n    },\n\n    // Returns `true` if the model is in the collection.\n    has: function(obj) {\n      return this.get(obj) != null;\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return this.map(attr + '');\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs, idAttribute) {\n      return attrs[idAttribute || this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Get an iterator of all models in this collection.\n    values: function() {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n\n    // Get an iterator of all model IDs in this collection.\n    keys: function() {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function() {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n\n      var model;\n      if (this.model.prototype) {\n        model = new this.model(attrs, options);\n      } else {\n        // ES class methods didn't have prototype\n        model = this.model(attrs, options);\n      }\n\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes, model.idAttribute);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      return removed;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes, model.idAttribute);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes, model.idAttribute);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n        if (event === 'changeId') {\n          var prevId = this.modelId(model.previousAttributes(), model.idAttribute);\n          var id = this.modelId(model.attributes, model.idAttribute);\n          if (prevId != null) delete this._byId[prevId];\n          if (id != null) this._byId[id] = model;\n        }\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n  /* global Symbol */\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  }\n\n  // CollectionIterator\n  // ------------------\n\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n  var CollectionIterator = function(collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  };\n\n  // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3;\n\n  // All Iterators should themselves be Iterable.\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function() {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function() {\n    if (this._collection) {\n\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n        this._index++;\n\n        // Construct a value depending on what kind of values should be iterated.\n        var value;\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes, model.idAttribute);\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else { // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n        return {value: value, done: false};\n      }\n\n      // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n      this._collection = void 0;\n    }\n\n    return {value: void 0, done: true};\n  };\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(base, length, method, attribute) {\n    switch (length) {\n      case 1: return function() {\n        return base[method](this[attribute]);\n      };\n      case 2: return function(value) {\n        return base[method](this[attribute], value);\n      };\n      case 3: return function(iteratee, context) {\n        return base[method](this[attribute], cb(iteratee, this), context);\n      };\n      case 4: return function(iteratee, defaultVal, context) {\n        return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n      };\n      default: return function() {\n        var args = slice.call(arguments);\n        args.unshift(this[attribute]);\n        return base[method].apply(base, args);\n      };\n    }\n  };\n\n  var addUnderscoreMethods = function(Class, base, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n    foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n    select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n    contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n    head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n    without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n    isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n    sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n    omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([\n    [Collection, collectionMethods, 'models'],\n    [Model, modelMethods, 'attributes']\n  ], function(config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function(obj) {\n      var mappings = _.reduce(_.functions(obj), function(memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch': 'PATCH',\n    'delete': 'DELETE',\n    'read': 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n      .replace(optionalParam, '(?:$1)?')\n      .replace(namedParam, function(match, optional) {\n        return optional ? match : '([^/?]+)';\n      })\n      .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.history && this.history.pushState);\n      this._usePushState    = this._wantsPushState && this._hasPushState;\n      this.fragment         = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {replace: true});\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Don't include a trailing slash on the root.\n      var rootPath = this.root;\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n      var url = rootPath + fragment;\n\n      // Strip the fragment of the query and hash for matching.\n      fragment = fragment.replace(pathStripper, '');\n\n      // Decode for matching.\n      var decodedFragment = this.decodeFragment(fragment);\n\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n", "import * as Port from './ports/port.mjs';\nimport * as PortLabel from './ports/portLabel.mjs';\n\nexport * from './DirectedGraph/DirectedGraph.mjs';\nexport { Port, PortLabel };\n", "import { evalCalcAttribute, isCalcAttribute } from '../../dia/attributes/calc.mjs';\nimport * as g from '../../g/index.mjs';\nimport * as util from '../../util/index.mjs';\n\nfunction portTransformAttrs(point, angle, opt) {\n\n    var trans = point.toJSON();\n\n    trans.angle = angle || 0;\n\n    return util.defaults({}, opt, trans);\n}\n\nfunction lineLayout(ports, p1, p2, elBBox) {\n    return ports.map(function(port, index, ports) {\n        var p = this.pointAt(((index + 0.5) / ports.length));\n        // `dx`,`dy` per port offset option\n        if (port.dx || port.dy) {\n            p.offset(port.dx || 0, port.dy || 0);\n        }\n        return portTransformAttrs(p.round(), 0, argTransform(elBBox, port));\n    }, g.line(p1, p2));\n}\n\nfunction ellipseLayout(ports, elBBox, startAngle, stepFn) {\n\n    var center = elBBox.center();\n    var ratio = elBBox.width / elBBox.height;\n    var p1 = elBBox.topMiddle();\n\n    var ellipse = g.Ellipse.fromRect(elBBox);\n\n    return ports.map(function(port, index, ports) {\n\n        var angle = startAngle + stepFn(index, ports.length);\n        var p2 = p1.clone()\n            .rotate(center, -angle)\n            .scale(ratio, 1, center);\n\n        var theta = port.compensateRotation ? -ellipse.tangentTheta(p2) : 0;\n\n        // `dx`,`dy` per port offset option\n        if (port.dx || port.dy) {\n            p2.offset(port.dx || 0, port.dy || 0);\n        }\n\n        // `dr` delta radius option\n        if (port.dr) {\n            p2.move(center, port.dr);\n        }\n\n        return portTransformAttrs(p2.round(), theta, argTransform(elBBox, port));\n    });\n}\n\n\nfunction argTransform(bbox, args) {\n    let { x, y, angle } = args;\n    if (util.isPercentage(x)) {\n        x = parseFloat(x) / 100 * bbox.width;\n    } else if (isCalcAttribute(x)) {\n        x = Number(evalCalcAttribute(x, bbox));\n    }\n    if (util.isPercentage(y)) {\n        y = parseFloat(y) / 100 * bbox.height;\n    } else if (isCalcAttribute(y)) {\n        y = Number(evalCalcAttribute(y, bbox));\n    }\n    return { x, y, angle };\n}\n\n// Creates a point stored in arguments\nfunction argPoint(bbox, args) {\n    const { x, y } = argTransform(bbox, args);\n    return new g.Point(x || 0, y || 0);\n}\n\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const absolute = function(ports, elBBox) {\n    return ports.map(port => {\n        const transformation = argPoint(elBBox, port).round().toJSON();\n        transformation.angle = port.angle || 0;\n        return transformation;\n    });\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const fn = function(ports, elBBox, opt) {\n    return opt.fn(ports, elBBox, opt);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const line = function(ports, elBBox, opt) {\n\n    var start = argPoint(elBBox, opt.start || elBBox.origin());\n    var end = argPoint(elBBox, opt.end || elBBox.corner());\n\n    return lineLayout(ports, start, end, elBBox);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const left = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.origin(), elBBox.bottomLeft(), elBBox);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const right = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.topRight(), elBBox.corner(), elBBox);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const top = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.origin(), elBBox.topRight(), elBBox);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt opt Group options\n * @returns {Array<g.Point>}\n */\nexport const bottom = function(ports, elBBox, opt) {\n    return lineLayout(ports, elBBox.bottomLeft(), elBBox.corner(), elBBox);\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt Group options\n * @returns {Array<g.Point>}\n */\nexport const ellipseSpread = function(ports, elBBox, opt) {\n\n    var startAngle = opt.startAngle || 0;\n    var stepAngle = opt.step || 360 / ports.length;\n\n    return ellipseLayout(ports, elBBox, startAngle, function(index) {\n        return index * stepAngle;\n    });\n};\n\n/**\n * @param {Array<Object>} ports\n * @param {g.Rect} elBBox\n * @param {Object=} opt Group options\n * @returns {Array<g.Point>}\n */\nexport const ellipse = function(ports, elBBox, opt) {\n\n    var startAngle = opt.startAngle || 0;\n    var stepAngle = opt.step || 20;\n\n    return ellipseLayout(ports, elBBox, startAngle, function(index, count) {\n        return (index + 0.5 - count / 2) * stepAngle;\n    });\n};\n\n", "const props = {\n    x: 'x',\n    y: 'y',\n    width: 'w',\n    height: 'h',\n    minimum: 's',\n    maximum: 'l',\n    diagonal: 'd'\n};\nconst propsList = Object.keys(props).map(key => props[key]).join('');\nconst numberPattern = '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?';\nconst findSpacesRegex = /\\s/g;\nconst parseExpressionRegExp = new RegExp(`^(${numberPattern}\\\\*)?([${propsList}])(/${numberPattern})?([-+]{1,2}${numberPattern})?$`, 'g');\n\nfunction throwInvalid(expression) {\n    throw new Error(`Invalid calc() expression: ${expression}`);\n}\n\nexport function evalCalcExpression(expression, bbox) {\n    const match = parseExpressionRegExp.exec(expression.replace(findSpacesRegex, ''));\n    if (!match) throwInvalid(expression);\n    parseExpressionRegExp.lastIndex = 0; // reset regex results for the next run\n    const [,multiply, property, divide, add] = match;\n    const { x, y, width, height } = bbox;\n    let value = 0;\n    switch (property) {\n        case props.width: {\n            value = width;\n            break;\n        }\n        case props.height: {\n            value = height;\n            break;\n        }\n        case props.x: {\n            value = x;\n            break;\n        }\n        case props.y: {\n            value = y;\n            break;\n        }\n        case props.minimum: {\n            value = Math.min(height, width);\n            break;\n        }\n        case props.maximum: {\n            value = Math.max(height, width);\n            break;\n        }\n        case props.diagonal: {\n            value = Math.sqrt((height * height) + (width * width));\n            break;\n        }\n    }\n    if (multiply) {\n        // e.g \"2*\"\n        value *= parseFloat(multiply);\n    }\n    if (divide) {\n        // e.g \"/2\"\n        value /= parseFloat(divide.slice(1));\n    }\n    if (add) {\n        value += evalAddExpression(add);\n    }\n    return value;\n}\n\nfunction evalAddExpression(addExpression) {\n    if (!addExpression) return 0;\n    const [sign] = addExpression;\n    switch (sign) {\n        case '+': {\n            return parseFloat(addExpression.substr(1));\n        }\n        case '-': {\n            return -parseFloat(addExpression.substr(1));\n        }\n    }\n    return parseFloat(addExpression);\n}\n\nexport function isCalcAttribute(value) {\n    return typeof value === 'string' && value.includes('calc');\n}\n\nconst calcStart = 'calc(';\nconst calcStartOffset = calcStart.length;\n\nexport function evalCalcAttribute(attributeValue, refBBox) {\n    let value = attributeValue;\n    let startSearchIndex = 0;\n    do {\n        let calcIndex = value.indexOf(calcStart, startSearchIndex);\n        if (calcIndex === -1) return value;\n        let calcEndIndex = calcIndex + calcStartOffset;\n        let brackets = 1;\n        findClosingBracket: do {\n            switch (value[calcEndIndex]) {\n                case '(': {\n                    brackets++;\n                    break;\n                }\n                case ')': {\n                    brackets--;\n                    if (brackets === 0) break findClosingBracket;\n                    break;\n                }\n                case undefined: {\n                    // Could not find the closing bracket.\n                    throwInvalid(value);\n                }\n            }\n            calcEndIndex++;\n        } while (true);\n        // Get the calc() expression without nested calcs (recursion)\n        let expression = value.slice(calcIndex + calcStartOffset, calcEndIndex);\n        if (isCalcAttribute(expression)) {\n            expression = evalCalcAttribute(expression, refBBox);\n        }\n        // Eval the calc() expression without nested calcs.\n        const calcValue = String(evalCalcExpression(expression, refBBox));\n        // Replace the calc() expression and continue search\n        value = value.slice(0, calcIndex) + calcValue + value.slice(calcEndIndex + 1);\n        startSearchIndex = calcIndex + calcValue.length;\n    } while (true);\n}\n", "// Geometry library.\n// -----------------\n\nexport * from './geometry.helpers.mjs';\nexport * from './bezier.mjs';\nexport * from './curve.mjs';\nexport * from './ellipse.mjs';\nexport * from './line.mjs';\nexport * from './path.mjs';\nexport * from './point.mjs';\nexport * from './polyline.mjs';\nexport * from './polygon.mjs';\nexport * from './rect.mjs';\nexport * from './types.mjs';\n\nimport * as _intersection from './intersection.mjs';\nexport const intersection = _intersection;\n", "// Declare shorthands to the most used math functions.\nconst {\n    round,\n    floor,\n    PI\n} = Math;\n\nexport const scale = {\n\n    // Return the `value` from the `domain` interval scaled to the `range` interval.\n    linear: function(domain, range, value) {\n\n        var domainSpan = domain[1] - domain[0];\n        var rangeSpan = range[1] - range[0];\n        return (((value - domain[0]) / domainSpan) * rangeSpan + range[0]) || 0;\n    }\n};\n\nexport const normalizeAngle = function(angle) {\n\n    return (angle % 360) + (angle < 0 ? 360 : 0);\n};\n\nexport const snapToGrid = function(value, gridSize) {\n\n    return gridSize * round(value / gridSize);\n};\n\nexport const toDeg = function(rad) {\n\n    return (180 * rad / PI) % 360;\n};\n\nexport const toRad = function(deg, over360) {\n\n    over360 = over360 || false;\n    deg = over360 ? deg : (deg % 360);\n    return deg * PI / 180;\n};\n\n// Return a random integer from the interval [min,max], inclusive.\nexport const random = function(min, max) {\n\n    if (max === undefined) {\n        // use first argument as max, min is 0\n        max = (min === undefined) ? 1 : min;\n        min = 0;\n\n    } else if (max < min) {\n        // switch max and min\n        const temp = min;\n        min = max;\n        max = temp;\n    }\n\n    return floor((Math.random() * (max - min + 1)) + min);\n};\n\n", "// @return the bearing (cardinal direction) of the line. For example N, W, or SE.\n// @returns {String} One of the following bearings : NE, E, SE, S, SW, W, NW, N.\nimport { toDeg, toRad } from './geometry.helpers.mjs';\n\nconst {\n    cos,\n    sin,\n    atan2\n} = Math;\n\nexport const bearing = function(p, q) {\n\n    var lat1 = toRad(p.y);\n    var lat2 = toRad(q.y);\n    var lon1 = p.x;\n    var lon2 = q.x;\n    var dLon = toRad(lon2 - lon1);\n    var y = sin(dLon) * cos(lat2);\n    var x = cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(dLon);\n    var brng = toDeg(atan2(y, x));\n\n    var bearings = ['NE', 'E', 'SE', 'S', 'SW', 'W', 'NW', 'N'];\n\n    var index = brng - 22.5;\n    if (index < 0)\n        index += 360;\n    index = parseInt(index / 45);\n\n    return bearings[index];\n};\n", "// @return {integer} length without sqrt\n// @note for applications where the exact length is not necessary (e.g. compare only)\nexport const squaredLength = function(start, end) {\n\n    var x0 = start.x;\n    var y0 = start.y;\n    var x1 = end.x;\n    var y1 = end.y;\n    return (x0 -= x1) * x0 + (y0 -= y1) * y0;\n};\n", "import { squaredLength } from './line.squaredLength.mjs';\n\nexport const length = function(start, end) {\n    return Math.sqrt(squaredLength(start, end));\n};\n", "export const types = {\n    Point: 1,\n    Line: 2,\n    Ellipse: 3,\n    Rect: 4,\n    Polyline: 5,\n    Polygon: 6,\n    Curve: 7,\n    Path: 8\n};\n", "/*\n    Point is the most basic object consisting of x/y coordinate.\n\n    Possible instantiations are:\n    * `Point(10, 20)`\n    * `new Point(10, 20)`\n    * `Point('10 20')`\n    * `Point(Point(10, 20))`\n*/\nimport { normalizeAngle, random, snapToGrid, toDeg, toRad } from './geometry.helpers.mjs';\nimport { bearing } from './line.bearing.mjs';\nimport { squaredLength } from './line.squaredLength.mjs';\nimport { length } from './line.length.mjs';\nimport { types } from './types.mjs';\n\nconst {\n    abs,\n    cos,\n    sin,\n    sqrt,\n    min,\n    max,\n    atan2,\n    round,\n    pow,\n    PI\n} = Math;\n\nexport const Point = function(x, y) {\n\n    if (!(this instanceof Point)) {\n        return new Point(x, y);\n    }\n\n    if (typeof x === 'string') {\n        var xy = x.split(x.indexOf('@') === -1 ? ' ' : '@');\n        x = parseFloat(xy[0]);\n        y = parseFloat(xy[1]);\n\n    } else if (Object(x) === x) {\n        y = x.y;\n        x = x.x;\n    }\n\n    this.x = x === undefined ? 0 : x;\n    this.y = y === undefined ? 0 : y;\n};\n\n// Alternative constructor, from polar coordinates.\n// @param {number} Distance.\n// @param {number} Angle in radians.\n// @param {point} [optional] Origin.\nPoint.fromPolar = function(distance, angle, origin) {\n\n    origin = new Point(origin);\n    var x = abs(distance * cos(angle));\n    var y = abs(distance * sin(angle));\n    var deg = normalizeAngle(toDeg(angle));\n\n    if (deg < 90) {\n        y = -y;\n\n    } else if (deg < 180) {\n        x = -x;\n        y = -y;\n\n    } else if (deg < 270) {\n        x = -x;\n    }\n\n    return new Point(origin.x + x, origin.y + y);\n};\n\n// Create a point with random coordinates that fall into the range `[x1, x2]` and `[y1, y2]`.\nPoint.random = function(x1, x2, y1, y2) {\n\n    return new Point(random(x1, x2), random(y1, y2));\n};\n\nPoint.prototype = {\n\n    type: types.Point,\n\n    chooseClosest: function(points) {\n\n        var n = points.length;\n        if (n === 1) return new Point(points[0]);\n        var closest = null;\n        var minSqrDistance = Infinity;\n        for (var i = 0; i < n; i++) {\n            var p = new Point(points[i]);\n            var sqrDistance = this.squaredDistance(p);\n            if (sqrDistance < minSqrDistance) {\n                closest = p;\n                minSqrDistance = sqrDistance;\n            }\n        }\n        return closest;\n    },\n\n    // If point lies outside rectangle `r`, return the nearest point on the boundary of rect `r`,\n    // otherwise return point itself.\n    // (see Squeak Smalltalk, Point>>adhereTo:)\n    adhereToRect: function(r) {\n\n        if (r.containsPoint(this)) {\n            return this;\n        }\n\n        this.x = min(max(this.x, r.x), r.x + r.width);\n        this.y = min(max(this.y, r.y), r.y + r.height);\n        return this;\n    },\n\n    // Compute the angle between vector from me to p1 and the vector from me to p2.\n    // ordering of points p1 and p2 is important!\n    // theta function's angle convention:\n    // returns angles between 0 and 180 when the angle is counterclockwise\n    // returns angles between 180 and 360 to convert clockwise angles into counterclockwise ones\n    // returns NaN if any of the points p1, p2 is coincident with this point\n    angleBetween: function(p1, p2) {\n\n        var angleBetween = (this.equals(p1) || this.equals(p2)) ? NaN : (this.theta(p2) - this.theta(p1));\n\n        if (angleBetween < 0) {\n            angleBetween += 360; // correction to keep angleBetween between 0 and 360\n        }\n\n        return angleBetween;\n    },\n\n    // Return the bearing between me and the given point.\n    bearing: function(point) {\n        return bearing(this, point);\n    },\n\n    // Returns change in angle from my previous position (-dx, -dy) to my new position\n    // relative to ref point.\n    changeInAngle: function(dx, dy, ref) {\n\n        // Revert the translation and measure the change in angle around x-axis.\n        return this.clone().offset(-dx, -dy).theta(ref) - this.theta(ref);\n    },\n\n    clone: function() {\n\n        return new Point(this);\n    },\n\n    // Returns the cross product of this point relative to two other points\n    // this point is the common point\n    // point p1 lies on the first vector, point p2 lies on the second vector\n    // watch out for the ordering of points p1 and p2!\n    // positive result indicates a clockwise (\"right\") turn from first to second vector\n    // negative result indicates a counterclockwise (\"left\") turn from first to second vector\n    // zero indicates that the first and second vector are collinear\n    // note that the above directions are reversed from the usual answer on the Internet\n    // that is because we are in a left-handed coord system (because the y-axis points downward)\n    cross: function(p1, p2) {\n\n        return (p1 && p2) ? (((p2.x - this.x) * (p1.y - this.y)) - ((p2.y - this.y) * (p1.x - this.x))) : NaN;\n    },\n\n    difference: function(dx, dy) {\n\n        if ((Object(dx) === dx)) {\n            dy = dx.y;\n            dx = dx.x;\n        }\n\n        return new Point(this.x - (dx || 0), this.y - (dy || 0));\n    },\n\n    // Returns distance between me and point `p`.\n    distance: function(p) {\n        return length(this, p);\n    },\n\n    // Returns the dot product of this point with given other point\n    dot: function(p) {\n\n        return p ? (this.x * p.x + this.y * p.y) : NaN;\n    },\n\n    equals: function(p) {\n\n        return !!p &&\n            this.x === p.x &&\n            this.y === p.y;\n    },\n\n    // Linear interpolation\n    lerp: function(p, t) {\n\n        var x = this.x;\n        var y = this.y;\n        return new Point((1 - t) * x + t * p.x, (1 - t) * y + t * p.y);\n    },\n\n    magnitude: function() {\n\n        return sqrt((this.x * this.x) + (this.y * this.y)) || 0.01;\n    },\n\n    // Returns a manhattan (taxi-cab) distance between me and point `p`.\n    manhattanDistance: function(p) {\n\n        return abs(p.x - this.x) + abs(p.y - this.y);\n    },\n\n    // Move point on line starting from ref ending at me by\n    // distance distance.\n    move: function(ref, distance) {\n\n        var theta = toRad((new Point(ref)).theta(this));\n        var offset = this.offset(cos(theta) * distance, -sin(theta) * distance);\n        return offset;\n    },\n\n    // Scales x and y such that the distance between the point and the origin (0,0) is equal to the given length.\n    normalize: function(length) {\n\n        var scale = (length || 1) / this.magnitude();\n        return this.scale(scale, scale);\n    },\n\n    // Offset me by the specified amount.\n    offset: function(dx, dy) {\n\n        if ((Object(dx) === dx)) {\n            dy = dx.y;\n            dx = dx.x;\n        }\n\n        this.x += dx || 0;\n        this.y += dy || 0;\n        return this;\n    },\n\n    // Returns a point that is the reflection of me with\n    // the center of inversion in ref point.\n    reflection: function(ref) {\n\n        return (new Point(ref)).move(this, this.distance(ref));\n    },\n\n    // Rotate point by angle around origin.\n    // Angle is flipped because this is a left-handed coord system (y-axis points downward).\n    rotate: function(origin, angle) {\n\n        if (angle === 0) return this;\n\n        origin = origin || new Point(0, 0);\n\n        angle = toRad(normalizeAngle(-angle));\n        var cosAngle = cos(angle);\n        var sinAngle = sin(angle);\n\n        var x = (cosAngle * (this.x - origin.x)) - (sinAngle * (this.y - origin.y)) + origin.x;\n        var y = (sinAngle * (this.x - origin.x)) + (cosAngle * (this.y - origin.y)) + origin.y;\n\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    round: function(precision) {\n\n        let f = 1; // case 0\n        if (precision) {\n            switch (precision) {\n                case 1: f = 10; break;\n                case 2: f = 100; break;\n                case 3: f = 1000; break;\n                default: f = pow(10, precision); break;\n            }\n        }\n\n        this.x = round(this.x * f) / f;\n        this.y = round(this.y * f) / f;\n        return this;\n    },\n\n    // Scale point with origin.\n    scale: function(sx, sy, origin) {\n\n        origin = (origin && new Point(origin)) || new Point(0, 0);\n        this.x = origin.x + sx * (this.x - origin.x);\n        this.y = origin.y + sy * (this.y - origin.y);\n        return this;\n    },\n\n    snapToGrid: function(gx, gy) {\n\n        this.x = snapToGrid(this.x, gx);\n        this.y = snapToGrid(this.y, gy || gx);\n        return this;\n    },\n\n    squaredDistance: function(p) {\n        return squaredLength(this, p);\n    },\n\n    // Compute the angle between me and `p` and the x axis.\n    // (cartesian-to-polar coordinates conversion)\n    // Return theta angle in degrees.\n    theta: function(p) {\n\n        p = new Point(p);\n\n        // Invert the y-axis.\n        var y = -(p.y - this.y);\n        var x = p.x - this.x;\n        var rad = atan2(y, x); // defined for all 0 corner cases\n\n        // Correction for III. and IV. quadrant.\n        if (rad < 0) {\n            rad = 2 * PI + rad;\n        }\n\n        return 180 * rad / PI;\n    },\n\n    toJSON: function() {\n\n        return { x: this.x, y: this.y };\n    },\n\n    // Converts rectangular to polar coordinates.\n    // An origin can be specified, otherwise it's 0@0.\n    toPolar: function(o) {\n\n        o = (o && new Point(o)) || new Point(0, 0);\n        var x = this.x;\n        var y = this.y;\n        this.x = sqrt((x - o.x) * (x - o.x) + (y - o.y) * (y - o.y)); // r\n        this.y = toRad(o.theta(new Point(x, y)));\n        return this;\n    },\n\n    toString: function() {\n\n        return this.x + '@' + this.y;\n    },\n\n    serialize: function() {\n\n        return this.x + ',' + this.y;\n    },\n\n    update: function(x, y) {\n\n        if ((Object(x) === x)) {\n            y = x.y;\n            x = x.x;\n        }\n\n        this.x = x || 0;\n        this.y = y || 0;\n        return this;\n    },\n\n    // Compute the angle between the vector from 0,0 to me and the vector from 0,0 to p.\n    // Returns NaN if p is at 0,0.\n    vectorAngle: function(p) {\n\n        var zero = new Point(0, 0);\n        return zero.angleBetween(this, p);\n    }\n};\n\nPoint.prototype.translate = Point.prototype.offset;\n\n// For backwards compatibility:\nexport const point = Point;\n", "import { Point } from './point.mjs';\nimport { Rect } from './rect.mjs';\nimport { bearing } from './line.bearing.mjs';\nimport { squaredLength } from './line.squaredLength.mjs';\nimport { length } from './line.length.mjs';\nimport { types } from './types.mjs';\n\nconst {\n    max,\n    min\n} = Math;\n\nexport const Line = function(p1, p2) {\n\n    if (!(this instanceof Line)) {\n        return new Line(p1, p2);\n    }\n\n    if (p1 instanceof Line) {\n        return new Line(p1.start, p1.end);\n    }\n\n    this.start = new Point(p1);\n    this.end = new Point(p2);\n};\n\nLine.prototype = {\n\n    type: types.Line,\n\n    // @returns the angle of incline of the line.\n    angle: function() {\n\n        var horizontalPoint = new Point(this.start.x + 1, this.start.y);\n        return this.start.angleBetween(this.end, horizontalPoint);\n    },\n\n    bbox: function() {\n\n        var left = min(this.start.x, this.end.x);\n        var top = min(this.start.y, this.end.y);\n        var right = max(this.start.x, this.end.x);\n        var bottom = max(this.start.y, this.end.y);\n\n        return new Rect(left, top, (right - left), (bottom - top));\n    },\n\n    // @return the bearing (cardinal direction) of the line. For example N, W, or SE.\n    // @returns {String} One of the following bearings : NE, E, SE, S, SW, W, NW, N.\n    bearing: function() {\n        return bearing(this.start, this.end);\n    },\n\n    clone: function() {\n\n        return new Line(this.start, this.end);\n    },\n\n    // @return {point} the closest point on the line to point `p`\n    closestPoint: function(p) {\n\n        return this.pointAt(this.closestPointNormalizedLength(p));\n    },\n\n    closestPointLength: function(p) {\n\n        return this.closestPointNormalizedLength(p) * this.length();\n    },\n\n    // @return {number} the normalized length of the closest point on the line to point `p`\n    closestPointNormalizedLength: function(p) {\n\n        var product = this.vector().dot((new Line(this.start, p)).vector());\n        var cpNormalizedLength = min(1, max(0, product / this.squaredLength()));\n\n        // cpNormalizedLength returns `NaN` if this line has zero length\n        // we can work with that - if `NaN`, return 0\n        if (cpNormalizedLength !== cpNormalizedLength) return 0; // condition evaluates to `true` if and only if cpNormalizedLength is `NaN`\n        // (`NaN` is the only value that is not equal to itself)\n\n        return cpNormalizedLength;\n    },\n\n    closestPointTangent: function(p) {\n\n        return this.tangentAt(this.closestPointNormalizedLength(p));\n    },\n\n    // Returns `true` if the point lies on the line.\n    containsPoint: function(p) {\n\n        var start = this.start;\n        var end = this.end;\n\n        if (start.cross(p, end) !== 0) return false;\n        // else: cross product of 0 indicates that this line and the vector to `p` are collinear\n\n        var length = this.length();\n        if ((new Line(start, p)).length() > length) return false;\n        if ((new Line(p, end)).length() > length) return false;\n        // else: `p` lies between start and end of the line\n\n        return true;\n    },\n\n    // Divides the line into two at requested `ratio` between 0 and 1.\n    divideAt: function(ratio) {\n\n        var dividerPoint = this.pointAt(ratio);\n\n        // return array with two lines\n        return [\n            new Line(this.start, dividerPoint),\n            new Line(dividerPoint, this.end)\n        ];\n    },\n\n    // Divides the line into two at requested `length`.\n    divideAtLength: function(length) {\n\n        var dividerPoint = this.pointAtLength(length);\n\n        // return array with two new lines\n        return [\n            new Line(this.start, dividerPoint),\n            new Line(dividerPoint, this.end)\n        ];\n    },\n\n    equals: function(l) {\n\n        return !!l &&\n            this.start.x === l.start.x &&\n            this.start.y === l.start.y &&\n            this.end.x === l.end.x &&\n            this.end.y === l.end.y;\n    },\n\n    // @return {point} Point where I'm intersecting a line.\n    // @return [point] Points where I'm intersecting a rectangle.\n    // @see Squeak Smalltalk, LineSegment>>intersectionWith:\n    intersect: function(shape, opt) {\n\n        if (shape && shape.intersectionWithLine) {\n            var intersection = shape.intersectionWithLine(this, opt);\n\n            // Backwards compatibility\n            if (intersection && (shape instanceof Line)) {\n                intersection = intersection[0];\n            }\n\n            return intersection;\n        }\n\n        return null;\n    },\n\n    intersectionWithLine: function(line) {\n\n        var pt1Dir = new Point(this.end.x - this.start.x, this.end.y - this.start.y);\n        var pt2Dir = new Point(line.end.x - line.start.x, line.end.y - line.start.y);\n        var det = (pt1Dir.x * pt2Dir.y) - (pt1Dir.y * pt2Dir.x);\n        var deltaPt = new Point(line.start.x - this.start.x, line.start.y - this.start.y);\n        var alpha = (deltaPt.x * pt2Dir.y) - (deltaPt.y * pt2Dir.x);\n        var beta = (deltaPt.x * pt1Dir.y) - (deltaPt.y * pt1Dir.x);\n\n        if (det === 0 || alpha * det < 0 || beta * det < 0) {\n            // No intersection found.\n            return null;\n        }\n\n        if (det > 0) {\n            if (alpha > det || beta > det) {\n                return null;\n            }\n\n        } else {\n            if (alpha < det || beta < det) {\n                return null;\n            }\n        }\n\n        return [new Point(\n            this.start.x + (alpha * pt1Dir.x / det),\n            this.start.y + (alpha * pt1Dir.y / det)\n        )];\n    },\n\n    isDifferentiable: function() {\n\n        return !this.start.equals(this.end);\n    },\n\n    // @return {double} length of the line\n    length: function() {\n        return length(this.start, this.end);\n    },\n\n    // @return {point} my midpoint\n    midpoint: function() {\n\n        return new Point(\n            (this.start.x + this.end.x) / 2,\n            (this.start.y + this.end.y) / 2\n        );\n    },\n\n    parallel: function(distance) {\n        const l = this.clone();\n        if (!this.isDifferentiable()) return l;\n        const { start, end } = l;\n        const eRef = start.clone().rotate(end, 270);\n        const sRef = end.clone().rotate(start, 90);\n        start.move(sRef, distance);\n        end.move(eRef, distance);\n        return l;\n    },\n\n    // @return {point} my point at 't' <0,1>\n    pointAt: function(t) {\n\n        var start = this.start;\n        var end = this.end;\n\n        if (t <= 0) return start.clone();\n        if (t >= 1) return end.clone();\n\n        return start.lerp(end, t);\n    },\n\n    pointAtLength: function(length) {\n\n        var start = this.start;\n        var end = this.end;\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        var lineLength = this.length();\n        if (length >= lineLength) return (fromStart ? end.clone() : start.clone());\n\n        return this.pointAt((fromStart ? (length) : (lineLength - length)) / lineLength);\n    },\n\n    // @return {number} the offset of the point `p` from the line. + if the point `p` is on the right side of the line, - if on the left and 0 if on the line.\n    pointOffset: function(p) {\n\n        // Find the sign of the determinant of vectors (start,end), where p is the query point.\n        p = new Point(p);\n        var start = this.start;\n        var end = this.end;\n        var determinant = ((end.x - start.x) * (p.y - start.y) - (end.y - start.y) * (p.x - start.x));\n\n        return determinant / this.length();\n    },\n\n    rotate: function(origin, angle) {\n\n        this.start.rotate(origin, angle);\n        this.end.rotate(origin, angle);\n        return this;\n    },\n\n    round: function(precision) {\n\n        this.start.round(precision);\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.start.scale(sx, sy, origin);\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    // @return {number} scale the line so that it has the requested length\n    setLength: function(length) {\n\n        var currentLength = this.length();\n        if (!currentLength) return this;\n\n        var scaleFactor = length / currentLength;\n        return this.scale(scaleFactor, scaleFactor, this.start);\n    },\n\n    // @return {integer} length without sqrt\n    // @note for applications where the exact length is not necessary (e.g. compare only)\n    squaredLength: function() {\n        return squaredLength(this.start, this.end);\n    },\n\n    tangentAt: function(t) {\n\n        if (!this.isDifferentiable()) return null;\n\n        var start = this.start;\n        var end = this.end;\n\n        var tangentStart = this.pointAt(t); // constrains `t` between 0 and 1\n\n        var tangentLine = new Line(start, end);\n        tangentLine.translate(tangentStart.x - start.x, tangentStart.y - start.y); // move so that tangent line starts at the point requested\n\n        return tangentLine;\n    },\n\n    tangentAtLength: function(length) {\n\n        if (!this.isDifferentiable()) return null;\n\n        var start = this.start;\n        var end = this.end;\n\n        var tangentStart = this.pointAtLength(length);\n\n        var tangentLine = new Line(start, end);\n        tangentLine.translate(tangentStart.x - start.x, tangentStart.y - start.y); // move so that tangent line starts at the point requested\n\n        return tangentLine;\n    },\n\n    toString: function() {\n\n        return this.start.toString() + ' ' + this.end.toString();\n    },\n\n    serialize: function() {\n\n        return this.start.serialize() + ' ' + this.end.serialize();\n    },\n\n    translate: function(tx, ty) {\n\n        this.start.translate(tx, ty);\n        this.end.translate(tx, ty);\n        return this;\n    },\n\n    // @return vector {point} of the line\n    vector: function() {\n\n        return new Point(this.end.x - this.start.x, this.end.y - this.start.y);\n    }\n};\n\n// For backwards compatibility:\nLine.prototype.intersection = Line.prototype.intersect;\n\n\n// For backwards compatibility:\nexport const line = Line;\n", "import { Rect } from './rect.mjs';\nimport { Point } from './point.mjs';\nimport { types } from './types.mjs';\n\nconst {\n    sqrt,\n    round,\n    pow\n} = Math;\n\nexport const Ellipse = function(c, a, b) {\n\n    if (!(this instanceof Ellipse)) {\n        return new Ellipse(c, a, b);\n    }\n\n    if (c instanceof Ellipse) {\n        return new Ellipse(new Point(c.x, c.y), c.a, c.b);\n    }\n\n    c = new Point(c);\n    this.x = c.x;\n    this.y = c.y;\n    this.a = a;\n    this.b = b;\n};\n\nEllipse.fromRect = function(rect) {\n\n    rect = new Rect(rect);\n    return new Ellipse(rect.center(), rect.width / 2, rect.height / 2);\n};\n\nEllipse.prototype = {\n\n    type: types.Ellipse,\n\n    bbox: function() {\n\n        return new Rect(this.x - this.a, this.y - this.b, 2 * this.a, 2 * this.b);\n    },\n\n    /**\n     * @returns {g.Point}\n     */\n    center: function() {\n\n        return new Point(this.x, this.y);\n    },\n\n    clone: function() {\n\n        return new Ellipse(this);\n    },\n\n    /**\n     * @param {g.Point} p\n     * @returns {boolean}\n     */\n    containsPoint: function(p) {\n\n        return this.normalizedDistance(p) <= 1;\n    },\n\n    equals: function(ellipse) {\n\n        return !!ellipse &&\n            ellipse.x === this.x &&\n            ellipse.y === this.y &&\n            ellipse.a === this.a &&\n            ellipse.b === this.b;\n    },\n\n    // inflate by dx and dy\n    // @param dx {delta_x} representing additional size to x\n    // @param dy {delta_y} representing additional size to y -\n    // dy param is not required -> in that case y is sized by dx\n    inflate: function(dx, dy) {\n        if (dx === undefined) {\n            dx = 0;\n        }\n\n        if (dy === undefined) {\n            dy = dx;\n        }\n\n        this.a += 2 * dx;\n        this.b += 2 * dy;\n\n        return this;\n    },\n\n    intersectionWithLine: function(line) {\n\n        var intersections = [];\n        var a1 = line.start;\n        var a2 = line.end;\n        var rx = this.a;\n        var ry = this.b;\n        var dir = line.vector();\n        var diff = a1.difference(new Point(this));\n        var mDir = new Point(dir.x / (rx * rx), dir.y / (ry * ry));\n        var mDiff = new Point(diff.x / (rx * rx), diff.y / (ry * ry));\n\n        var a = dir.dot(mDir);\n        var b = dir.dot(mDiff);\n        var c = diff.dot(mDiff) - 1.0;\n        var d = b * b - a * c;\n\n        if (d < 0) {\n            return null;\n        } else if (d > 0) {\n            var root = sqrt(d);\n            var ta = (-b - root) / a;\n            var tb = (-b + root) / a;\n\n            if ((ta < 0 || 1 < ta) && (tb < 0 || 1 < tb)) {\n                // if ((ta < 0 && tb < 0) || (ta > 1 && tb > 1)) outside else inside\n                return null;\n            } else {\n                if (0 <= ta && ta <= 1) intersections.push(a1.lerp(a2, ta));\n                if (0 <= tb && tb <= 1) intersections.push(a1.lerp(a2, tb));\n            }\n        } else {\n            var t = -b / a;\n            if (0 <= t && t <= 1) {\n                intersections.push(a1.lerp(a2, t));\n            } else {\n                // outside\n                return null;\n            }\n        }\n\n        return intersections;\n    },\n\n    // Find point on me where line from my center to\n    // point p intersects my boundary.\n    // @param {number} angle If angle is specified, intersection with rotated ellipse is computed.\n    intersectionWithLineFromCenterToPoint: function(p, angle) {\n\n        p = new Point(p);\n\n        if (angle) p.rotate(new Point(this.x, this.y), angle);\n\n        var dx = p.x - this.x;\n        var dy = p.y - this.y;\n        var result;\n\n        if (dx === 0) {\n            result = this.bbox().pointNearestToPoint(p);\n            if (angle) return result.rotate(new Point(this.x, this.y), -angle);\n            return result;\n        }\n\n        var m = dy / dx;\n        var mSquared = m * m;\n        var aSquared = this.a * this.a;\n        var bSquared = this.b * this.b;\n\n        var x = sqrt(1 / ((1 / aSquared) + (mSquared / bSquared)));\n        x = dx < 0 ? -x : x;\n\n        var y = m * x;\n        result = new Point(this.x + x, this.y + y);\n\n        if (angle) return result.rotate(new Point(this.x, this.y), -angle);\n        return result;\n    },\n\n    /**\n     * @param {g.Point} point\n     * @returns {number} result < 1 - inside ellipse, result == 1 - on ellipse boundary, result > 1 - outside\n     */\n    normalizedDistance: function(point) {\n\n        var x0 = point.x;\n        var y0 = point.y;\n        var a = this.a;\n        var b = this.b;\n        var x = this.x;\n        var y = this.y;\n\n        return ((x0 - x) * (x0 - x)) / (a * a) + ((y0 - y) * (y0 - y)) / (b * b);\n    },\n\n    round: function(precision) {\n\n        let f = 1; // case 0\n        if (precision) {\n            switch (precision) {\n                case 1: f = 10; break;\n                case 2: f = 100; break;\n                case 3: f = 1000; break;\n                default: f = pow(10, precision); break;\n            }\n        }\n\n        this.x = round(this.x * f) / f;\n        this.y = round(this.y * f) / f;\n        this.a = round(this.a * f) / f;\n        this.b = round(this.b * f) / f;\n        return this;\n    },\n\n    /** Compute angle between tangent and x axis\n     * @param {g.Point} p Point of tangency, it has to be on ellipse boundaries.\n     * @returns {number} angle between tangent and x axis\n     */\n    tangentTheta: function(p) {\n\n        var refPointDelta = 30;\n        var x0 = p.x;\n        var y0 = p.y;\n        var a = this.a;\n        var b = this.b;\n        var center = this.bbox().center();\n        var m = center.x;\n        var n = center.y;\n\n        var q1 = x0 > center.x + a / 2;\n        var q3 = x0 < center.x - a / 2;\n\n        var y, x;\n        if (q1 || q3) {\n            y = x0 > center.x ? y0 - refPointDelta : y0 + refPointDelta;\n            x = (a * a / (x0 - m)) - (a * a * (y0 - n) * (y - n)) / (b * b * (x0 - m)) + m;\n\n        } else {\n            x = y0 > center.y ? x0 + refPointDelta : x0 - refPointDelta;\n            y = (b * b / (y0 - n)) - (b * b * (x0 - m) * (x - m)) / (a * a * (y0 - n)) + n;\n        }\n\n        return (new Point(x, y)).theta(p);\n\n    },\n\n    toString: function() {\n\n        return (new Point(this.x, this.y)).toString() + ' ' + this.a + ' ' + this.b;\n    }\n};\n\n// For backwards compatibility:\nexport const ellipse = Ellipse;\n", "import { toRad } from './geometry.helpers.mjs';\nimport { Line } from './line.mjs';\nimport { Point } from './point.mjs';\nimport { Ellipse } from './ellipse.mjs';\nimport { types } from './types.mjs';\n\nconst {\n    abs,\n    cos,\n    sin,\n    min,\n    max,\n    round,\n    pow\n} = Math;\n\nexport const Rect = function(x, y, w, h) {\n\n    if (!(this instanceof Rect)) {\n        return new Rect(x, y, w, h);\n    }\n\n    if ((Object(x) === x)) {\n        y = x.y;\n        w = x.width;\n        h = x.height;\n        x = x.x;\n    }\n\n    this.x = x === undefined ? 0 : x;\n    this.y = y === undefined ? 0 : y;\n    this.width = w === undefined ? 0 : w;\n    this.height = h === undefined ? 0 : h;\n};\n\nRect.fromEllipse = function(e) {\n\n    e = new Ellipse(e);\n    return new Rect(e.x - e.a, e.y - e.b, 2 * e.a, 2 * e.b);\n};\n\nRect.fromPointUnion = function(...points) {\n\n    if (points.length === 0) return null;\n\n    const p = new Point();\n    let minX, minY, maxX, maxY;\n    minX = minY = Infinity;\n    maxX = maxY = -Infinity;\n\n    for (let i = 0; i < points.length; i++) {\n        p.update(points[i]);\n        const x = p.x;\n        const y = p.y;\n\n        if (x < minX) minX = x;\n        if (x > maxX) maxX = x;\n        if (y < minY) minY = y;\n        if (y > maxY) maxY = y;\n    }\n\n    return new Rect(minX, minY, maxX - minX, maxY - minY);\n};\n\nRect.fromRectUnion = function(...rects) {\n\n    if (rects.length === 0) return null;\n\n    const r = new Rect();\n    let minX, minY, maxX, maxY;\n    minX = minY = Infinity;\n    maxX = maxY = -Infinity;\n\n    for (let i = 0; i < rects.length; i++) {\n        r.update(rects[i]);\n        const x = r.x;\n        const y = r.y;\n        const mX = x + r.width;\n        const mY = y + r.height;\n\n        if (x < minX) minX = x;\n        if (mX > maxX) maxX = mX;\n        if (y < minY) minY = y;\n        if (mY > maxY) maxY = mY;\n    }\n\n    return new Rect(minX, minY, maxX - minX, maxY - minY);\n};\n\nRect.prototype = {\n\n    type: types.Rect,\n\n    // Find my bounding box when I'm rotated with the center of rotation in the center of me.\n    // @return r {rectangle} representing a bounding box\n    bbox: function(angle) {\n        return this.clone().rotateAroundCenter(angle);\n    },\n\n    rotateAroundCenter: function(angle) {\n        if (!angle) return this;\n        const { width, height } = this;\n        const theta = toRad(angle);\n        const st = abs(sin(theta));\n        const ct = abs(cos(theta));\n        const w = width * ct + height * st;\n        const h = width * st + height * ct;\n        this.x += (width - w) / 2;\n        this.y += (height - h) / 2;\n        this.width = w;\n        this.height = h;\n        return this;\n    },\n\n    bottomLeft: function() {\n\n        return new Point(this.x, this.y + this.height);\n    },\n\n    bottomLine: function() {\n\n        return new Line(this.bottomLeft(), this.bottomRight());\n    },\n\n    bottomMiddle: function() {\n\n        return new Point(this.x + this.width / 2, this.y + this.height);\n    },\n\n    center: function() {\n\n        return new Point(this.x + this.width / 2, this.y + this.height / 2);\n    },\n\n    clone: function() {\n\n        return new Rect(this);\n    },\n\n    // @return {bool} true if point p is inside me.\n    containsPoint: function(p) {\n        \n        if (!(p instanceof Point)) {\n            p = new Point(p);\n        }\n        return p.x >= this.x && p.x <= this.x + this.width && p.y >= this.y && p.y <= this.y + this.height;\n    },\n\n    // @return {bool} true if rectangle `r` is inside me.\n    containsRect: function(r) {\n\n        var r0 = new Rect(this).normalize();\n        var r1 = new Rect(r).normalize();\n        var w0 = r0.width;\n        var h0 = r0.height;\n        var w1 = r1.width;\n        var h1 = r1.height;\n\n        if (!w0 || !h0 || !w1 || !h1) {\n            // At least one of the dimensions is 0\n            return false;\n        }\n\n        var x0 = r0.x;\n        var y0 = r0.y;\n        var x1 = r1.x;\n        var y1 = r1.y;\n\n        w1 += x1;\n        w0 += x0;\n        h1 += y1;\n        h0 += y0;\n\n        return x0 <= x1 && w1 <= w0 && y0 <= y1 && h1 <= h0;\n    },\n\n    corner: function() {\n\n        return new Point(this.x + this.width, this.y + this.height);\n    },\n\n    // @return {boolean} true if rectangles are equal.\n    equals: function(r) {\n\n        var mr = (new Rect(this)).normalize();\n        var nr = (new Rect(r)).normalize();\n        return mr.x === nr.x && mr.y === nr.y && mr.width === nr.width && mr.height === nr.height;\n    },\n\n    // inflate by dx and dy, recompute origin [x, y]\n    // @param dx {delta_x} representing additional size to x\n    // @param dy {delta_y} representing additional size to y -\n    // dy param is not required -> in that case y is sized by dx\n    inflate: function(dx, dy) {\n\n        if (dx === undefined) {\n            dx = 0;\n        }\n\n        if (dy === undefined) {\n            dy = dx;\n        }\n\n        this.x -= dx;\n        this.y -= dy;\n        this.width += 2 * dx;\n        this.height += 2 * dy;\n\n        return this;\n    },\n\n    // @return {rect} if rectangles intersect, {null} if not.\n    intersect: function(r) {\n\n        var myOrigin = this.origin();\n        var myCorner = this.corner();\n        var rOrigin = r.origin();\n        var rCorner = r.corner();\n\n        // No intersection found\n        if (rCorner.x <= myOrigin.x ||\n            rCorner.y <= myOrigin.y ||\n            rOrigin.x >= myCorner.x ||\n            rOrigin.y >= myCorner.y) return null;\n\n        var x = max(myOrigin.x, rOrigin.x);\n        var y = max(myOrigin.y, rOrigin.y);\n\n        return new Rect(x, y, min(myCorner.x, rCorner.x) - x, min(myCorner.y, rCorner.y) - y);\n    },\n\n    intersectionWithLine: function(line) {\n\n        var r = this;\n        var rectLines = [r.topLine(), r.rightLine(), r.bottomLine(), r.leftLine()];\n        var points = [];\n        var dedupeArr = [];\n        var pt, i;\n\n        var n = rectLines.length;\n        for (i = 0; i < n; i++) {\n\n            pt = line.intersect(rectLines[i]);\n            if (pt !== null && dedupeArr.indexOf(pt.toString()) < 0) {\n                points.push(pt);\n                dedupeArr.push(pt.toString());\n            }\n        }\n\n        return points.length > 0 ? points : null;\n    },\n\n    // Find point on my boundary where line starting\n    // from my center ending in point p intersects me.\n    // @param {number} angle If angle is specified, intersection with rotated rectangle is computed.\n    intersectionWithLineFromCenterToPoint: function(p, angle) {\n\n        p = new Point(p);\n        var center = new Point(this.x + this.width / 2, this.y + this.height / 2);\n        var result;\n\n        if (angle) p.rotate(center, angle);\n\n        // (clockwise, starting from the top side)\n        var sides = [\n            this.topLine(),\n            this.rightLine(),\n            this.bottomLine(),\n            this.leftLine()\n        ];\n        var connector = new Line(center, p);\n\n        for (var i = sides.length - 1; i >= 0; --i) {\n            var intersection = sides[i].intersection(connector);\n            if (intersection !== null) {\n                result = intersection;\n                break;\n            }\n        }\n        if (result && angle) result.rotate(center, -angle);\n        return result;\n    },\n\n    leftLine: function() {\n\n        return new Line(this.topLeft(), this.bottomLeft());\n    },\n\n    leftMiddle: function() {\n\n        return new Point(this.x, this.y + this.height / 2);\n    },\n\n    maxRectScaleToFit: function(rect, origin) {\n\n        rect = new Rect(rect);\n        origin || (origin = rect.center());\n\n        var sx1, sx2, sx3, sx4, sy1, sy2, sy3, sy4;\n        var ox = origin.x;\n        var oy = origin.y;\n\n        // Here we find the maximal possible scale for all corner points (for x and y axis) of the rectangle,\n        // so when the scale is applied the point is still inside the rectangle.\n\n        sx1 = sx2 = sx3 = sx4 = sy1 = sy2 = sy3 = sy4 = Infinity;\n\n        // Top Left\n        var p1 = rect.topLeft();\n        if (p1.x < ox) {\n            sx1 = (this.x - ox) / (p1.x - ox);\n        }\n        if (p1.y < oy) {\n            sy1 = (this.y - oy) / (p1.y - oy);\n        }\n        // Bottom Right\n        var p2 = rect.bottomRight();\n        if (p2.x > ox) {\n            sx2 = (this.x + this.width - ox) / (p2.x - ox);\n        }\n        if (p2.y > oy) {\n            sy2 = (this.y + this.height - oy) / (p2.y - oy);\n        }\n        // Top Right\n        var p3 = rect.topRight();\n        if (p3.x > ox) {\n            sx3 = (this.x + this.width - ox) / (p3.x - ox);\n        }\n        if (p3.y < oy) {\n            sy3 = (this.y - oy) / (p3.y - oy);\n        }\n        // Bottom Left\n        var p4 = rect.bottomLeft();\n        if (p4.x < ox) {\n            sx4 = (this.x - ox) / (p4.x - ox);\n        }\n        if (p4.y > oy) {\n            sy4 = (this.y + this.height - oy) / (p4.y - oy);\n        }\n\n        return {\n            sx: min(sx1, sx2, sx3, sx4),\n            sy: min(sy1, sy2, sy3, sy4)\n        };\n    },\n\n    maxRectUniformScaleToFit: function(rect, origin) {\n\n        var scale = this.maxRectScaleToFit(rect, origin);\n        return min(scale.sx, scale.sy);\n    },\n\n    // Move and expand me.\n    // @param r {rectangle} representing deltas\n    moveAndExpand: function(r) {\n\n        this.x += r.x || 0;\n        this.y += r.y || 0;\n        this.width += r.width || 0;\n        this.height += r.height || 0;\n        return this;\n    },\n\n    // Normalize the rectangle; i.e., make it so that it has a non-negative width and height.\n    // If width < 0 the function swaps the left and right corners,\n    // and it swaps the top and bottom corners if height < 0\n    // like in http://qt-project.org/doc/qt-4.8/qrectf.html#normalized\n    normalize: function() {\n\n        var newx = this.x;\n        var newy = this.y;\n        var newwidth = this.width;\n        var newheight = this.height;\n        if (this.width < 0) {\n            newx = this.x + this.width;\n            newwidth = -this.width;\n        }\n        if (this.height < 0) {\n            newy = this.y + this.height;\n            newheight = -this.height;\n        }\n        this.x = newx;\n        this.y = newy;\n        this.width = newwidth;\n        this.height = newheight;\n        return this;\n    },\n\n    // Offset me by the specified amount.\n    offset: function(dx, dy) {\n\n        // pretend that this is a point and call offset()\n        // rewrites x and y according to dx and dy\n        return Point.prototype.offset.call(this, dx, dy);\n    },\n\n    origin: function() {\n\n        return new Point(this.x, this.y);\n    },\n\n    // @return {point} a point on my boundary nearest to the given point.\n    // @see Squeak Smalltalk, Rectangle>>pointNearestTo:\n    pointNearestToPoint: function(point) {\n\n        point = new Point(point);\n        if (this.containsPoint(point)) {\n            var side = this.sideNearestToPoint(point);\n            switch (side) {\n                case 'right':\n                    return new Point(this.x + this.width, point.y);\n                case 'left':\n                    return new Point(this.x, point.y);\n                case 'bottom':\n                    return new Point(point.x, this.y + this.height);\n                case 'top':\n                    return new Point(point.x, this.y);\n            }\n        }\n        return point.adhereToRect(this);\n    },\n\n    rightLine: function() {\n\n        return new Line(this.topRight(), this.bottomRight());\n    },\n\n    rightMiddle: function() {\n\n        return new Point(this.x + this.width, this.y + this.height / 2);\n    },\n\n    round: function(precision) {\n\n        let f = 1; // case 0\n        if (precision) {\n            switch (precision) {\n                case 1: f = 10; break;\n                case 2: f = 100; break;\n                case 3: f = 1000; break;\n                default: f = pow(10, precision); break;\n            }\n        }\n\n        this.x = round(this.x * f) / f;\n        this.y = round(this.y * f) / f;\n        this.width = round(this.width * f) / f;\n        this.height = round(this.height * f) / f;\n        return this;\n    },\n\n    // Scale rectangle with origin.\n    scale: function(sx, sy, origin) {\n\n        origin = this.origin().scale(sx, sy, origin);\n        this.x = origin.x;\n        this.y = origin.y;\n        this.width *= sx;\n        this.height *= sy;\n        return this;\n    },\n\n    // @return {string} (left|right|top|bottom) side which is nearest to point\n    // @see Squeak Smalltalk, Rectangle>>sideNearestTo:\n    sideNearestToPoint: function(point) {\n\n        point = new Point(point);\n        var distToLeft = point.x - this.x;\n        var distToRight = (this.x + this.width) - point.x;\n        var distToTop = point.y - this.y;\n        var distToBottom = (this.y + this.height) - point.y;\n        var closest = distToLeft;\n        var side = 'left';\n\n        if (distToRight < closest) {\n            closest = distToRight;\n            side = 'right';\n        }\n        if (distToTop < closest) {\n            closest = distToTop;\n            side = 'top';\n        }\n        if (distToBottom < closest) {\n            // closest = distToBottom;\n            side = 'bottom';\n        }\n        return side;\n    },\n\n    snapToGrid: function(gx, gy) {\n\n        var origin = this.origin().snapToGrid(gx, gy);\n        var corner = this.corner().snapToGrid(gx, gy);\n        this.x = origin.x;\n        this.y = origin.y;\n        this.width = corner.x - origin.x;\n        this.height = corner.y - origin.y;\n        return this;\n    },\n\n    toJSON: function() {\n\n        return { x: this.x, y: this.y, width: this.width, height: this.height };\n    },\n\n    topLine: function() {\n\n        return new Line(this.topLeft(), this.topRight());\n    },\n\n    topMiddle: function() {\n\n        return new Point(this.x + this.width / 2, this.y);\n    },\n\n    topRight: function() {\n\n        return new Point(this.x + this.width, this.y);\n    },\n\n    toString: function() {\n\n        return this.origin().toString() + ' ' + this.corner().toString();\n    },\n\n    // @return {rect} representing the union of both rectangles.\n    union: function(rect) {\n\n        return Rect.fromRectUnion(this, rect);\n    },\n\n    update: function(x, y, w, h) {\n\n        if ((Object(x) === x)) {\n            y = x.y;\n            w = x.width;\n            h = x.height;\n            x = x.x;\n        }\n\n        this.x = x || 0;\n        this.y = y || 0;\n        this.width = w || 0;\n        this.height = h || 0;\n        return this;\n    }\n};\n\nRect.prototype.bottomRight = Rect.prototype.corner;\n\nRect.prototype.topLeft = Rect.prototype.origin;\n\nRect.prototype.translate = Rect.prototype.offset;\n\n// For backwards compatibility:\nexport const rect = Rect;\n", "export function parsePoints(svgString) {\n\n    // Step 1: Discard surrounding spaces\n    const trimmedString = svgString.trim();\n    if (trimmedString === '') return [];\n\n    const points = [];\n\n    // Step 2: Split at commas (+ their surrounding spaces) or at multiple spaces\n    // ReDoS mitigation: Have an anchor at the beginning of each alternation\n    // Note: This doesn't simplify double (or more) commas - causes empty coords\n    // This regex is used by `split()`, so it doesn't need to use /g\n    const coords = trimmedString.split(/\\b\\s*,\\s*|,\\s*|\\s+/);\n\n    const numCoords = coords.length;\n    for (let i = 0; i < numCoords; i += 2) {\n        // Step 3: Convert each coord to number\n        // Note: If the coord cannot be converted to a number, it will be `NaN`\n        // Note: If the coord is empty (\"\", e.g. from \",,\" input), it will be `0`\n        // Note: If we end up with an odd number of coords, the last point's second coord will be `NaN`\n        points.push({ x: +coords[i], y: +coords[i + 1] });\n    }\n    return points;\n}\n\nexport function clonePoints(points) {\n    const numPoints = points.length;\n    if (numPoints === 0) return [];\n    const newPoints = [];\n    for (let i = 0; i < numPoints; i++) {\n        const point = points[i].clone();\n        newPoints.push(point);\n    }\n    return newPoints;\n}\n\n// Returns a convex-hull polyline from this polyline.\n// Implements the Graham scan (https://en.wikipedia.org/wiki/Graham_scan).\n// Output polyline starts at the first element of the original polyline that is on the hull, then continues clockwise.\n// Minimal polyline is found (only vertices of the hull are reported, no collinear points).\nexport function convexHull(points) {\n\n    const { abs } = Math;\n\n    var i;\n    var n;\n\n    var numPoints = points.length;\n    if (numPoints === 0) return []; // if points array is empty\n\n    // step 1: find the starting point - point with the lowest y (if equality, highest x)\n    var startPoint;\n    for (i = 0; i < numPoints; i++) {\n        if (startPoint === undefined) {\n            // if this is the first point we see, set it as start point\n            startPoint = points[i];\n\n        } else if (points[i].y < startPoint.y) {\n            // start point should have lowest y from all points\n            startPoint = points[i];\n\n        } else if ((points[i].y === startPoint.y) && (points[i].x > startPoint.x)) {\n            // if two points have the lowest y, choose the one that has highest x\n            // there are no points to the right of startPoint - no ambiguity about theta 0\n            // if there are several coincident start point candidates, first one is reported\n            startPoint = points[i];\n        }\n    }\n\n    // step 2: sort the list of points\n    // sorting by angle between line from startPoint to point and the x-axis (theta)\n\n    // step 2a: create the point records = [point, originalIndex, angle]\n    var sortedPointRecords = [];\n    for (i = 0; i < numPoints; i++) {\n\n        var angle = startPoint.theta(points[i]);\n        if (angle === 0) {\n            angle = 360; // give highest angle to start point\n            // the start point will end up at end of sorted list\n            // the start point will end up at beginning of hull points list\n        }\n\n        var entry = [points[i], i, angle];\n        sortedPointRecords.push(entry);\n    }\n\n    // step 2b: sort the list in place\n    sortedPointRecords.sort(function(record1, record2) {\n        // returning a negative number here sorts record1 before record2\n        // if first angle is smaller than second, first angle should come before second\n\n        var sortOutput = record1[2] - record2[2];  // negative if first angle smaller\n        if (sortOutput === 0) {\n            // if the two angles are equal, sort by originalIndex\n            sortOutput = record2[1] - record1[1]; // negative if first index larger\n            // coincident points will be sorted in reverse-numerical order\n            // so the coincident points with lower original index will be considered first\n        }\n\n        return sortOutput;\n    });\n\n    // step 2c: duplicate start record from the top of the stack to the bottom of the stack\n    if (sortedPointRecords.length > 2) {\n        var startPointRecord = sortedPointRecords[sortedPointRecords.length - 1];\n        sortedPointRecords.unshift(startPointRecord);\n    }\n\n    // step 3a: go through sorted points in order and find those with right turns\n    // we want to get our results in clockwise order\n    var insidePoints = {}; // dictionary of points with left turns - cannot be on the hull\n    var hullPointRecords = []; // stack of records with right turns - hull point candidates\n\n    var currentPointRecord;\n    var currentPoint;\n    var lastHullPointRecord;\n    var lastHullPoint;\n    var secondLastHullPointRecord;\n    var secondLastHullPoint;\n    while (sortedPointRecords.length !== 0) {\n\n        currentPointRecord = sortedPointRecords.pop();\n        currentPoint = currentPointRecord[0];\n\n        // check if point has already been discarded\n        // keys for insidePoints are stored in the form 'point.x@point.y@@originalIndex'\n        if (insidePoints.hasOwnProperty(currentPointRecord[0] + '@@' + currentPointRecord[1])) {\n            // this point had an incorrect turn at some previous iteration of this loop\n            // this disqualifies it from possibly being on the hull\n            continue;\n        }\n\n        var correctTurnFound = false;\n        while (!correctTurnFound) {\n\n            if (hullPointRecords.length < 2) {\n                // not enough points for comparison, just add current point\n                hullPointRecords.push(currentPointRecord);\n                correctTurnFound = true;\n\n            } else {\n                lastHullPointRecord = hullPointRecords.pop();\n                lastHullPoint = lastHullPointRecord[0];\n                secondLastHullPointRecord = hullPointRecords.pop();\n                secondLastHullPoint = secondLastHullPointRecord[0];\n\n                var crossProduct = secondLastHullPoint.cross(lastHullPoint, currentPoint);\n\n                if (crossProduct < 0) {\n                    // found a right turn\n                    hullPointRecords.push(secondLastHullPointRecord);\n                    hullPointRecords.push(lastHullPointRecord);\n                    hullPointRecords.push(currentPointRecord);\n                    correctTurnFound = true;\n\n                } else if (crossProduct === 0) {\n                    // the three points are collinear\n                    // three options:\n                    // there may be a 180 or 0 degree angle at lastHullPoint\n                    // or two of the three points are coincident\n                    var THRESHOLD = 1e-10; // we have to take rounding errors into account\n                    var angleBetween = lastHullPoint.angleBetween(secondLastHullPoint, currentPoint);\n                    if (abs(angleBetween - 180) < THRESHOLD) { // rounding around 180 to 180\n                        // if the cross product is 0 because the angle is 180 degrees\n                        // discard last hull point (add to insidePoints)\n                        //insidePoints.unshift(lastHullPoint);\n                        insidePoints[lastHullPointRecord[0] + '@@' + lastHullPointRecord[1]] = lastHullPoint;\n                        // reenter second-to-last hull point (will be last at next iter)\n                        hullPointRecords.push(secondLastHullPointRecord);\n                        // do not do anything with current point\n                        // correct turn not found\n\n                    } else if (lastHullPoint.equals(currentPoint) || secondLastHullPoint.equals(lastHullPoint)) {\n                        // if the cross product is 0 because two points are the same\n                        // discard last hull point (add to insidePoints)\n                        //insidePoints.unshift(lastHullPoint);\n                        insidePoints[lastHullPointRecord[0] + '@@' + lastHullPointRecord[1]] = lastHullPoint;\n                        // reenter second-to-last hull point (will be last at next iter)\n                        hullPointRecords.push(secondLastHullPointRecord);\n                        // do not do anything with current point\n                        // correct turn not found\n\n                    } else if (abs(((angleBetween + 1) % 360) - 1) < THRESHOLD) { // rounding around 0 and 360 to 0\n                        // if the cross product is 0 because the angle is 0 degrees\n                        // remove last hull point from hull BUT do not discard it\n                        // reenter second-to-last hull point (will be last at next iter)\n                        hullPointRecords.push(secondLastHullPointRecord);\n                        // put last hull point back into the sorted point records list\n                        sortedPointRecords.push(lastHullPointRecord);\n                        // we are switching the order of the 0deg and 180deg points\n                        // correct turn not found\n                    }\n\n                } else {\n                    // found a left turn\n                    // discard last hull point (add to insidePoints)\n                    //insidePoints.unshift(lastHullPoint);\n                    insidePoints[lastHullPointRecord[0] + '@@' + lastHullPointRecord[1]] = lastHullPoint;\n                    // reenter second-to-last hull point (will be last at next iter of loop)\n                    hullPointRecords.push(secondLastHullPointRecord);\n                    // do not do anything with current point\n                    // correct turn not found\n                }\n            }\n        }\n    }\n    // at this point, hullPointRecords contains the output points in clockwise order\n    // the points start with lowest-y,highest-x startPoint, and end at the same point\n\n    // step 3b: remove duplicated startPointRecord from the end of the array\n    if (hullPointRecords.length > 2) {\n        hullPointRecords.pop();\n    }\n\n    // step 4: find the lowest originalIndex record and put it at the beginning of hull\n    var lowestHullIndex; // the lowest originalIndex on the hull\n    var indexOfLowestHullIndexRecord = -1; // the index of the record with lowestHullIndex\n    n = hullPointRecords.length;\n    for (i = 0; i < n; i++) {\n\n        var currentHullIndex = hullPointRecords[i][1];\n\n        if (lowestHullIndex === undefined || currentHullIndex < lowestHullIndex) {\n            lowestHullIndex = currentHullIndex;\n            indexOfLowestHullIndexRecord = i;\n        }\n    }\n\n    var hullPointRecordsReordered = [];\n    if (indexOfLowestHullIndexRecord > 0) {\n        var newFirstChunk = hullPointRecords.slice(indexOfLowestHullIndexRecord);\n        var newSecondChunk = hullPointRecords.slice(0, indexOfLowestHullIndexRecord);\n        hullPointRecordsReordered = newFirstChunk.concat(newSecondChunk);\n\n    } else {\n        hullPointRecordsReordered = hullPointRecords;\n    }\n\n    var hullPoints = [];\n    n = hullPointRecordsReordered.length;\n    for (i = 0; i < n; i++) {\n        hullPoints.push(hullPointRecordsReordered[i][0]);\n    }\n\n    return hullPoints;\n}\n", "import { Rect } from './rect.mjs';\nimport { Point } from './point.mjs';\nimport { Line } from './line.mjs';\nimport { types } from './types.mjs';\nimport { clonePoints, parsePoints, convexHull } from './points.mjs';\n\n\nexport const Polyline = function(points) {\n\n    if (!(this instanceof Polyline)) {\n        return new Polyline(points);\n    }\n\n    if (typeof points === 'string') {\n        return new Polyline.parse(points);\n    }\n\n    this.points = (Array.isArray(points) ? points.map(Point) : []);\n};\n\nPolyline.parse = function(svgString) {\n    return new Polyline(parsePoints(svgString));\n};\n\nPolyline.fromRect = function(rect) {\n    return new Polyline([\n        rect.topLeft(),\n        rect.topRight(),\n        rect.bottomRight(),\n        rect.bottomLeft(),\n        rect.topLeft(),\n    ]);\n};\n\nPolyline.prototype = {\n\n    type: types.Polyline,\n\n    bbox: function() {\n\n        var x1 = Infinity;\n        var x2 = -Infinity;\n        var y1 = Infinity;\n        var y2 = -Infinity;\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i];\n            var x = point.x;\n            var y = point.y;\n\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n        }\n\n        return new Rect(x1, y1, x2 - x1, y2 - y1);\n    },\n\n    clone: function() {\n        return new Polyline(clonePoints(this.points));\n    },\n\n    closestPoint: function(p) {\n\n        var cpLength = this.closestPointLength(p);\n\n        return this.pointAtLength(cpLength);\n    },\n\n    closestPointLength: function(p) {\n\n        var points = this.lengthPoints();\n        var numPoints = points.length;\n        if (numPoints === 0) return 0; // if points array is empty\n        if (numPoints === 1) return 0; // if there is only one point\n\n        var cpLength;\n        var minSqrDistance = Infinity;\n        var length = 0;\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n\n            var line = new Line(points[i], points[i + 1]);\n            var lineLength = line.length();\n\n            var cpNormalizedLength = line.closestPointNormalizedLength(p);\n            var cp = line.pointAt(cpNormalizedLength);\n\n            var sqrDistance = cp.squaredDistance(p);\n            if (sqrDistance < minSqrDistance) {\n                minSqrDistance = sqrDistance;\n                cpLength = length + (cpNormalizedLength * lineLength);\n            }\n\n            length += lineLength;\n        }\n\n        return cpLength;\n    },\n\n    closestPointNormalizedLength: function(p) {\n\n        var cpLength = this.closestPointLength(p);\n        if (cpLength === 0) return 0; // shortcut\n\n        var length = this.length();\n        if (length === 0) return 0; // prevents division by zero\n\n        return cpLength / length;\n    },\n\n    closestPointTangent: function(p) {\n\n        var cpLength = this.closestPointLength(p);\n\n        return this.tangentAtLength(cpLength);\n    },\n\n    // Returns `true` if the area surrounded by the polyline contains the point `p`.\n    // Implements the even-odd SVG algorithm (self-intersections are \"outside\").\n    // (Uses horizontal rays to the right of `p` to look for intersections.)\n    // Closes open polylines (always imagines a final closing segment).\n    containsPoint: function(p) {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return false; // shortcut (this polyline has no points)\n\n        var x = p.x;\n        var y = p.y;\n\n        // initialize a final closing segment by creating one from last-first points on polyline\n        var startIndex = numPoints - 1; // start of current polyline segment\n        var endIndex = 0; // end of current polyline segment\n        var numIntersections = 0;\n        var segment = new Line();\n        var ray = new Line();\n        var rayEnd = new Point();\n        for (; endIndex < numPoints; endIndex++) {\n            var start = points[startIndex];\n            var end = points[endIndex];\n            if (p.equals(start)) return true; // shortcut (`p` is a point on polyline)\n            // current polyline segment\n            segment.start = start;\n            segment.end = end;\n            if (segment.containsPoint(p)) return true; // shortcut (`p` lies on a polyline segment)\n\n            // do we have an intersection?\n            if (((y <= start.y) && (y > end.y)) || ((y > start.y) && (y <= end.y))) {\n                // this conditional branch IS NOT entered when `segment` is collinear/coincident with `ray`\n                // (when `y === start.y === end.y`)\n                // this conditional branch IS entered when `segment` touches `ray` at only one point\n                // (e.g. when `y === start.y !== end.y`)\n                // since this branch is entered again for the following segment, the two touches cancel out\n\n                var xDifference = (((start.x - x) > (end.x - x)) ? (start.x - x) : (end.x - x));\n                if (xDifference >= 0) {\n                    // segment lies at least partially to the right of `p`\n                    rayEnd.x = x + xDifference;\n                    rayEnd.y = y; // right\n                    ray.start = p;\n                    ray.end = rayEnd;\n                    if (segment.intersect(ray)) {\n                        // an intersection was detected to the right of `p`\n                        numIntersections++;\n                    }\n                } // else: `segment` lies completely to the left of `p` (i.e. no intersection to the right)\n            }\n\n            // move to check the next polyline segment\n            startIndex = endIndex;\n        }\n\n        // returns `true` for odd numbers of intersections (even-odd algorithm)\n        return ((numIntersections % 2) === 1);\n    },\n\n    close: function() {\n        const { start, end, points } = this;\n        if (start && end && !start.equals(end)) {\n            points.push(start.clone());\n        }\n        return this;\n    },\n\n    lengthPoints: function() {\n        return this.points;\n    },\n\n    convexHull: function() {\n        return new Polyline(convexHull(this.points));\n    },\n\n    // Checks whether two polylines are exactly the same.\n    // If `p` is undefined or null, returns false.\n    equals: function(p) {\n\n        if (!p) return false;\n\n        var points = this.points;\n        var otherPoints = p.points;\n\n        var numPoints = points.length;\n        if (otherPoints.length !== numPoints) return false; // if the two polylines have different number of points, they cannot be equal\n\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i];\n            var otherPoint = p.points[i];\n\n            // as soon as an inequality is found in points, return false\n            if (!point.equals(otherPoint)) return false;\n        }\n\n        // if no inequality found in points, return true\n        return true;\n    },\n\n    intersectionWithLine: function(l) {\n        var line = new Line(l);\n        var intersections = [];\n        var points = this.lengthPoints();\n        var l2 = new Line();\n        for (var i = 0, n = points.length - 1; i < n; i++) {\n            l2.start = points[i];\n            l2.end = points[i + 1];\n            var int = line.intersectionWithLine(l2);\n            if (int) intersections.push(int[0]);\n        }\n        return (intersections.length > 0) ? intersections : null;\n    },\n\n    isDifferentiable: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return false;\n\n        var line = new Line();\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            line.start = points[i];\n            line.end = points[i + 1];\n            // as soon as a differentiable line is found between two points, return true\n            if (line.isDifferentiable()) return true;\n        }\n\n        // if no differentiable line is found between pairs of points, return false\n        return false;\n    },\n\n    length: function() {\n\n        var points = this.lengthPoints();\n        var numPoints = points.length;\n        if (numPoints === 0) return 0; // if points array is empty\n\n        var length = 0;\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            length += points[i].distance(points[i + 1]);\n        }\n\n        return length;\n    },\n\n    pointAt: function(ratio) {\n\n        var points = this.lengthPoints();\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return points[0].clone(); // if there is only one point\n\n        if (ratio <= 0) return points[0].clone();\n        if (ratio >= 1) return points[numPoints - 1].clone();\n\n        var polylineLength = this.length();\n        var length = polylineLength * ratio;\n\n        return this.pointAtLength(length);\n    },\n\n    pointAtLength: function(length) {\n\n        var points = this.lengthPoints();\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return points[0].clone(); // if there is only one point\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        var l = 0;\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            var index = (fromStart ? i : (n - 1 - i));\n\n            var a = points[index];\n            var b = points[index + 1];\n            var line = new Line(a, b);\n            var d = a.distance(b);\n\n            if (length <= (l + d)) {\n                return line.pointAtLength((fromStart ? 1 : -1) * (length - l));\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the polyline, return last endpoint\n        var lastPoint = (fromStart ? points[numPoints - 1] : points[0]);\n        return lastPoint.clone();\n    },\n\n    round: function(precision) {\n\n        var points = this.points;\n        var numPoints = points.length;\n\n        for (var i = 0; i < numPoints; i++) {\n            points[i].round(precision);\n        }\n\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        var points = this.points;\n        var numPoints = points.length;\n\n        for (var i = 0; i < numPoints; i++) {\n            points[i].scale(sx, sy, origin);\n        }\n\n        return this;\n    },\n\n    simplify: function(opt = {}) {\n\n        const points = this.points;\n        if (points.length < 3) return this; // we need at least 3 points\n\n        // TODO: we may also accept startIndex and endIndex to specify where to start and end simplification\n\n        // Due to the nature of the algorithm, we do not use 0 as the default value for `threshold`\n        // because of the rounding errors that can occur when comparing distances.\n        const threshold = opt.threshold || 1e-10; // = max distance of middle point from chord to be simplified\n\n        // start at the beginning of the polyline and go forward\n        let currentIndex = 0;\n        // we need at least one intermediate point (3 points) in every iteration\n        // as soon as that stops being true, we know we reached the end of the polyline\n        while (points[currentIndex + 2]) {\n            const firstIndex = currentIndex;\n            const middleIndex = (currentIndex + 1);\n            const lastIndex = (currentIndex + 2);\n\n            const firstPoint = points[firstIndex];\n            const middlePoint = points[middleIndex];\n            const lastPoint = points[lastIndex];\n\n            const chord = new Line(firstPoint, lastPoint); // = connection between first and last point\n            const closestPoint = chord.closestPoint(middlePoint); // = closest point on chord from middle point\n            const closestPointDistance = closestPoint.distance(middlePoint);\n            if (closestPointDistance <= threshold) {\n                // middle point is close enough to the chord = simplify\n                // 1) remove middle point:\n                points.splice(middleIndex, 1);\n                // 2) in next iteration, investigate the newly-created triplet of points\n                //    - do not change `currentIndex`\n                //    = (first point stays, point after removed point becomes middle point)\n            } else {\n                // middle point is far from the chord\n                // 1) preserve middle point\n                // 2) in next iteration, move `currentIndex` by one step:\n                currentIndex += 1;\n                //    = (point after first point becomes first point)\n            }\n        }\n\n        // `points` array was modified in-place\n        return this;\n    },\n\n    tangentAt: function(ratio) {\n\n        var points = this.lengthPoints();\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return null; // if there is only one point\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        var polylineLength = this.length();\n        var length = polylineLength * ratio;\n\n        return this.tangentAtLength(length);\n    },\n\n    tangentAtLength: function(length) {\n\n        var points = this.lengthPoints();\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n        if (numPoints === 1) return null; // if there is only one point\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        var lastValidLine; // differentiable (with a tangent)\n        var l = 0; // length so far\n        var n = numPoints - 1;\n        for (var i = 0; i < n; i++) {\n            var index = (fromStart ? i : (n - 1 - i));\n\n            var a = points[index];\n            var b = points[index + 1];\n            var line = new Line(a, b);\n            var d = a.distance(b);\n\n            if (line.isDifferentiable()) { // has a tangent line (line length is not 0)\n                if (length <= (l + d)) {\n                    return line.tangentAtLength((fromStart ? 1 : -1) * (length - l));\n                }\n\n                lastValidLine = line;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the polyline, return last valid endpoint\n        if (lastValidLine) {\n            var ratio = (fromStart ? 1 : 0);\n            return lastValidLine.tangentAt(ratio);\n        }\n\n        // if no valid line, return null\n        return null;\n    },\n\n    toString: function() {\n\n        return this.points + '';\n    },\n\n    translate: function(tx, ty) {\n\n        var points = this.points;\n        var numPoints = points.length;\n\n        for (var i = 0; i < numPoints; i++) {\n            points[i].translate(tx, ty);\n        }\n\n        return this;\n    },\n\n    // Return svgString that can be used to recreate this line.\n    serialize: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return ''; // if points array is empty\n\n        var output = '';\n        for (var i = 0; i < numPoints; i++) {\n\n            var point = points[i];\n            output += point.x + ',' + point.y + ' ';\n        }\n\n        return output.trim();\n    }\n};\n\nObject.defineProperty(Polyline.prototype, 'start', {\n    // Getter for the first point of the polyline.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n\n        return this.points[0];\n    },\n});\n\nObject.defineProperty(Polyline.prototype, 'end', {\n    // Getter for the last point of the polyline.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var points = this.points;\n        var numPoints = points.length;\n        if (numPoints === 0) return null; // if points array is empty\n\n        return this.points[numPoints - 1];\n    },\n});\n", "import { Point } from './point.mjs';\nimport { Rect } from './rect.mjs';\nimport { Line } from './line.mjs';\nimport { Polyline } from './polyline.mjs';\nimport { types } from './types.mjs';\n\nconst {\n    abs,\n    sqrt,\n    min,\n    max,\n    pow\n} = Math;\n\nexport const Curve = function(p1, p2, p3, p4) {\n\n    if (!(this instanceof Curve)) {\n        return new Curve(p1, p2, p3, p4);\n    }\n\n    if (p1 instanceof Curve) {\n        return new Curve(p1.start, p1.controlPoint1, p1.controlPoint2, p1.end);\n    }\n\n    this.start = new Point(p1);\n    this.controlPoint1 = new Point(p2);\n    this.controlPoint2 = new Point(p3);\n    this.end = new Point(p4);\n};\n\n// Curve passing through points.\n// Ported from C# implementation by Oleg V. Polikarpotchkin and Peter Lee (http://www.codeproject.com/KB/graphics/BezierSpline.aspx).\n// @param {array} points Array of points through which the smooth line will go.\n// @return {array} curves.\nCurve.throughPoints = (function() {\n\n    // Get open-ended Bezier Spline Control Points.\n    // @param knots Input Knot Bezier spline points (At least two points!).\n    // @param firstControlPoints Output First Control points. Array of knots.length - 1 length.\n    // @param secondControlPoints Output Second Control points. Array of knots.length - 1 length.\n    function getCurveControlPoints(knots) {\n\n        var firstControlPoints = [];\n        var secondControlPoints = [];\n        var n = knots.length - 1;\n        var i;\n\n        // Special case: Bezier curve should be a straight line.\n        if (n == 1) {\n            // 3P1 = 2P0 + P3\n            firstControlPoints[0] = new Point(\n                (2 * knots[0].x + knots[1].x) / 3,\n                (2 * knots[0].y + knots[1].y) / 3\n            );\n\n            // P2 = 2P1 – P0\n            secondControlPoints[0] = new Point(\n                2 * firstControlPoints[0].x - knots[0].x,\n                2 * firstControlPoints[0].y - knots[0].y\n            );\n\n            return [firstControlPoints, secondControlPoints];\n        }\n\n        // Calculate first Bezier control points.\n        // Right hand side vector.\n        var rhs = [];\n\n        // Set right hand side X values.\n        for (i = 1; i < n - 1; i++) {\n            rhs[i] = 4 * knots[i].x + 2 * knots[i + 1].x;\n        }\n\n        rhs[0] = knots[0].x + 2 * knots[1].x;\n        rhs[n - 1] = (8 * knots[n - 1].x + knots[n].x) / 2.0;\n\n        // Get first control points X-values.\n        var x = getFirstControlPoints(rhs);\n\n        // Set right hand side Y values.\n        for (i = 1; i < n - 1; ++i) {\n            rhs[i] = 4 * knots[i].y + 2 * knots[i + 1].y;\n        }\n\n        rhs[0] = knots[0].y + 2 * knots[1].y;\n        rhs[n - 1] = (8 * knots[n - 1].y + knots[n].y) / 2.0;\n\n        // Get first control points Y-values.\n        var y = getFirstControlPoints(rhs);\n\n        // Fill output arrays.\n        for (i = 0; i < n; i++) {\n            // First control point.\n            firstControlPoints.push(new Point(x[i], y[i]));\n\n            // Second control point.\n            if (i < n - 1) {\n                secondControlPoints.push(new Point(\n                    2 * knots [i + 1].x - x[i + 1],\n                    2 * knots[i + 1].y - y[i + 1]\n                ));\n\n            } else {\n                secondControlPoints.push(new Point(\n                    (knots[n].x + x[n - 1]) / 2,\n                    (knots[n].y + y[n - 1]) / 2\n                ));\n            }\n        }\n\n        return [firstControlPoints, secondControlPoints];\n    }\n\n    // Solves a tridiagonal system for one of coordinates (x or y) of first Bezier control points.\n    // @param rhs Right hand side vector.\n    // @return Solution vector.\n    function getFirstControlPoints(rhs) {\n\n        var n = rhs.length;\n        // `x` is a solution vector.\n        var x = [];\n        var tmp = [];\n        var b = 2.0;\n\n        x[0] = rhs[0] / b;\n\n        // Decomposition and forward substitution.\n        for (var i = 1; i < n; i++) {\n            tmp[i] = 1 / b;\n            b = (i < n - 1 ? 4.0 : 3.5) - tmp[i];\n            x[i] = (rhs[i] - x[i - 1]) / b;\n        }\n\n        for (i = 1; i < n; i++) {\n            // Backsubstitution.\n            x[n - i - 1] -= tmp[n - i] * x[n - i];\n        }\n\n        return x;\n    }\n\n    return function(points) {\n\n        if (!points || (Array.isArray(points) && points.length < 2)) {\n            throw new Error('At least 2 points are required');\n        }\n\n        var controlPoints = getCurveControlPoints(points);\n\n        var curves = [];\n        var n = controlPoints[0].length;\n        for (var i = 0; i < n; i++) {\n\n            var controlPoint1 = new Point(controlPoints[0][i].x, controlPoints[0][i].y);\n            var controlPoint2 = new Point(controlPoints[1][i].x, controlPoints[1][i].y);\n\n            curves.push(new Curve(points[i], controlPoint1, controlPoint2, points[i + 1]));\n        }\n\n        return curves;\n    };\n})();\n\nCurve.prototype = {\n\n    type: types.Curve,\n\n    // Returns a bbox that tightly envelops the curve.\n    bbox: function() {\n\n        var start = this.start;\n        var controlPoint1 = this.controlPoint1;\n        var controlPoint2 = this.controlPoint2;\n        var end = this.end;\n\n        var x0 = start.x;\n        var y0 = start.y;\n        var x1 = controlPoint1.x;\n        var y1 = controlPoint1.y;\n        var x2 = controlPoint2.x;\n        var y2 = controlPoint2.y;\n        var x3 = end.x;\n        var y3 = end.y;\n\n        var points = new Array(); // local extremes\n        var tvalues = new Array(); // t values of local extremes\n        var bounds = [new Array(), new Array()];\n\n        var a, b, c, t;\n        var t1, t2;\n        var b2ac, sqrtb2ac;\n\n        for (var i = 0; i < 2; ++i) {\n\n            if (i === 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n\n            if (abs(a) < 1e-12) { // Numerical robustness\n                if (abs(b) < 1e-12) { // Numerical robustness\n                    continue;\n                }\n\n                t = -c / b;\n                if ((0 < t) && (t < 1)) tvalues.push(t);\n\n                continue;\n            }\n\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = sqrt(b2ac);\n\n            if (b2ac < 0) continue;\n\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if ((0 < t1) && (t1 < 1)) tvalues.push(t1);\n\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if ((0 < t2) && (t2 < 1)) tvalues.push(t2);\n        }\n\n        var j = tvalues.length;\n        var jlen = j;\n        var mt;\n        var x, y;\n\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n\n            x = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n            bounds[0][j] = x;\n\n            y = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n            bounds[1][j] = y;\n\n            points[j] = { X: x, Y: y };\n        }\n\n        tvalues[jlen] = 0;\n        tvalues[jlen + 1] = 1;\n\n        points[jlen] = { X: x0, Y: y0 };\n        points[jlen + 1] = { X: x3, Y: y3 };\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n\n        tvalues.length = jlen + 2;\n        bounds[0].length = jlen + 2;\n        bounds[1].length = jlen + 2;\n        points.length = jlen + 2;\n\n        var left = min.apply(null, bounds[0]);\n        var top = min.apply(null, bounds[1]);\n        var right = max.apply(null, bounds[0]);\n        var bottom = max.apply(null, bounds[1]);\n\n        return new Rect(left, top, (right - left), (bottom - top));\n    },\n\n    clone: function() {\n\n        return new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n    },\n\n    // Returns the point on the curve closest to point `p`\n    closestPoint: function(p, opt) {\n\n        return this.pointAtT(this.closestPointT(p, opt));\n    },\n\n    closestPointLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        return this.lengthAtT(this.closestPointT(p, localOpt), localOpt);\n    },\n\n    closestPointNormalizedLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        var cpLength = this.closestPointLength(p, localOpt);\n        if (!cpLength) return 0;\n\n        var length = this.length(localOpt);\n        if (length === 0) return 0;\n\n        return cpLength / length;\n    },\n\n    // Returns `t` of the point on the curve closest to point `p`\n    closestPointT: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        // does not use localOpt\n\n        // identify the subdivision that contains the point:\n        var investigatedSubdivision;\n        var investigatedSubdivisionStartT; // assume that subdivisions are evenly spaced\n        var investigatedSubdivisionEndT;\n        var distFromStart; // distance of point from start of baseline\n        var distFromEnd; // distance of point from end of baseline\n        var chordLength; // distance between start and end of the subdivision\n        var minSumDist; // lowest observed sum of the two distances\n        var n = subdivisions.length;\n        var subdivisionSize = (n ? (1 / n) : 0);\n        for (var i = 0; i < n; i++) {\n\n            var currentSubdivision = subdivisions[i];\n\n            var startDist = currentSubdivision.start.distance(p);\n            var endDist = currentSubdivision.end.distance(p);\n            var sumDist = startDist + endDist;\n\n            // check that the point is closest to current subdivision and not any other\n            if (!minSumDist || (sumDist < minSumDist)) {\n                investigatedSubdivision = currentSubdivision;\n\n                investigatedSubdivisionStartT = i * subdivisionSize;\n                investigatedSubdivisionEndT = (i + 1) * subdivisionSize;\n\n                distFromStart = startDist;\n                distFromEnd = endDist;\n\n                chordLength = currentSubdivision.start.distance(currentSubdivision.end);\n\n                minSumDist = sumDist;\n            }\n        }\n\n        var precisionRatio = pow(10, -precision);\n\n        // recursively divide investigated subdivision:\n        // until distance between baselinePoint and closest path endpoint is within 10^(-precision)\n        // then return the closest endpoint of that final subdivision\n        while (true) {\n\n            // check if we have reached at least one required observed precision\n            // - calculated as: the difference in distances from point to start and end divided by the distance\n            // - note that this function is not monotonic = it doesn't converge stably but has \"teeth\"\n            // - the function decreases while one of the endpoints is fixed but \"jumps\" whenever we switch\n            // - this criterion works well for points lying far away from the curve\n            var startPrecisionRatio = (distFromStart ? (abs(distFromStart - distFromEnd) / distFromStart) : 0);\n            var endPrecisionRatio = (distFromEnd ? (abs(distFromStart - distFromEnd) / distFromEnd) : 0);\n            var hasRequiredPrecision = ((startPrecisionRatio < precisionRatio) || (endPrecisionRatio < precisionRatio));\n\n            // check if we have reached at least one required minimal distance\n            // - calculated as: the subdivision chord length multiplied by precisionRatio\n            // - calculation is relative so it will work for arbitrarily large/small curves and their subdivisions\n            // - this is a backup criterion that works well for points lying \"almost at\" the curve\n            var hasMinimalStartDistance = (distFromStart ? (distFromStart < (chordLength * precisionRatio)) : true);\n            var hasMinimalEndDistance = (distFromEnd ? (distFromEnd < (chordLength * precisionRatio)) : true);\n            var hasMinimalDistance = (hasMinimalStartDistance || hasMinimalEndDistance);\n\n            // do we stop now?\n            if (hasRequiredPrecision || hasMinimalDistance) {\n                return ((distFromStart <= distFromEnd) ? investigatedSubdivisionStartT : investigatedSubdivisionEndT);\n            }\n\n            // otherwise, set up for next iteration\n            var divided = investigatedSubdivision.divide(0.5);\n            subdivisionSize /= 2;\n\n            var startDist1 = divided[0].start.distance(p);\n            var endDist1 = divided[0].end.distance(p);\n            var sumDist1 = startDist1 + endDist1;\n\n            var startDist2 = divided[1].start.distance(p);\n            var endDist2 = divided[1].end.distance(p);\n            var sumDist2 = startDist2 + endDist2;\n\n            if (sumDist1 <= sumDist2) {\n                investigatedSubdivision = divided[0];\n\n                investigatedSubdivisionEndT -= subdivisionSize; // subdivisionSize was already halved\n\n                distFromStart = startDist1;\n                distFromEnd = endDist1;\n\n            } else {\n                investigatedSubdivision = divided[1];\n\n                investigatedSubdivisionStartT += subdivisionSize; // subdivisionSize was already halved\n\n                distFromStart = startDist2;\n                distFromEnd = endDist2;\n            }\n        }\n    },\n\n    closestPointTangent: function(p, opt) {\n\n        return this.tangentAtT(this.closestPointT(p, opt));\n    },\n\n    // Returns `true` if the area surrounded by the curve contains the point `p`.\n    // Implements the even-odd algorithm (self-intersections are \"outside\").\n    // Closes open curves (always imagines a closing segment).\n    // Precision may be adjusted by passing an `opt` object.\n    containsPoint: function(p, opt) {\n\n        var polyline = this.toPolyline(opt);\n        return polyline.containsPoint(p);\n    },\n\n    // Divides the curve into two at requested `ratio` between 0 and 1 with precision better than `opt.precision`; optionally using `opt.subdivisions` provided.\n    // For a function that uses `t`, use Curve.divideAtT().\n    divideAt: function(ratio, opt) {\n\n        if (ratio <= 0) return this.divideAtT(0);\n        if (ratio >= 1) return this.divideAtT(1);\n\n        var t = this.tAt(ratio, opt);\n\n        return this.divideAtT(t);\n    },\n\n    // Divides the curve into two at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    divideAtLength: function(length, opt) {\n\n        var t = this.tAtLength(length, opt);\n\n        return this.divideAtT(t);\n    },\n\n    // Divides the curve into two at point defined by `t` between 0 and 1.\n    // Using de Casteljau's algorithm (http://math.stackexchange.com/a/317867).\n    // Additional resource: https://pomax.github.io/bezierinfo/#decasteljau\n    divideAtT: function(t) {\n\n        var start = this.start;\n        var controlPoint1 = this.controlPoint1;\n        var controlPoint2 = this.controlPoint2;\n        var end = this.end;\n\n        // shortcuts for `t` values that are out of range\n        if (t <= 0) {\n            return [\n                new Curve(start, start, start, start),\n                new Curve(start, controlPoint1, controlPoint2, end)\n            ];\n        }\n\n        if (t >= 1) {\n            return [\n                new Curve(start, controlPoint1, controlPoint2, end),\n                new Curve(end, end, end, end)\n            ];\n        }\n\n        var dividerPoints = this.getSkeletonPoints(t);\n\n        var startControl1 = dividerPoints.startControlPoint1;\n        var startControl2 = dividerPoints.startControlPoint2;\n        var divider = dividerPoints.divider;\n        var dividerControl1 = dividerPoints.dividerControlPoint1;\n        var dividerControl2 = dividerPoints.dividerControlPoint2;\n\n        // return array with two new curves\n        return [\n            new Curve(start, startControl1, startControl2, divider),\n            new Curve(divider, dividerControl1, dividerControl2, end)\n        ];\n    },\n\n    // Returns the distance between the curve's start and end points.\n    endpointDistance: function() {\n\n        return this.start.distance(this.end);\n    },\n\n    // Checks whether two curves are exactly the same.\n    equals: function(c) {\n\n        return !!c &&\n            this.start.x === c.start.x &&\n            this.start.y === c.start.y &&\n            this.controlPoint1.x === c.controlPoint1.x &&\n            this.controlPoint1.y === c.controlPoint1.y &&\n            this.controlPoint2.x === c.controlPoint2.x &&\n            this.controlPoint2.y === c.controlPoint2.y &&\n            this.end.x === c.end.x &&\n            this.end.y === c.end.y;\n    },\n\n    // Returns five helper points necessary for curve division.\n    getSkeletonPoints: function(t) {\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        // shortcuts for `t` values that are out of range\n        if (t <= 0) {\n            return {\n                startControlPoint1: start.clone(),\n                startControlPoint2: start.clone(),\n                divider: start.clone(),\n                dividerControlPoint1: control1.clone(),\n                dividerControlPoint2: control2.clone()\n            };\n        }\n\n        if (t >= 1) {\n            return {\n                startControlPoint1: control1.clone(),\n                startControlPoint2: control2.clone(),\n                divider: end.clone(),\n                dividerControlPoint1: end.clone(),\n                dividerControlPoint2: end.clone()\n            };\n        }\n\n        var midpoint1 = (new Line(start, control1)).pointAt(t);\n        var midpoint2 = (new Line(control1, control2)).pointAt(t);\n        var midpoint3 = (new Line(control2, end)).pointAt(t);\n\n        var subControl1 = (new Line(midpoint1, midpoint2)).pointAt(t);\n        var subControl2 = (new Line(midpoint2, midpoint3)).pointAt(t);\n\n        var divider = (new Line(subControl1, subControl2)).pointAt(t);\n\n        var output = {\n            startControlPoint1: midpoint1,\n            startControlPoint2: subControl1,\n            divider: divider,\n            dividerControlPoint1: subControl2,\n            dividerControlPoint2: midpoint3\n        };\n\n        return output;\n    },\n\n    // Returns a list of curves whose flattened length is better than `opt.precision`.\n    // That is, observed difference in length between recursions is less than 10^(-3) = 0.001 = 0.1%\n    // (Observed difference is not real precision, but close enough as long as special cases are covered)\n    // As a rule of thumb, increasing `precision` by 1 requires 2 more iterations (= levels of division operations)\n    // - Precision 0 (endpointDistance) - 0 iterations => total of 2^0 - 1 = 0 operations (1 subdivision)\n    // - Precision 1 (<10% error) - 2 iterations => total of 2^2 - 1 = 3 operations (4 subdivisions)\n    // - Precision 2 (<1% error) - 4 iterations => total of 2^4 - 1 = 15 operations requires 4 division operations on all elements (15 operations total) (16 subdivisions)\n    // - Precision 3 (<0.1% error) - 6 iterations => total of 2^6 - 1 = 63 operations - acceptable when drawing (64 subdivisions)\n    // - Precision 4 (<0.01% error) - 8 iterations => total of 2^8 - 1 = 255 operations - high resolution, can be used to interpolate `t` (256 subdivisions)\n    // (Variation of 1 recursion worse or better is possible depending on the curve, doubling/halving the number of operations accordingly)\n    getSubdivisions: function(opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        // not using opt.subdivisions\n        // not using localOpt\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        var subdivisions = [new Curve(start, control1, control2, end)];\n        if (precision === 0) return subdivisions;\n\n        // special case #1: point-like curves\n        // - no need to calculate subdivisions, they would all be identical\n        var isPoint = !this.isDifferentiable();\n        if (isPoint) return subdivisions;\n\n        var previousLength = this.endpointDistance();\n\n        var precisionRatio = pow(10, -precision);\n\n        // special case #2: sine-like curves may have the same observed length in iteration 0 and 1 - skip iteration 1\n        // - not a problem for further iterations because cubic curves cannot have more than two local extrema\n        // - (i.e. cubic curves cannot intersect the baseline more than once)\n        // - therefore starting from iteration = 2 ensures that subsequent iterations do not produce sampling with equal length\n        // - (unless it's a straight-line curve, see below)\n        var minIterations = 2; // = 2*1\n\n        // special case #3: straight-line curves have the same observed length in all iterations\n        // - this causes observed precision ratio to always be 0 (= lower than `precisionRatio`, which is our exit condition)\n        // - we enforce the expected number of iterations = 2 * precision\n        var isLine = ((control1.cross(start, end) === 0) && (control2.cross(start, end) === 0));\n        if (isLine) {\n            minIterations = (2 * precision);\n        }\n\n        // recursively divide curve at `t = 0.5`\n        // until we reach `minIterations`\n        // and until the difference between observed length at subsequent iterations is lower than `precision`\n        var iteration = 0;\n        while (true) {\n            iteration += 1;\n\n            // divide all subdivisions\n            var newSubdivisions = [];\n            var numSubdivisions = subdivisions.length;\n            for (var i = 0; i < numSubdivisions; i++) {\n\n                var currentSubdivision = subdivisions[i];\n                var divided = currentSubdivision.divide(0.5); // dividing at t = 0.5 (not at middle length!)\n                newSubdivisions.push(divided[0], divided[1]);\n            }\n\n            // measure new length\n            var length = 0;\n            var numNewSubdivisions = newSubdivisions.length;\n            for (var j = 0; j < numNewSubdivisions; j++) {\n\n                var currentNewSubdivision = newSubdivisions[j];\n                length += currentNewSubdivision.endpointDistance();\n            }\n\n            // check if we have reached minimum number of iterations\n            if (iteration >= minIterations) {\n\n                // check if we have reached required observed precision\n                var observedPrecisionRatio = ((length !== 0) ? ((length - previousLength) / length) : 0);\n                if (observedPrecisionRatio < precisionRatio) {\n                    return newSubdivisions;\n                }\n            }\n\n            // otherwise, set up for next iteration\n            subdivisions = newSubdivisions;\n            previousLength = length;\n        }\n    },\n\n    isDifferentiable: function() {\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        return !(start.equals(control1) && control1.equals(control2) && control2.equals(end));\n    },\n\n    // Returns flattened length of the curve with precision better than `opt.precision`; or using `opt.subdivisions` provided.\n    length: function(opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision; // opt.precision only used in getSubdivisions() call\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        // not using localOpt\n\n        var length = 0;\n        var n = subdivisions.length;\n        for (var i = 0; i < n; i++) {\n\n            var currentSubdivision = subdivisions[i];\n            length += currentSubdivision.endpointDistance();\n        }\n\n        return length;\n    },\n\n    // Returns distance along the curve up to `t` with precision better than requested `opt.precision`. (Not using `opt.subdivisions`.)\n    lengthAtT: function(t, opt) {\n\n        if (t <= 0) return 0;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        // not using opt.subdivisions\n        // not using localOpt\n\n        var subCurve = this.divide(t)[0];\n        var subCurveLength = subCurve.length({ precision: precision });\n\n        return subCurveLength;\n    },\n\n    // Returns point at requested `ratio` between 0 and 1 with precision better than `opt.precision`; optionally using `opt.subdivisions` provided.\n    // Mirrors Line.pointAt() function.\n    // For a function that tracks `t`, use Curve.pointAtT().\n    pointAt: function(ratio, opt) {\n\n        if (ratio <= 0) return this.start.clone();\n        if (ratio >= 1) return this.end.clone();\n\n        var t = this.tAt(ratio, opt);\n\n        return this.pointAtT(t);\n    },\n\n    // Returns point at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    pointAtLength: function(length, opt) {\n\n        var t = this.tAtLength(length, opt);\n\n        return this.pointAtT(t);\n    },\n\n    // Returns the point at provided `t` between 0 and 1.\n    // `t` does not track distance along curve as it does in Line objects.\n    // Non-linear relationship, speeds up and slows down as curve warps!\n    // For linear length-based solution, use Curve.pointAt().\n    pointAtT: function(t) {\n\n        if (t <= 0) return this.start.clone();\n        if (t >= 1) return this.end.clone();\n\n        return this.getSkeletonPoints(t).divider;\n    },\n\n    // Default precision\n    PRECISION: 3,\n\n    round: function(precision) {\n\n        this.start.round(precision);\n        this.controlPoint1.round(precision);\n        this.controlPoint2.round(precision);\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.start.scale(sx, sy, origin);\n        this.controlPoint1.scale(sx, sy, origin);\n        this.controlPoint2.scale(sx, sy, origin);\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    // Returns a tangent line at requested `ratio` with precision better than requested `opt.precision`; or using `opt.subdivisions` provided.\n    tangentAt: function(ratio, opt) {\n\n        if (!this.isDifferentiable()) return null;\n\n        if (ratio < 0) ratio = 0;\n        else if (ratio > 1) ratio = 1;\n\n        var t = this.tAt(ratio, opt);\n\n        return this.tangentAtT(t);\n    },\n\n    // Returns a tangent line at requested `length` with precision better than requested `opt.precision`; or using `opt.subdivisions` provided.\n    tangentAtLength: function(length, opt) {\n\n        if (!this.isDifferentiable()) return null;\n\n        var t = this.tAtLength(length, opt);\n\n        return this.tangentAtT(t);\n    },\n\n    // Returns a tangent line at requested `t`.\n    tangentAtT: function(t) {\n\n        if (!this.isDifferentiable()) return null;\n\n        if (t < 0) t = 0;\n        else if (t > 1) t = 1;\n\n        var skeletonPoints = this.getSkeletonPoints(t);\n\n        var p1 = skeletonPoints.startControlPoint2;\n        var p2 = skeletonPoints.dividerControlPoint1;\n\n        var tangentStart = skeletonPoints.divider;\n\n        var tangentLine = new Line(p1, p2);\n        tangentLine.translate(tangentStart.x - p1.x, tangentStart.y - p1.y); // move so that tangent line starts at the point requested\n\n        return tangentLine;\n    },\n\n    // Returns `t` at requested `ratio` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    tAt: function(ratio, opt) {\n\n        if (ratio <= 0) return 0;\n        if (ratio >= 1) return 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        var curveLength = this.length(localOpt);\n        var length = curveLength * ratio;\n\n        return this.tAtLength(length, localOpt);\n    },\n\n    // Returns `t` at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    // Uses `precision` to approximate length within `precision` (always underestimates)\n    // Then uses a binary search to find the `t` of a subdivision endpoint that is close (within `precision`) to the `length`, if the curve was as long as approximated\n    // As a rule of thumb, increasing `precision` by 1 causes the algorithm to go 2^(precision - 1) deeper\n    // - Precision 0 (chooses one of the two endpoints) - 0 levels\n    // - Precision 1 (chooses one of 5 points, <10% error) - 1 level\n    // - Precision 2 (<1% error) - 3 levels\n    // - Precision 3 (<0.1% error) - 7 levels\n    // - Precision 4 (<0.01% error) - 15 levels\n    tAtLength: function(length, opt) {\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        var localOpt = { precision: precision, subdivisions: subdivisions };\n\n        // identify the subdivision that contains the point at requested `length`:\n        var investigatedSubdivision;\n        var investigatedSubdivisionStartT; // assume that subdivisions are evenly spaced\n        var investigatedSubdivisionEndT;\n        //var baseline; // straightened version of subdivision to investigate\n        //var baselinePoint; // point on the baseline that is the requested distance away from start\n        var baselinePointDistFromStart; // distance of baselinePoint from start of baseline\n        var baselinePointDistFromEnd; // distance of baselinePoint from end of baseline\n        var l = 0; // length so far\n        var n = subdivisions.length;\n        var subdivisionSize = 1 / n;\n        for (var i = 0; i < n; i++) {\n            var index = (fromStart ? i : (n - 1 - i));\n\n            var currentSubdivision = subdivisions[i];\n            var d = currentSubdivision.endpointDistance(); // length of current subdivision\n\n            if (length <= (l + d)) {\n                investigatedSubdivision = currentSubdivision;\n\n                investigatedSubdivisionStartT = index * subdivisionSize;\n                investigatedSubdivisionEndT = (index + 1) * subdivisionSize;\n\n                baselinePointDistFromStart = (fromStart ? (length - l) : ((d + l) - length));\n                baselinePointDistFromEnd = (fromStart ? ((d + l) - length) : (length - l));\n\n                break;\n            }\n\n            l += d;\n        }\n\n        if (!investigatedSubdivision) return (fromStart ? 1 : 0); // length requested is out of range - return maximum t\n        // note that precision affects what length is recorded\n        // (imprecise measurements underestimate length by up to 10^(-precision) of the precise length)\n        // e.g. at precision 1, the length may be underestimated by up to 10% and cause this function to return 1\n\n        var curveLength = this.length(localOpt);\n\n        var precisionRatio = pow(10, -precision);\n\n        // recursively divide investigated subdivision:\n        // until distance between baselinePoint and closest path endpoint is within 10^(-precision)\n        // then return the closest endpoint of that final subdivision\n        while (true) {\n\n            // check if we have reached required observed precision\n            var observedPrecisionRatio;\n\n            observedPrecisionRatio = ((curveLength !== 0) ? (baselinePointDistFromStart / curveLength) : 0);\n            if (observedPrecisionRatio < precisionRatio) return investigatedSubdivisionStartT;\n            observedPrecisionRatio = ((curveLength !== 0) ? (baselinePointDistFromEnd / curveLength) : 0);\n            if (observedPrecisionRatio < precisionRatio) return investigatedSubdivisionEndT;\n\n            // otherwise, set up for next iteration\n            var newBaselinePointDistFromStart;\n            var newBaselinePointDistFromEnd;\n\n            var divided = investigatedSubdivision.divide(0.5);\n            subdivisionSize /= 2;\n\n            var baseline1Length = divided[0].endpointDistance();\n            var baseline2Length = divided[1].endpointDistance();\n\n            if (baselinePointDistFromStart <= baseline1Length) { // point at requested length is inside divided[0]\n                investigatedSubdivision = divided[0];\n\n                investigatedSubdivisionEndT -= subdivisionSize; // sudivisionSize was already halved\n\n                newBaselinePointDistFromStart = baselinePointDistFromStart;\n                newBaselinePointDistFromEnd = baseline1Length - newBaselinePointDistFromStart;\n\n            } else { // point at requested length is inside divided[1]\n                investigatedSubdivision = divided[1];\n\n                investigatedSubdivisionStartT += subdivisionSize; // subdivisionSize was already halved\n\n                newBaselinePointDistFromStart = baselinePointDistFromStart - baseline1Length;\n                newBaselinePointDistFromEnd = baseline2Length - newBaselinePointDistFromStart;\n            }\n\n            baselinePointDistFromStart = newBaselinePointDistFromStart;\n            baselinePointDistFromEnd = newBaselinePointDistFromEnd;\n        }\n    },\n\n    // Returns an array of points that represents the curve when flattened, up to `opt.precision`; or using `opt.subdivisions` provided.\n    // Flattened length is no more than 10^(-precision) away from real curve length.\n    toPoints: function(opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision; // opt.precision only used in getSubdivisions() call\n        var subdivisions = (opt.subdivisions === undefined) ? this.getSubdivisions({ precision: precision }) : opt.subdivisions;\n        // not using localOpt\n\n        var points = [subdivisions[0].start.clone()];\n        var n = subdivisions.length;\n        for (var i = 0; i < n; i++) {\n\n            var currentSubdivision = subdivisions[i];\n            points.push(currentSubdivision.end.clone());\n        }\n\n        return points;\n    },\n\n    // Returns a polyline that represents the curve when flattened, up to `opt.precision`; or using `opt.subdivisions` provided.\n    // Flattened length is no more than 10^(-precision) away from real curve length.\n    toPolyline: function(opt) {\n\n        return new Polyline(this.toPoints(opt));\n    },\n\n    toString: function() {\n\n        return this.start + ' ' + this.controlPoint1 + ' ' + this.controlPoint2 + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.start.translate(tx, ty);\n        this.controlPoint1.translate(tx, ty);\n        this.controlPoint2.translate(tx, ty);\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nCurve.prototype.divide = Curve.prototype.divideAtT;\n", "// Local helper function.\n// Add properties from arguments on top of properties from `obj`.\n// This allows for rudimentary inheritance.\n// - The `obj` argument acts as parent.\n// - This function creates a new object that inherits all `obj` properties and adds/replaces those that are present in arguments.\n// - A high-level example: calling `extend(Vehicle, Car)` would be akin to declaring `class Car extends Vehicle`.\nexport function extend(obj) {\n    // In JavaScript, the combination of a constructor function (e.g. `g.Line = function(...) {...}`) and prototype (e.g. `g.Line.prototype = {...}) is akin to a C++ class.\n    // - When inheritance is not necessary, we can leave it at that. (This would be akin to calling extend with only `obj`.)\n    // - But, what if we wanted the `g.Line` quasiclass to inherit from another quasiclass (let's call it `g.GeometryObject`) in JavaScript?\n    // - First, realize that both of those quasiclasses would still have their own separate constructor function.\n    // - So what we are actually saying is that we want the `g.Line` prototype to inherit from `g.GeometryObject` prototype.\n    // - This method provides a way to do exactly that.\n    // - It copies parent prototype's properties, then adds extra ones from child prototype/overrides parent prototype properties with child prototype properties.\n    // - Therefore, to continue with the example above:\n    //   - `g.Line.prototype = extend(g.GeometryObject.prototype, linePrototype)`\n    //   - Where `linePrototype` is a properties object that looks just like `g.Line.prototype` does right now.\n    //   - Then, `g.Line` would allow the programmer to access to all methods currently in `g.Line.Prototype`, plus any non-overridden methods from `g.GeometryObject.prototype`.\n    //   - In that aspect, `g.GeometryObject` would then act like the parent of `g.Line`.\n    // - Multiple inheritance is also possible, if multiple arguments are provided.\n    // - What if we wanted to add another level of abstraction between `g.GeometryObject` and `g.Line` (let's call it `g.LinearObject`)?\n    //   - `g.Line.prototype = extend(g.GeometryObject.prototype, g.LinearObject.prototype, linePrototype)`\n    //   - The ancestors are applied in order of appearance.\n    //   - That means that `g.Line` would have inherited from `g.LinearObject` that would have inherited from `g.GeometryObject`.\n    //   - Any number of ancestors may be provided.\n    // - Note that neither `obj` nor any of the arguments need to actually be prototypes of any JavaScript quasiclass, that was just a simplified explanation.\n    // - We can create a new object composed from the properties of any number of other objects (since they do not have a constructor, we can think of those as interfaces).\n    //   - `extend({ a: 1, b: 2 }, { b: 10, c: 20 }, { c: 100, d: 200 })` gives `{ a: 1, b: 10, c: 100, d: 200 }`.\n    //   - Basically, with this function, we can emulate the `extends` keyword as well as the `implements` keyword.\n    // - Therefore, both of the following are valid:\n    //   - `Lineto.prototype = extend(Line.prototype, segmentPrototype, linetoPrototype)`\n    //   - `Moveto.prototype = extend(segmentPrototype, movetoPrototype)`\n\n    var i;\n    var n;\n\n    var args = [];\n    n = arguments.length;\n    for (i = 1; i < n; i++) { // skip over obj\n        args.push(arguments[i]);\n    }\n\n    if (!obj) throw new Error('Missing a parent object.');\n    var child = Object.create(obj);\n\n    n = args.length;\n    for (i = 0; i < n; i++) {\n\n        var src = args[i];\n\n        var inheritedProperty;\n        var key;\n        for (key in src) {\n\n            if (src.hasOwnProperty(key)) {\n                delete child[key]; // delete property inherited from parent\n                inheritedProperty = Object.getOwnPropertyDescriptor(src, key); // get new definition of property from src\n                Object.defineProperty(child, key, inheritedProperty); // re-add property with new definition (includes getter/setter methods)\n            }\n        }\n    }\n\n    return child;\n}\n", "// Accepts path data string, array of segments, array of Curves and/or Lines, or a Polyline.\n// Path created is not guaranteed to be a valid (serializable) path (might not start with an M).\nimport { Polyline } from './polyline.mjs';\nimport { Rect } from './rect.mjs';\nimport { Point } from './point.mjs';\nimport { Line } from './line.mjs';\nimport { Curve } from './curve.mjs';\nimport { types } from './types.mjs';\nimport { extend } from './extend.mjs';\nexport const Path = function(arg) {\n\n    if (!(this instanceof Path)) {\n        return new Path(arg);\n    }\n\n    if (typeof arg === 'string') { // create from a path data string\n        return new Path.parse(arg);\n    }\n\n    this.segments = [];\n\n    var i;\n    var n;\n\n    if (!arg) {\n        // don't do anything\n\n    } else if (Array.isArray(arg) && arg.length !== 0) { // if arg is a non-empty array\n        // flatten one level deep\n        // so we can chain arbitrary Path.createSegment results\n        arg = arg.reduce(function(acc, val) {\n            return acc.concat(val);\n        }, []);\n\n        n = arg.length;\n        if (arg[0].isSegment) { // create from an array of segments\n            for (i = 0; i < n; i++) {\n\n                var segment = arg[i];\n\n                this.appendSegment(segment);\n            }\n\n        } else { // create from an array of Curves and/or Lines\n            var previousObj = null;\n            for (i = 0; i < n; i++) {\n\n                var obj = arg[i];\n\n                if (!((obj instanceof Line) || (obj instanceof Curve))) {\n                    throw new Error('Cannot construct a path segment from the provided object.');\n                }\n\n                if (i === 0) this.appendSegment(Path.createSegment('M', obj.start));\n\n                // if objects do not link up, moveto segments are inserted to cover the gaps\n                if (previousObj && !previousObj.end.equals(obj.start)) this.appendSegment(Path.createSegment('M', obj.start));\n\n                if (obj instanceof Line) {\n                    this.appendSegment(Path.createSegment('L', obj.end));\n\n                } else if (obj instanceof Curve) {\n                    this.appendSegment(Path.createSegment('C', obj.controlPoint1, obj.controlPoint2, obj.end));\n                }\n\n                previousObj = obj;\n            }\n        }\n\n    } else if (arg.isSegment) { // create from a single segment\n        this.appendSegment(arg);\n\n    } else if (arg instanceof Line) { // create from a single Line\n        this.appendSegment(Path.createSegment('M', arg.start));\n        this.appendSegment(Path.createSegment('L', arg.end));\n\n    } else if (arg instanceof Curve) { // create from a single Curve\n        this.appendSegment(Path.createSegment('M', arg.start));\n        this.appendSegment(Path.createSegment('C', arg.controlPoint1, arg.controlPoint2, arg.end));\n\n    } else if (arg instanceof Polyline) { // create from a Polyline\n        if (!(arg.points && (arg.points.length !== 0))) return; // if Polyline has no points, leave Path empty\n\n        n = arg.points.length;\n        for (i = 0; i < n; i++) {\n\n            var point = arg.points[i];\n\n            if (i === 0) this.appendSegment(Path.createSegment('M', point));\n            else this.appendSegment(Path.createSegment('L', point));\n        }\n\n    } else { // unknown object\n        throw new Error('Cannot construct a path from the provided object.');\n    }\n};\n\n// More permissive than V.normalizePathData and Path.prototype.serialize.\n// Allows path data strings that do not start with a Moveto command (unlike SVG specification).\n// Does not require spaces between elements; commas are allowed, separators may be omitted when unambiguous (e.g. 'ZM10,10', 'L1.6.8', 'M100-200').\n// Allows for command argument chaining.\n// Throws an error if wrong number of arguments is provided with a command.\n// Throws an error if an unrecognized path command is provided (according to Path.segmentTypes). Only a subset of SVG commands is currently supported (L, C, M, Z).\nPath.parse = function(pathData) {\n\n    if (!pathData) return new Path();\n\n    var path = new Path();\n\n    var commandRe = /(?:[a-zA-Z] *)(?:(?:-?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)? *,? *)|(?:-?\\.\\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\\d|-|\\.)/g;\n    var commands = pathData.match(commandRe);\n\n    var numCommands = commands.length;\n    for (var i = 0; i < numCommands; i++) {\n\n        var command = commands[i];\n        var argRe = /(?:[a-zA-Z])|(?:(?:-?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))|(?:(?:-?\\.\\d+))/g;\n        var args = command.match(argRe);\n\n        var segment = Path.createSegment.apply(this, args); // args = [type, coordinate1, coordinate2...]\n        path.appendSegment(segment);\n    }\n\n    return path;\n};\n\n// Create a segment or an array of segments.\n// Accepts unlimited points/coords arguments after `type`.\nPath.createSegment = function(type) {\n\n    if (!type) throw new Error('Type must be provided.');\n\n    var segmentConstructor = Path.segmentTypes[type];\n    if (!segmentConstructor) throw new Error(type + ' is not a recognized path segment type.');\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 1; i < n; i++) { // do not add first element (`type`) to args array\n        args.push(arguments[i]);\n    }\n\n    return applyToNew(segmentConstructor, args);\n};\n\nPath.prototype = {\n\n    type: types.Path,\n\n    // Accepts one segment or an array of segments as argument.\n    // Throws an error if argument is not a segment or an array of segments.\n    appendSegment: function(arg) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        var currentSegment;\n\n        var previousSegment = ((numSegments !== 0) ? segments[numSegments - 1] : null); // if we are appending to an empty path, previousSegment is null\n        var nextSegment = null;\n\n        if (!Array.isArray(arg)) { // arg is a segment\n            if (!arg || !arg.isSegment) throw new Error('Segment required.');\n\n            currentSegment = this.prepareSegment(arg, previousSegment, nextSegment);\n            segments.push(currentSegment);\n\n        } else { // arg is an array of segments\n            // flatten one level deep\n            // so we can chain arbitrary Path.createSegment results\n            arg = arg.reduce(function(acc, val) {\n                return acc.concat(val);\n            }, []);\n\n            if (!arg[0].isSegment) throw new Error('Segments required.');\n\n            var n = arg.length;\n            for (var i = 0; i < n; i++) {\n\n                var currentArg = arg[i];\n                currentSegment = this.prepareSegment(currentArg, previousSegment, nextSegment);\n                segments.push(currentSegment);\n                previousSegment = currentSegment;\n            }\n        }\n    },\n\n    // Returns the bbox of the path.\n    // If path has no segments, returns null.\n    // If path has only invisible segments, returns bbox of the end point of last segment.\n    bbox: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var bbox;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            if (segment.isVisible) {\n                var segmentBBox = segment.bbox();\n                bbox = bbox ? bbox.union(segmentBBox) : segmentBBox;\n            }\n        }\n\n        if (bbox) return bbox;\n\n        // if the path has only invisible elements, return end point of last segment\n        var lastSegment = segments[numSegments - 1];\n        return new Rect(lastSegment.end.x, lastSegment.end.y, 0, 0);\n    },\n\n    // Returns a new path that is a clone of this path.\n    clone: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        var path = new Path();\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i].clone();\n            path.appendSegment(segment);\n        }\n\n        return path;\n    },\n\n    closestPoint: function(p, opt) {\n\n        var t = this.closestPointT(p, opt);\n        if (!t) return null;\n\n        return this.pointAtT(t);\n    },\n\n    closestPointLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var t = this.closestPointT(p, localOpt);\n        if (!t) return 0;\n\n        return this.lengthAtT(t, localOpt);\n    },\n\n    closestPointNormalizedLength: function(p, opt) {\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var cpLength = this.closestPointLength(p, localOpt);\n        if (cpLength === 0) return 0; // shortcut\n\n        var length = this.length(localOpt);\n        if (length === 0) return 0; // prevents division by zero\n\n        return cpLength / length;\n    },\n\n    // Private function.\n    closestPointT: function(p, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var closestPointT;\n        var minSquaredDistance = Infinity;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segmentSubdivisions[i];\n\n            if (segment.isVisible) {\n                var segmentClosestPointT = segment.closestPointT(p, {\n                    precision: precision,\n                    subdivisions: subdivisions\n                });\n                var segmentClosestPoint = segment.pointAtT(segmentClosestPointT);\n                var squaredDistance = (new Line(segmentClosestPoint, p)).squaredLength();\n\n                if (squaredDistance < minSquaredDistance) {\n                    closestPointT = { segmentIndex: i, value: segmentClosestPointT };\n                    minSquaredDistance = squaredDistance;\n                }\n            }\n        }\n\n        if (closestPointT) return closestPointT;\n\n        // if no visible segment, return end of last segment\n        return { segmentIndex: numSegments - 1, value: 1 };\n    },\n\n    closestPointTangent: function(p, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var closestPointTangent;\n        var minSquaredDistance = Infinity;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segmentSubdivisions[i];\n\n            if (segment.isDifferentiable()) {\n                var segmentClosestPointT = segment.closestPointT(p, {\n                    precision: precision,\n                    subdivisions: subdivisions\n                });\n                var segmentClosestPoint = segment.pointAtT(segmentClosestPointT);\n                var squaredDistance = (new Line(segmentClosestPoint, p)).squaredLength();\n\n                if (squaredDistance < minSquaredDistance) {\n                    closestPointTangent = segment.tangentAtT(segmentClosestPointT);\n                    minSquaredDistance = squaredDistance;\n                }\n            }\n        }\n\n        if (closestPointTangent) return closestPointTangent;\n\n        // if no valid segment, return null\n        return null;\n    },\n\n    // Returns `true` if the area surrounded by the path contains the point `p`.\n    // Implements the even-odd algorithm (self-intersections are \"outside\").\n    // Closes open paths (always imagines a final closing segment).\n    // Precision may be adjusted by passing an `opt` object.\n    containsPoint: function(p, opt) {\n\n        var polylines = this.toPolylines(opt);\n        if (!polylines) return false; // shortcut (this path has no polylines)\n\n        var numPolylines = polylines.length;\n\n        // how many component polylines does `p` lie within?\n        var numIntersections = 0;\n        for (var i = 0; i < numPolylines; i++) {\n            var polyline = polylines[i];\n            if (polyline.containsPoint(p)) {\n                // `p` lies within this polyline\n                numIntersections++;\n            }\n        }\n\n        // returns `true` for odd numbers of intersections (even-odd algorithm)\n        return ((numIntersections % 2) === 1);\n    },\n\n    // Divides the path into two at requested `ratio` between 0 and 1 with precision better than `opt.precision`; optionally using `opt.subdivisions` provided.\n    divideAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.divideAtLength(length, localOpt);\n    },\n\n    // Divides the path into two at requested `length` with precision better than requested `opt.precision`; optionally using `opt.subdivisions` provided.\n    divideAtLength: function(length, opt) {\n\n        var numSegments = this.segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var i;\n        var segment;\n\n        // identify the segment to divide:\n\n        var l = 0; // length so far\n        var divided;\n        var dividedSegmentIndex;\n        var lastValidSegment; // visible AND differentiable\n        var lastValidSegmentIndex;\n        var t;\n        for (i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            segment = this.getSegment(index);\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isDifferentiable()) { // segment is not just a point\n                lastValidSegment = segment;\n                lastValidSegmentIndex = index;\n\n                if (length <= (l + d)) {\n                    dividedSegmentIndex = index;\n                    divided = segment.divideAtLength(((fromStart ? 1 : -1) * (length - l)), {\n                        precision: precision,\n                        subdivisions: subdivisions\n                    });\n                    break;\n                }\n            }\n\n            l += d;\n        }\n\n        if (!lastValidSegment) { // no valid segment found\n            return null;\n        }\n\n        // else: the path contains at least one valid segment\n\n        if (!divided) { // the desired length is greater than the length of the path\n            dividedSegmentIndex = lastValidSegmentIndex;\n            t = (fromStart ? 1 : 0);\n            divided = lastValidSegment.divideAtT(t);\n        }\n\n        // create a copy of this path and replace the identified segment with its two divided parts:\n\n        var pathCopy = this.clone();\n        pathCopy.replaceSegment(dividedSegmentIndex, divided);\n\n        var divisionStartIndex = dividedSegmentIndex;\n        var divisionMidIndex = dividedSegmentIndex + 1;\n        var divisionEndIndex = dividedSegmentIndex + 2;\n\n        // do not insert the part if it looks like a point\n        if (!divided[0].isDifferentiable()) {\n            pathCopy.removeSegment(divisionStartIndex);\n            divisionMidIndex -= 1;\n            divisionEndIndex -= 1;\n        }\n\n        // insert a Moveto segment to ensure secondPath will be valid:\n        var movetoEnd = pathCopy.getSegment(divisionMidIndex).start;\n        pathCopy.insertSegment(divisionMidIndex, Path.createSegment('M', movetoEnd));\n        divisionEndIndex += 1;\n\n        // do not insert the part if it looks like a point\n        if (!divided[1].isDifferentiable()) {\n            pathCopy.removeSegment(divisionEndIndex - 1);\n            divisionEndIndex -= 1;\n        }\n\n        // ensure that Closepath segments in secondPath will be assigned correct subpathStartSegment:\n\n        var secondPathSegmentIndexConversion = divisionEndIndex - divisionStartIndex - 1;\n        for (i = divisionEndIndex; i < pathCopy.segments.length; i++) {\n\n            var originalSegment = this.getSegment(i - secondPathSegmentIndexConversion);\n            segment = pathCopy.getSegment(i);\n\n            if ((segment.type === 'Z') && !originalSegment.subpathStartSegment.end.equals(segment.subpathStartSegment.end)) {\n                // pathCopy segment's subpathStartSegment is different from original segment's one\n                // convert this Closepath segment to a Lineto and replace it in pathCopy\n                var convertedSegment = Path.createSegment('L', originalSegment.end);\n                pathCopy.replaceSegment(i, convertedSegment);\n            }\n        }\n\n        // distribute pathCopy segments into two paths and return those:\n\n        var firstPath = new Path(pathCopy.segments.slice(0, divisionMidIndex));\n        var secondPath = new Path(pathCopy.segments.slice(divisionMidIndex));\n\n        return [firstPath, secondPath];\n    },\n\n    // Checks whether two paths are exactly the same.\n    // If `p` is undefined or null, returns false.\n    equals: function(p) {\n\n        if (!p) return false;\n\n        var segments = this.segments;\n        var otherSegments = p.segments;\n\n        var numSegments = segments.length;\n        if (otherSegments.length !== numSegments) return false; // if the two paths have different number of segments, they cannot be equal\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var otherSegment = otherSegments[i];\n\n            // as soon as an inequality is found in segments, return false\n            if ((segment.type !== otherSegment.type) || (!segment.equals(otherSegment))) return false;\n        }\n\n        // if no inequality found in segments, return true\n        return true;\n    },\n\n    // Accepts negative indices.\n    // Throws an error if path has no segments.\n    // Throws an error if index is out of range.\n    getSegment: function(index) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) throw new Error('Path has no segments.');\n\n        if (index < 0) index = numSegments + index; // convert negative indices to positive\n        if (index >= numSegments || index < 0) throw new Error('Index out of range.');\n\n        return segments[index];\n    },\n\n    // Returns an array of segment subdivisions, with precision better than requested `opt.precision`.\n    getSegmentSubdivisions: function(opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        // not using opt.segmentSubdivisions\n        // not using localOpt\n\n        var segmentSubdivisions = [];\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segment.getSubdivisions({ precision: precision });\n            segmentSubdivisions.push(subdivisions);\n        }\n\n        return segmentSubdivisions;\n    },\n\n    // Returns an array of subpaths of this path.\n    // Invalid paths are validated first.\n    // Returns `[]` if path has no segments.\n    getSubpaths: function() {\n\n        const validatedPath = this.clone().validate();\n\n        const segments = validatedPath.segments;\n        const numSegments = segments.length;\n\n        const subpaths = [];\n        for (let i = 0; i < numSegments; i++) {\n\n            const segment = segments[i];\n            if (segment.isSubpathStart) {\n                // we encountered a subpath start segment\n                // create a new path for segment, and push it to list of subpaths\n                subpaths.push(new Path(segment));\n\n            } else {\n                // append current segment to the last subpath\n                subpaths[subpaths.length - 1].appendSegment(segment);\n            }\n        }\n\n        return subpaths;\n    },\n\n    // Insert `arg` at given `index`.\n    // `index = 0` means insert at the beginning.\n    // `index = segments.length` means insert at the end.\n    // Accepts negative indices, from `-1` to `-(segments.length + 1)`.\n    // Accepts one segment or an array of segments as argument.\n    // Throws an error if index is out of range.\n    // Throws an error if argument is not a segment or an array of segments.\n    insertSegment: function(index, arg) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        // works even if path has no segments\n\n        // note that these are incremented compared to getSegments()\n        // we can insert after last element (note that this changes the meaning of index -1)\n        if (index < 0) index = numSegments + index + 1; // convert negative indices to positive\n        if (index > numSegments || index < 0) throw new Error('Index out of range.');\n\n        var currentSegment;\n\n        var previousSegment = null;\n        var nextSegment = null;\n\n        if (numSegments !== 0) {\n            if (index >= 1) {\n                previousSegment = segments[index - 1];\n                nextSegment = previousSegment.nextSegment; // if we are inserting at end, nextSegment is null\n\n            } else { // if index === 0\n                // previousSegment is null\n                nextSegment = segments[0];\n            }\n        }\n\n        if (!Array.isArray(arg)) {\n            if (!arg || !arg.isSegment) throw new Error('Segment required.');\n\n            currentSegment = this.prepareSegment(arg, previousSegment, nextSegment);\n            segments.splice(index, 0, currentSegment);\n\n        } else {\n            // flatten one level deep\n            // so we can chain arbitrary Path.createSegment results\n            arg = arg.reduce(function(acc, val) {\n                return acc.concat(val);\n            }, []);\n\n            if (!arg[0].isSegment) throw new Error('Segments required.');\n\n            var n = arg.length;\n            for (var i = 0; i < n; i++) {\n\n                var currentArg = arg[i];\n                currentSegment = this.prepareSegment(currentArg, previousSegment, nextSegment);\n                segments.splice((index + i), 0, currentSegment); // incrementing index to insert subsequent segments after inserted segments\n                previousSegment = currentSegment;\n            }\n        }\n    },\n\n    intersectionWithLine: function(line, opt) {\n\n        var intersection = null;\n        var polylines = this.toPolylines(opt);\n        if (!polylines) return null;\n        for (var i = 0, n = polylines.length; i < n; i++) {\n            var polyline = polylines[i];\n            var polylineIntersection = line.intersect(polyline);\n            if (polylineIntersection) {\n                intersection || (intersection = []);\n                if (Array.isArray(polylineIntersection)) {\n                    Array.prototype.push.apply(intersection, polylineIntersection);\n                } else {\n                    intersection.push(polylineIntersection);\n                }\n            }\n        }\n\n        return intersection;\n    },\n\n    isDifferentiable: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            // as soon as a differentiable segment is found in segments, return true\n            if (segment.isDifferentiable()) return true;\n        }\n\n        // if no differentiable segment is found in segments, return false\n        return false;\n    },\n\n    // Checks whether current path segments are valid.\n    // Note that d is allowed to be empty - should disable rendering of the path.\n    isValid: function() {\n\n        var segments = this.segments;\n        var isValid = (segments.length === 0) || (segments[0].type === 'M'); // either empty or first segment is a Moveto\n        return isValid;\n    },\n\n    // Returns length of the path, with precision better than requested `opt.precision`; or using `opt.segmentSubdivisions` provided.\n    // If path has no segments, returns 0.\n    length: function(opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return 0; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision; // opt.precision only used in getSegmentSubdivisions() call\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var length = 0;\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            var subdivisions = segmentSubdivisions[i];\n            length += segment.length({ subdivisions: subdivisions });\n        }\n\n        return length;\n    },\n\n    // Private function.\n    lengthAtT: function(t, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return 0; // if segments is an empty array\n\n        var segmentIndex = t.segmentIndex;\n        if (segmentIndex < 0) return 0; // regardless of t.value\n\n        var tValue = t.value;\n        if (segmentIndex >= numSegments) {\n            segmentIndex = numSegments - 1;\n            tValue = 1;\n        } else if (tValue < 0) tValue = 0;\n        else if (tValue > 1) tValue = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var subdivisions;\n        var length = 0;\n        for (var i = 0; i < segmentIndex; i++) {\n\n            var segment = segments[i];\n            subdivisions = segmentSubdivisions[i];\n            length += segment.length({ precisison: precision, subdivisions: subdivisions });\n        }\n\n        segment = segments[segmentIndex];\n        subdivisions = segmentSubdivisions[segmentIndex];\n        length += segment.lengthAtT(tValue, { precisison: precision, subdivisions: subdivisions });\n\n        return length;\n    },\n\n    // Returns point at requested `ratio` between 0 and 1, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    pointAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio <= 0) return this.start.clone();\n        if (ratio >= 1) return this.end.clone();\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.pointAtLength(length, localOpt);\n    },\n\n    // Returns point at requested `length`, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    // Accepts negative length.\n    pointAtLength: function(length, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (length === 0) return this.start.clone();\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var lastVisibleSegment;\n        var l = 0; // length so far\n        for (var i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            var segment = segments[index];\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isVisible) {\n                if (length <= (l + d)) {\n                    return segment.pointAtLength(((fromStart ? 1 : -1) * (length - l)), {\n                        precision: precision,\n                        subdivisions: subdivisions\n                    });\n                }\n\n                lastVisibleSegment = segment;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the path, return last visible segment endpoint\n        if (lastVisibleSegment) return (fromStart ? lastVisibleSegment.end : lastVisibleSegment.start);\n\n        // if no visible segment, return last segment end point (no matter if fromStart or no)\n        var lastSegment = segments[numSegments - 1];\n        return lastSegment.end.clone();\n    },\n\n    // Private function.\n    pointAtT: function(t) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var segmentIndex = t.segmentIndex;\n        if (segmentIndex < 0) return segments[0].pointAtT(0);\n        if (segmentIndex >= numSegments) return segments[numSegments - 1].pointAtT(1);\n\n        var tValue = t.value;\n        if (tValue < 0) tValue = 0;\n        else if (tValue > 1) tValue = 1;\n\n        return segments[segmentIndex].pointAtT(tValue);\n    },\n\n    // Default precision\n    PRECISION: 3,\n\n    // Helper method for adding segments.\n    prepareSegment: function(segment, previousSegment, nextSegment) {\n\n        // insert after previous segment and before previous segment's next segment\n        segment.previousSegment = previousSegment;\n        segment.nextSegment = nextSegment;\n        if (previousSegment) previousSegment.nextSegment = segment;\n        if (nextSegment) nextSegment.previousSegment = segment;\n\n        var updateSubpathStart = segment;\n        if (segment.isSubpathStart) {\n            segment.subpathStartSegment = segment; // assign self as subpath start segment\n            updateSubpathStart = nextSegment; // start updating from next segment\n        }\n\n        // assign previous segment's subpath start (or self if it is a subpath start) to subsequent segments\n        if (updateSubpathStart) this.updateSubpathStartSegment(updateSubpathStart);\n\n        return segment;\n    },\n\n    // Remove the segment at `index`.\n    // Accepts negative indices, from `-1` to `-segments.length`.\n    // Throws an error if path has no segments.\n    // Throws an error if index is out of range.\n    removeSegment: function(index) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) throw new Error('Path has no segments.');\n\n        if (index < 0) index = numSegments + index; // convert negative indices to positive\n        if (index >= numSegments || index < 0) throw new Error('Index out of range.');\n\n        var removedSegment = segments.splice(index, 1)[0];\n        var previousSegment = removedSegment.previousSegment;\n        var nextSegment = removedSegment.nextSegment;\n\n        // link the previous and next segments together (if present)\n        if (previousSegment) previousSegment.nextSegment = nextSegment; // may be null\n        if (nextSegment) nextSegment.previousSegment = previousSegment; // may be null\n\n        // if removed segment used to start a subpath, update all subsequent segments until another subpath start segment is reached\n        if (removedSegment.isSubpathStart && nextSegment) this.updateSubpathStartSegment(nextSegment);\n    },\n\n    // Replace the segment at `index` with `arg`.\n    // Accepts negative indices, from `-1` to `-segments.length`.\n    // Accepts one segment or an array of segments as argument.\n    // Throws an error if path has no segments.\n    // Throws an error if index is out of range.\n    // Throws an error if argument is not a segment or an array of segments.\n    replaceSegment: function(index, arg) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) throw new Error('Path has no segments.');\n\n        if (index < 0) index = numSegments + index; // convert negative indices to positive\n        if (index >= numSegments || index < 0) throw new Error('Index out of range.');\n\n        var currentSegment;\n\n        var replacedSegment = segments[index];\n        var previousSegment = replacedSegment.previousSegment;\n        var nextSegment = replacedSegment.nextSegment;\n\n        var updateSubpathStart = replacedSegment.isSubpathStart; // boolean: is an update of subpath starts necessary?\n\n        if (!Array.isArray(arg)) {\n            if (!arg || !arg.isSegment) throw new Error('Segment required.');\n\n            currentSegment = this.prepareSegment(arg, previousSegment, nextSegment);\n            segments.splice(index, 1, currentSegment); // directly replace\n\n            if (updateSubpathStart && currentSegment.isSubpathStart) updateSubpathStart = false; // already updated by `prepareSegment`\n\n        } else {\n            // flatten one level deep\n            // so we can chain arbitrary Path.createSegment results\n            arg = arg.reduce(function(acc, val) {\n                return acc.concat(val);\n            }, []);\n\n            if (!arg[0].isSegment) throw new Error('Segments required.');\n\n            segments.splice(index, 1);\n\n            var n = arg.length;\n            for (var i = 0; i < n; i++) {\n\n                var currentArg = arg[i];\n                currentSegment = this.prepareSegment(currentArg, previousSegment, nextSegment);\n                segments.splice((index + i), 0, currentSegment); // incrementing index to insert subsequent segments after inserted segments\n                previousSegment = currentSegment;\n\n                if (updateSubpathStart && currentSegment.isSubpathStart) updateSubpathStart = false; // already updated by `prepareSegment`\n            }\n        }\n\n        // if replaced segment used to start a subpath and no new subpath start was added, update all subsequent segments until another subpath start segment is reached\n        if (updateSubpathStart && nextSegment) this.updateSubpathStartSegment(nextSegment);\n    },\n\n    round: function(precision) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            segment.round(precision);\n        }\n\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            segment.scale(sx, sy, origin);\n        }\n\n        return this;\n    },\n\n    segmentAt: function(ratio, opt) {\n\n        var index = this.segmentIndexAt(ratio, opt);\n        if (!index) return null;\n\n        return this.getSegment(index);\n    },\n\n    // Accepts negative length.\n    segmentAtLength: function(length, opt) {\n\n        var index = this.segmentIndexAtLength(length, opt);\n        if (!index) return null;\n\n        return this.getSegment(index);\n    },\n\n    segmentIndexAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.segmentIndexAtLength(length, localOpt);\n    },\n\n    // Accepts negative length.\n    segmentIndexAtLength: function(length, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var lastVisibleSegmentIndex = null;\n        var l = 0; // length so far\n        for (var i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            var segment = segments[index];\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isVisible) {\n                if (length <= (l + d)) return index;\n                lastVisibleSegmentIndex = index;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the path, return last visible segment index\n        // if no visible segment, return null\n        return lastVisibleSegmentIndex;\n    },\n\n    // Returns a string that can be used to reconstruct the path.\n    // Additional error checking compared to toString (must start with M segment).\n    serialize: function() {\n\n        if (!this.isValid()) throw new Error('Invalid path segments.');\n\n        return this.toString();\n    },\n\n    // Returns tangent line at requested `ratio` between 0 and 1, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    tangentAt: function(ratio, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        if (ratio < 0) ratio = 0;\n        if (ratio > 1) ratio = 1;\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        var localOpt = { precision: precision, segmentSubdivisions: segmentSubdivisions };\n\n        var pathLength = this.length(localOpt);\n        var length = pathLength * ratio;\n\n        return this.tangentAtLength(length, localOpt);\n    },\n\n    // Returns tangent line at requested `length`, with precision better than requested `opt.precision`; optionally using `opt.segmentSubdivisions` provided.\n    // Accepts negative length.\n    tangentAtLength: function(length, opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var fromStart = true;\n        if (length < 0) {\n            fromStart = false; // negative lengths mean start calculation from end point\n            length = -length; // absolute value\n        }\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n        // not using localOpt\n\n        var lastValidSegment; // visible AND differentiable (with a tangent)\n        var l = 0; // length so far\n        for (var i = 0; i < numSegments; i++) {\n            var index = (fromStart ? i : (numSegments - 1 - i));\n\n            var segment = segments[index];\n            var subdivisions = segmentSubdivisions[index];\n            var d = segment.length({ precision: precision, subdivisions: subdivisions });\n\n            if (segment.isDifferentiable()) {\n                if (length <= (l + d)) {\n                    return segment.tangentAtLength(((fromStart ? 1 : -1) * (length - l)), {\n                        precision: precision,\n                        subdivisions: subdivisions\n                    });\n                }\n\n                lastValidSegment = segment;\n            }\n\n            l += d;\n        }\n\n        // if length requested is higher than the length of the path, return tangent of endpoint of last valid segment\n        if (lastValidSegment) {\n            var t = (fromStart ? 1 : 0);\n            return lastValidSegment.tangentAtT(t);\n        }\n\n        // if no valid segment, return null\n        return null;\n    },\n\n    // Private function.\n    tangentAtT: function(t) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        var segmentIndex = t.segmentIndex;\n        if (segmentIndex < 0) return segments[0].tangentAtT(0);\n        if (segmentIndex >= numSegments) return segments[numSegments - 1].tangentAtT(1);\n\n        var tValue = t.value;\n        if (tValue < 0) tValue = 0;\n        else if (tValue > 1) tValue = 1;\n\n        return segments[segmentIndex].tangentAtT(tValue);\n    },\n\n    toPoints: function(opt) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null; // if segments is an empty array\n\n        opt = opt || {};\n        var precision = (opt.precision === undefined) ? this.PRECISION : opt.precision;\n        var segmentSubdivisions = (opt.segmentSubdivisions === undefined) ? this.getSegmentSubdivisions({ precision: precision }) : opt.segmentSubdivisions;\n\n        var points = [];\n        var partialPoints = [];\n        for (var i = 0; i < numSegments; i++) {\n            var segment = segments[i];\n            if (segment.isVisible) {\n                var currentSegmentSubdivisions = segmentSubdivisions[i];\n                if (currentSegmentSubdivisions.length > 0) {\n                    var subdivisionPoints = currentSegmentSubdivisions.map(function(curve) {\n                        return curve.start;\n                    });\n                    Array.prototype.push.apply(partialPoints, subdivisionPoints);\n                } else {\n                    partialPoints.push(segment.start);\n                }\n            } else if (partialPoints.length > 0) {\n                partialPoints.push(segments[i - 1].end);\n                points.push(partialPoints);\n                partialPoints = [];\n            }\n        }\n\n        if (partialPoints.length > 0) {\n            partialPoints.push(this.end);\n            points.push(partialPoints);\n        }\n        return points;\n    },\n\n    toPolylines: function(opt) {\n\n        var polylines = [];\n        var points = this.toPoints(opt);\n        if (!points) return null;\n        for (var i = 0, n = points.length; i < n; i++) {\n            polylines.push(new Polyline(points[i]));\n        }\n\n        return polylines;\n    },\n\n    toString: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        var pathData = '';\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            pathData += segment.serialize() + ' ';\n        }\n\n        return pathData.trim();\n    },\n\n    translate: function(tx, ty) {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            segment.translate(tx, ty);\n        }\n\n        return this;\n    },\n\n    // Helper method for updating subpath start of segments, starting with the one provided.\n    updateSubpathStartSegment: function(segment) {\n\n        var previousSegment = segment.previousSegment; // may be null\n        while (segment && !segment.isSubpathStart) {\n\n            // assign previous segment's subpath start segment to this segment\n            if (previousSegment) segment.subpathStartSegment = previousSegment.subpathStartSegment; // may be null\n            else segment.subpathStartSegment = null; // if segment had no previous segment, assign null - creates an invalid path!\n\n            previousSegment = segment;\n            segment = segment.nextSegment; // move on to the segment after etc.\n        }\n    },\n\n    // If the path is not valid, insert M 0 0 at the beginning.\n    // Path with no segments is considered valid, so nothing is inserted.\n    validate: function() {\n\n        if (!this.isValid()) this.insertSegment(0, Path.createSegment('M', 0, 0));\n        return this;\n    }\n};\n\nObject.defineProperty(Path.prototype, 'start', {\n    // Getter for the first visible endpoint of the path.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null;\n\n        for (var i = 0; i < numSegments; i++) {\n\n            var segment = segments[i];\n            if (segment.isVisible) return segment.start;\n        }\n\n        // if no visible segment, return last segment end point\n        return segments[numSegments - 1].end;\n    }\n});\n\nObject.defineProperty(Path.prototype, 'end', {\n    // Getter for the last visible endpoint of the path.\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        var segments = this.segments;\n        var numSegments = segments.length;\n        if (numSegments === 0) return null;\n\n        for (var i = numSegments - 1; i >= 0; i--) {\n\n            var segment = segments[i];\n            if (segment.isVisible) return segment.end;\n        }\n\n        // if no visible segment, return last segment end point\n        return segments[numSegments - 1].end;\n    }\n});\n\n\n// Local helper function.\n// Use an array of arguments to call a constructor (function called with `new`).\n// Adapted from https://stackoverflow.com/a/8843181/2263595\n// It is not necessary to use this function if the arguments can be passed separately (i.e. if the number of arguments is limited).\n// - If that is the case, use `new constructor(arg1, arg2)`, for example.\n// It is not necessary to use this function if the function that needs an array of arguments is not supposed to be used as a constructor.\n// - If that is the case, use `f.apply(thisArg, [arg1, arg2...])`, for example.\nfunction applyToNew(constructor, argsArray) {\n    // The `new` keyword can only be applied to functions that take a limited number of arguments.\n    // - We can fake that with .bind().\n    // - It calls a function (`constructor`, here) with the arguments that were provided to it - effectively transforming an unlimited number of arguments into limited.\n    // - So `new (constructor.bind(thisArg, arg1, arg2...))`\n    // - `thisArg` can be anything (e.g. null) because `new` keyword resets context to the constructor object.\n    // We need to pass in a variable number of arguments to the bind() call.\n    // - We can use .apply().\n    // - So `new (constructor.bind.apply(constructor, [thisArg, arg1, arg2...]))`\n    // - `thisArg` can still be anything because `new` overwrites it.\n    // Finally, to make sure that constructor.bind overwriting is not a problem, we switch to `Function.prototype.bind`.\n    // - So, the final version is `new (Function.prototype.bind.apply(constructor, [thisArg, arg1, arg2...]))`\n\n    // The function expects `argsArray[0]` to be `thisArg`.\n    // - This means that whatever is sent as the first element will be ignored.\n    // - The constructor will only see arguments starting from argsArray[1].\n    // - So, a new dummy element is inserted at the start of the array.\n    argsArray.unshift(null);\n\n    return new (Function.prototype.bind.apply(constructor, argsArray));\n}\n\n// Path segment interface:\nvar segmentPrototype = {\n\n    // virtual\n    bbox: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    clone: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    closestPoint: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    closestPointLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    closestPointNormalizedLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to closestPointNormalizedLength() function if closestPointT() is not defined for segment.\n    closestPointT: function(p) {\n\n        if (this.closestPointNormalizedLength) return this.closestPointNormalizedLength(p);\n\n        throw new Error('Neither closestPointT() nor closestPointNormalizedLength() function is implemented.');\n    },\n\n    // virtual\n    closestPointTangent: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    divideAt: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    divideAtLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to divideAt() function if divideAtT() is not defined for segment.\n    divideAtT: function(t) {\n\n        if (this.divideAt) return this.divideAt(t);\n\n        throw new Error('Neither divideAtT() nor divideAt() function is implemented.');\n    },\n\n    // virtual\n    equals: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    getSubdivisions: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    isDifferentiable: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    isSegment: true,\n\n    isSubpathStart: false, // true for Moveto segments\n\n    isVisible: true, // false for Moveto segments\n\n    // virtual\n    length: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Return a fraction of result of length() function if lengthAtT() is not defined for segment.\n    lengthAtT: function(t) {\n\n        if (t <= 0) return 0;\n\n        var length = this.length();\n\n        if (t >= 1) return length;\n\n        return length * t;\n    },\n\n    nextSegment: null, // needed for subpath start segment updating\n\n    // virtual\n    pointAt: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    pointAtLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to pointAt() function if pointAtT() is not defined for segment.\n    pointAtT: function(t) {\n\n        if (this.pointAt) return this.pointAt(t);\n\n        throw new Error('Neither pointAtT() nor pointAt() function is implemented.');\n    },\n\n    previousSegment: null, // needed to get segment start property\n\n    // virtual\n    round: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    subpathStartSegment: null, // needed to get Closepath segment end property\n\n    // virtual\n    scale: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    serialize: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    tangentAt: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    tangentAtLength: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // Redirect calls to tangentAt() function if tangentAtT() is not defined for segment.\n    tangentAtT: function(t) {\n\n        if (this.tangentAt) return this.tangentAt(t);\n\n        throw new Error('Neither tangentAtT() nor tangentAt() function is implemented.');\n    },\n\n    // virtual\n    toString: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    },\n\n    // virtual\n    translate: function() {\n\n        throw new Error('Declaration missing for virtual function.');\n    }\n};\n\n// usually directly assigned\n// getter for Closepath\nObject.defineProperty(segmentPrototype, 'end', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    writable: true\n});\n\n// always a getter\n// always throws error for Moveto\nObject.defineProperty(segmentPrototype, 'start', {\n    // get a reference to the end point of previous segment\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        if (!this.previousSegment) throw new Error('Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)');\n\n        return this.previousSegment.end;\n    }\n});\n\n// virtual\nObject.defineProperty(segmentPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        throw new Error('Bad segment declaration. No type specified.');\n    }\n});\n\n// Path segment implementations:\nvar Lineto = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Lineto)) { // switching context of `this` to Lineto when called without `new`\n        return applyToNew(Lineto, args);\n    }\n\n    if (n === 0) {\n        throw new Error('Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).');\n    }\n\n    var outputArray;\n\n    if (args[0] instanceof Line) { // lines provided\n        if (n === 1) {\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Lineto constructor expects a line, 1 point, or 2 coordinates (' + n + ' lines provided).');\n        }\n\n    } else if (typeof args[0] === 'string' || typeof args[0] === 'number') { // coordinates provided\n        if (n === 2) {\n            this.end = new Point(+args[0], +args[1]);\n            return this;\n\n        } else if (n < 2) {\n            throw new Error('Lineto constructor expects a line, 1 point, or 2 coordinates (' + n + ' coordinates provided).');\n\n        } else { // this is a poly-line segment\n            var segmentCoords;\n            outputArray = [];\n            for (i = 0; i < n; i += 2) { // coords come in groups of two\n\n                segmentCoords = args.slice(i, i + 2); // will send one coord if args.length not divisible by 2\n                outputArray.push(applyToNew(Lineto, segmentCoords));\n            }\n            return outputArray;\n        }\n\n    } else { // points provided (needs to be last to also cover plain objects with x and y)\n        if (n === 1) {\n            this.end = new Point(args[0]);\n            return this;\n\n        } else { // this is a poly-line segment\n            var segmentPoint;\n            outputArray = [];\n            for (i = 0; i < n; i += 1) {\n\n                segmentPoint = args[i];\n                outputArray.push(new Lineto(segmentPoint));\n            }\n            return outputArray;\n        }\n    }\n};\n\nvar linetoPrototype = {\n\n    clone: function() {\n\n        return new Lineto(this.end);\n    },\n\n    divideAt: function(ratio) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAt(ratio);\n        return [\n            new Lineto(divided[0]),\n            new Lineto(divided[1])\n        ];\n    },\n\n    divideAtLength: function(length) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAtLength(length);\n        return [\n            new Lineto(divided[0]),\n            new Lineto(divided[1])\n        ];\n    },\n\n    getSubdivisions: function() {\n\n        return [];\n    },\n\n    isDifferentiable: function() {\n\n        if (!this.previousSegment) return false;\n\n        return !this.start.equals(this.end);\n    },\n\n    round: function(precision) {\n\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    serialize: function() {\n\n        var end = this.end;\n        return this.type + ' ' + end.x + ' ' + end.y;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.start + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nObject.defineProperty(linetoPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'L'\n});\n\nLineto.prototype = extend(segmentPrototype, Line.prototype, linetoPrototype);\n\nvar Curveto = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Curveto)) { // switching context of `this` to Curveto when called without `new`\n        return applyToNew(Curveto, args);\n    }\n\n    if (n === 0) {\n        throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).');\n    }\n\n    var outputArray;\n\n    if (args[0] instanceof Curve) { // curves provided\n        if (n === 1) {\n            this.controlPoint1 = args[0].controlPoint1.clone();\n            this.controlPoint2 = args[0].controlPoint2.clone();\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (' + n + ' curves provided).');\n        }\n\n    } else if (typeof args[0] === 'string' || typeof args[0] === 'number') { // coordinates provided\n        if (n === 6) {\n            this.controlPoint1 = new Point(+args[0], +args[1]);\n            this.controlPoint2 = new Point(+args[2], +args[3]);\n            this.end = new Point(+args[4], +args[5]);\n            return this;\n\n        } else if (n < 6) {\n            throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (' + n + ' coordinates provided).');\n\n        } else { // this is a poly-bezier segment\n            var segmentCoords;\n            outputArray = [];\n            for (i = 0; i < n; i += 6) { // coords come in groups of six\n\n                segmentCoords = args.slice(i, i + 6); // will send fewer than six coords if args.length not divisible by 6\n                outputArray.push(applyToNew(Curveto, segmentCoords));\n            }\n            return outputArray;\n        }\n\n    } else { // points provided (needs to be last to also cover plain objects with x and y)\n        if (n === 3) {\n            this.controlPoint1 = new Point(args[0]);\n            this.controlPoint2 = new Point(args[1]);\n            this.end = new Point(args[2]);\n            return this;\n\n        } else if (n < 3) {\n            throw new Error('Curveto constructor expects a curve, 3 points, or 6 coordinates (' + n + ' points provided).');\n\n        } else { // this is a poly-bezier segment\n            var segmentPoints;\n            outputArray = [];\n            for (i = 0; i < n; i += 3) { // points come in groups of three\n\n                segmentPoints = args.slice(i, i + 3); // will send fewer than three points if args.length is not divisible by 3\n                outputArray.push(applyToNew(Curveto, segmentPoints));\n            }\n            return outputArray;\n        }\n    }\n};\n\nvar curvetoPrototype = {\n\n    clone: function() {\n\n        return new Curveto(this.controlPoint1, this.controlPoint2, this.end);\n    },\n\n    divideAt: function(ratio, opt) {\n\n        var curve = new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n        var divided = curve.divideAt(ratio, opt);\n        return [\n            new Curveto(divided[0]),\n            new Curveto(divided[1])\n        ];\n    },\n\n    divideAtLength: function(length, opt) {\n\n        var curve = new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n        var divided = curve.divideAtLength(length, opt);\n        return [\n            new Curveto(divided[0]),\n            new Curveto(divided[1])\n        ];\n    },\n\n    divideAtT: function(t) {\n\n        var curve = new Curve(this.start, this.controlPoint1, this.controlPoint2, this.end);\n        var divided = curve.divideAtT(t);\n        return [\n            new Curveto(divided[0]),\n            new Curveto(divided[1])\n        ];\n    },\n\n    isDifferentiable: function() {\n\n        if (!this.previousSegment) return false;\n\n        var start = this.start;\n        var control1 = this.controlPoint1;\n        var control2 = this.controlPoint2;\n        var end = this.end;\n\n        return !(start.equals(control1) && control1.equals(control2) && control2.equals(end));\n    },\n\n    round: function(precision) {\n\n        this.controlPoint1.round(precision);\n        this.controlPoint2.round(precision);\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.controlPoint1.scale(sx, sy, origin);\n        this.controlPoint2.scale(sx, sy, origin);\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    serialize: function() {\n\n        var c1 = this.controlPoint1;\n        var c2 = this.controlPoint2;\n        var end = this.end;\n        return this.type + ' ' + c1.x + ' ' + c1.y + ' ' + c2.x + ' ' + c2.y + ' ' + end.x + ' ' + end.y;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.start + ' ' + this.controlPoint1 + ' ' + this.controlPoint2 + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.controlPoint1.translate(tx, ty);\n        this.controlPoint2.translate(tx, ty);\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nObject.defineProperty(curvetoPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'C'\n});\n\nCurveto.prototype = extend(segmentPrototype, Curve.prototype, curvetoPrototype);\n\nvar Moveto = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Moveto)) { // switching context of `this` to Moveto when called without `new`\n        return applyToNew(Moveto, args);\n    }\n\n    if (n === 0) {\n        throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).');\n    }\n\n    var outputArray;\n\n    if (args[0] instanceof Line) { // lines provided\n        if (n === 1) {\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (' + n + ' lines provided).');\n        }\n\n    } else if (args[0] instanceof Curve) { // curves provided\n        if (n === 1) {\n            this.end = args[0].end.clone();\n            return this;\n\n        } else {\n            throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (' + n + ' curves provided).');\n        }\n\n    } else if (typeof args[0] === 'string' || typeof args[0] === 'number') { // coordinates provided\n        if (n === 2) {\n            this.end = new Point(+args[0], +args[1]);\n            return this;\n\n        } else if (n < 2) {\n            throw new Error('Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (' + n + ' coordinates provided).');\n\n        } else { // this is a moveto-with-subsequent-poly-line segment\n            var segmentCoords;\n            outputArray = [];\n            for (i = 0; i < n; i += 2) { // coords come in groups of two\n\n                segmentCoords = args.slice(i, i + 2); // will send one coord if args.length not divisible by 2\n                if (i === 0) outputArray.push(applyToNew(Moveto, segmentCoords));\n                else outputArray.push(applyToNew(Lineto, segmentCoords));\n            }\n            return outputArray;\n        }\n\n    } else { // points provided (needs to be last to also cover plain objects with x and y)\n        if (n === 1) {\n            this.end = new Point(args[0]);\n            return this;\n\n        } else { // this is a moveto-with-subsequent-poly-line segment\n            var segmentPoint;\n            outputArray = [];\n            for (i = 0; i < n; i += 1) { // points come one by one\n\n                segmentPoint = args[i];\n                if (i === 0) outputArray.push(new Moveto(segmentPoint));\n                else outputArray.push(new Lineto(segmentPoint));\n            }\n            return outputArray;\n        }\n    }\n};\n\nvar movetoPrototype = {\n\n    bbox: function() {\n\n        return null;\n    },\n\n    clone: function() {\n\n        return new Moveto(this.end);\n    },\n\n    closestPoint: function() {\n\n        return this.end.clone();\n    },\n\n    closestPointNormalizedLength: function() {\n\n        return 0;\n    },\n\n    closestPointLength: function() {\n\n        return 0;\n    },\n\n    closestPointT: function() {\n\n        return 1;\n    },\n\n    closestPointTangent: function() {\n\n        return null;\n    },\n\n    divideAt: function() {\n\n        return [\n            this.clone(),\n            this.clone()\n        ];\n    },\n\n    divideAtLength: function() {\n\n        return [\n            this.clone(),\n            this.clone()\n        ];\n    },\n\n    equals: function(m) {\n\n        return this.end.equals(m.end);\n    },\n\n    getSubdivisions: function() {\n\n        return [];\n    },\n\n    isDifferentiable: function() {\n\n        return false;\n    },\n\n    isSubpathStart: true,\n\n    isVisible: false,\n\n    length: function() {\n\n        return 0;\n    },\n\n    lengthAtT: function() {\n\n        return 0;\n    },\n\n    pointAt: function() {\n\n        return this.end.clone();\n    },\n\n    pointAtLength: function() {\n\n        return this.end.clone();\n    },\n\n    pointAtT: function() {\n\n        return this.end.clone();\n    },\n\n    round: function(precision) {\n\n        this.end.round(precision);\n        return this;\n    },\n\n    scale: function(sx, sy, origin) {\n\n        this.end.scale(sx, sy, origin);\n        return this;\n    },\n\n    serialize: function() {\n\n        var end = this.end;\n        return this.type + ' ' + end.x + ' ' + end.y;\n    },\n\n    tangentAt: function() {\n\n        return null;\n    },\n\n    tangentAtLength: function() {\n\n        return null;\n    },\n\n    tangentAtT: function() {\n\n        return null;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.end;\n    },\n\n    translate: function(tx, ty) {\n\n        this.end.translate(tx, ty);\n        return this;\n    }\n};\n\nObject.defineProperty(movetoPrototype, 'start', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        throw new Error('Illegal access. Moveto segments should not need a start property.');\n    }\n});\n\nObject.defineProperty(movetoPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'M'\n});\n\nMoveto.prototype = extend(segmentPrototype, movetoPrototype); // does not inherit from any other geometry object\n\nvar Closepath = function() {\n\n    var args = [];\n    var n = arguments.length;\n    for (var i = 0; i < n; i++) {\n        args.push(arguments[i]);\n    }\n\n    if (!(this instanceof Closepath)) { // switching context of `this` to Closepath when called without `new`\n        return applyToNew(Closepath, args);\n    }\n\n    if (n > 0) {\n        throw new Error('Closepath constructor expects no arguments.');\n    }\n\n    return this;\n};\n\nvar closepathPrototype = {\n\n    clone: function() {\n\n        return new Closepath();\n    },\n\n    divideAt: function(ratio) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAt(ratio);\n        return [\n            // if we didn't actually cut into the segment, first divided part can stay as Z\n            (divided[1].isDifferentiable() ? new Lineto(divided[0]) : this.clone()),\n            new Lineto(divided[1])\n        ];\n    },\n\n    divideAtLength: function(length) {\n\n        var line = new Line(this.start, this.end);\n        var divided = line.divideAtLength(length);\n        return [\n            // if we didn't actually cut into the segment, first divided part can stay as Z\n            (divided[1].isDifferentiable() ? new Lineto(divided[0]) : this.clone()),\n            new Lineto(divided[1])\n        ];\n    },\n\n    getSubdivisions: function() {\n\n        return [];\n    },\n\n    isDifferentiable: function() {\n\n        if (!this.previousSegment || !this.subpathStartSegment) return false;\n\n        return !this.start.equals(this.end);\n    },\n\n    round: function() {\n\n        return this;\n    },\n\n    scale: function() {\n\n        return this;\n    },\n\n    serialize: function() {\n\n        return this.type;\n    },\n\n    toString: function() {\n\n        return this.type + ' ' + this.start + ' ' + this.end;\n    },\n\n    translate: function() {\n\n        return this;\n    }\n};\n\nObject.defineProperty(closepathPrototype, 'end', {\n    // get a reference to the end point of subpath start segment\n\n    configurable: true,\n\n    enumerable: true,\n\n    get: function() {\n\n        if (!this.subpathStartSegment) throw new Error('Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)');\n\n        return this.subpathStartSegment.end;\n    }\n});\n\nObject.defineProperty(closepathPrototype, 'type', {\n\n    configurable: true,\n\n    enumerable: true,\n\n    value: 'Z'\n});\n\nClosepath.prototype = extend(segmentPrototype, Line.prototype, closepathPrototype);\n\nvar segmentTypes = Path.segmentTypes = {\n    L: Lineto,\n    C: Curveto,\n    M: Moveto,\n    Z: Closepath,\n    z: Closepath\n};\n\nPath.regexSupportedData = new RegExp('^[\\\\s\\\\d' + Object.keys(segmentTypes).join('') + ',.]*$');\n\nPath.isDataSupported = function(data) {\n\n    if (typeof data !== 'string') return false;\n    return this.regexSupportedData.test(data);\n};\n", "import { Path } from './path.mjs';\nimport { Curve } from './curve.mjs';\nimport { Point } from './point.mjs';\n\nexport const bezier = {\n\n    // Cubic Bezier curve path through points.\n    // @deprecated\n    // @param {array} points Array of points through which the smooth line will go.\n    // @return {array} SVG Path commands as an array\n    curveThroughPoints: function(points) {\n\n        console.warn('deprecated');\n\n        return new Path(Curve.throughPoints(points)).serialize();\n    },\n\n    // Get open-ended Bezier Spline Control Points.\n    // @deprecated\n    // @param knots Input Knot Bezier spline points (At least two points!).\n    // @param firstControlPoints Output First Control points. Array of knots.length - 1 length.\n    // @param secondControlPoints Output Second Control points. Array of knots.length - 1 length.\n    getCurveControlPoints: function(knots) {\n\n        console.warn('deprecated');\n\n        var firstControlPoints = [];\n        var secondControlPoints = [];\n        var n = knots.length - 1;\n        var i;\n\n        // Special case: Bezier curve should be a straight line.\n        if (n == 1) {\n            // 3P1 = 2P0 + P3\n            firstControlPoints[0] = new Point(\n                (2 * knots[0].x + knots[1].x) / 3,\n                (2 * knots[0].y + knots[1].y) / 3\n            );\n\n            // P2 = 2P1 – P0\n            secondControlPoints[0] = new Point(\n                2 * firstControlPoints[0].x - knots[0].x,\n                2 * firstControlPoints[0].y - knots[0].y\n            );\n\n            return [firstControlPoints, secondControlPoints];\n        }\n\n        // Calculate first Bezier control points.\n        // Right hand side vector.\n        var rhs = [];\n\n        // Set right hand side X values.\n        for (i = 1; i < n - 1; i++) {\n            rhs[i] = 4 * knots[i].x + 2 * knots[i + 1].x;\n        }\n\n        rhs[0] = knots[0].x + 2 * knots[1].x;\n        rhs[n - 1] = (8 * knots[n - 1].x + knots[n].x) / 2.0;\n\n        // Get first control points X-values.\n        var x = this.getFirstControlPoints(rhs);\n\n        // Set right hand side Y values.\n        for (i = 1; i < n - 1; ++i) {\n            rhs[i] = 4 * knots[i].y + 2 * knots[i + 1].y;\n        }\n\n        rhs[0] = knots[0].y + 2 * knots[1].y;\n        rhs[n - 1] = (8 * knots[n - 1].y + knots[n].y) / 2.0;\n\n        // Get first control points Y-values.\n        var y = this.getFirstControlPoints(rhs);\n\n        // Fill output arrays.\n        for (i = 0; i < n; i++) {\n            // First control point.\n            firstControlPoints.push(new Point(x[i], y[i]));\n\n            // Second control point.\n            if (i < n - 1) {\n                secondControlPoints.push(new Point(\n                    2 * knots [i + 1].x - x[i + 1],\n                    2 * knots[i + 1].y - y[i + 1]\n                ));\n\n            } else {\n                secondControlPoints.push(new Point(\n                    (knots[n].x + x[n - 1]) / 2,\n                    (knots[n].y + y[n - 1]) / 2)\n                );\n            }\n        }\n\n        return [firstControlPoints, secondControlPoints];\n    },\n\n    // Divide a Bezier curve into two at point defined by value 't' <0,1>.\n    // Using deCasteljau algorithm. http://math.stackexchange.com/a/317867\n    // @deprecated\n    // @param control points (start, control start, control end, end)\n    // @return a function that accepts t and returns 2 curves.\n    getCurveDivider: function(p0, p1, p2, p3) {\n\n        console.warn('deprecated');\n\n        var curve = new Curve(p0, p1, p2, p3);\n\n        return function divideCurve(t) {\n\n            var divided = curve.divide(t);\n\n            return [{\n                p0: divided[0].start,\n                p1: divided[0].controlPoint1,\n                p2: divided[0].controlPoint2,\n                p3: divided[0].end\n            }, {\n                p0: divided[1].start,\n                p1: divided[1].controlPoint1,\n                p2: divided[1].controlPoint2,\n                p3: divided[1].end\n            }];\n        };\n    },\n\n    // Solves a tridiagonal system for one of coordinates (x or y) of first Bezier control points.\n    // @deprecated\n    // @param rhs Right hand side vector.\n    // @return Solution vector.\n    getFirstControlPoints: function(rhs) {\n\n        console.warn('deprecated');\n\n        var n = rhs.length;\n        // `x` is a solution vector.\n        var x = [];\n        var tmp = [];\n        var b = 2.0;\n\n        x[0] = rhs[0] / b;\n\n        // Decomposition and forward substitution.\n        for (var i = 1; i < n; i++) {\n            tmp[i] = 1 / b;\n            b = (i < n - 1 ? 4.0 : 3.5) - tmp[i];\n            x[i] = (rhs[i] - x[i - 1]) / b;\n        }\n\n        for (i = 1; i < n; i++) {\n            // Backsubstitution.\n            x[n - i - 1] -= tmp[n - i] * x[n - i];\n        }\n\n        return x;\n    },\n\n    // Solves an inversion problem -- Given the (x, y) coordinates of a point which lies on\n    // a parametric curve x = x(t)/w(t), y = y(t)/w(t), ﬁnd the parameter value t\n    // which corresponds to that point.\n    // @deprecated\n    // @param control points (start, control start, control end, end)\n    // @return a function that accepts a point and returns t.\n    getInversionSolver: function(p0, p1, p2, p3) {\n\n        console.warn('deprecated');\n\n        var curve = new Curve(p0, p1, p2, p3);\n\n        return function solveInversion(p) {\n\n            return curve.closestPointT(p);\n        };\n    }\n};\n", "import { Point } from './point.mjs';\nimport { Polyline } from './polyline.mjs';\nimport { extend } from './extend.mjs';\nimport { types } from './types.mjs';\nimport { clonePoints, parsePoints, convexHull } from './points.mjs';\n\nexport const Polygon = function(points) {\n\n    if (!(this instanceof Polygon)) {\n        return new Polygon(points);\n    }\n\n    if (typeof points === 'string') {\n        return new Polygon.parse(points);\n    }\n\n    this.points = (Array.isArray(points) ? points.map(Point) : []);\n};\n\nPolygon.parse = function(svgString) {\n    return new Polygon(parsePoints(svgString));\n};\n\nPolygon.fromRect = function(rect) {\n    return new Polygon([\n        rect.topLeft(),\n        rect.topRight(),\n        rect.bottomRight(),\n        rect.bottomLeft()\n    ]);\n};\n\nPolygon.prototype = extend(Polyline.prototype, {\n\n    type: types.Polygon,\n\n    clone: function() {\n        return new Polygon(clonePoints(this.points));\n    },\n\n    convexHull: function() {\n        return new Polygon(convexHull(this.points));\n    },\n\n    lengthPoints: function() {\n        const { start, end, points } = this;\n        if (points.length <= 1 || start.equals(end)) return points;\n        return [...points, start.clone()];\n    }\n\n});\n", "import { Line } from './line.mjs';\nimport { Polygon } from './polygon.mjs';\nimport { Rect } from './rect.mjs';\nimport { types } from './types.mjs';\n\nexport function exists(shape1, shape2, shape1opt, shape2opt) {\n    switch (shape1.type) {\n        case types.Line: {\n            switch (shape2.type) {\n                case types.Line: {\n                    return lineWithLine(shape1, shape2);\n                }\n            }\n            break;\n        }\n        case types.Ellipse: {\n            switch (shape2.type) {\n                case types.Line: {\n                    return ellipseWithLine(shape1, shape2);\n                }\n                case types.Ellipse: {\n                    return ellipseWithEllipse(shape1, shape2);\n                }\n            }\n            break;\n        }\n        case types.Rect: {\n            switch (shape2.type) {\n                case types.Line: {\n                    return rectWithLine(shape1, shape2);\n                }\n                case types.Ellipse: {\n                    return rectWithEllipse(shape1, shape2);\n                }\n                case types.Rect: {\n                    return rectWithRect(shape1, shape2);\n                }\n            }\n            break;\n        }\n        case types.Polyline: {\n            switch (shape2.type) {\n                case types.Line: {\n                    return polylineWithLine(shape1, shape2);\n                }\n                case types.Ellipse: {\n                    return polylineWithEllipse(shape1, shape2);\n                }\n                case types.Rect: {\n                    return polylineWithRect(shape1, shape2);\n                }\n                case types.Polyline: {\n                    return polylineWithPolyline(shape1, shape2);\n                }\n            }\n            break;\n        }\n        case types.Polygon: {\n            switch (shape2.type) {\n                case types.Line: {\n                    return polygonWithLine(shape1, shape2);\n                }\n                case types.Ellipse: {\n                    return polygonWithEllipse(shape1, shape2);\n                }\n                case types.Rect: {\n                    return polygonWithRect(shape1, shape2);\n                }\n                case types.Polyline: {\n                    return polygonWithPolyline(shape1, shape2);\n                }\n                case types.Polygon: {\n                    return polygonWithPolygon(shape1, shape2);\n                }\n            }\n            break;\n        }\n        case types.Path: {\n            switch (shape2.type) {\n                case types.Line: {\n                    return pathWithLine(shape1, shape2, shape1opt);\n                }\n                case types.Ellipse: {\n                    return pathWithEllipse(shape1, shape2, shape1opt);\n                }\n                case types.Rect: {\n                    return pathWithRect(shape1, shape2, shape1opt);\n                }\n                case types.Polyline: {\n                    return pathWithPolyline(shape1, shape2, shape1opt);\n                }\n                case types.Polygon: {\n                    return pathWithPolygon(shape1, shape2, shape1opt);\n                }\n                case types.Path: {\n                    return pathWithPath(shape1, shape2, shape1opt, shape2opt);\n                }\n            }\n            break;\n        }\n    }\n    // None of the cases above\n    switch (shape2.type) {\n        case types.Ellipse:\n        case types.Rect:\n        case types.Polyline:\n        case types.Polygon:\n        case types.Path: {\n            return exists(shape2, shape1, shape2opt, shape1opt);\n        }\n        default: {\n            throw Error(`The intersection for ${shape1} and ${shape2} could not be found.`);\n        }\n    }\n}\n\n/* Line */\n\nexport function lineWithLine(line1, line2) {\n    const x1 = line1.start.x;\n    const y1 = line1.start.y;\n    const x2 = line1.end.x;\n    const y2 = line1.end.y;\n    const x3 = line2.start.x;\n    const y3 = line2.start.y;\n    const x4 = line2.end.x;\n    const y4 = line2.end.y;\n    const s1x = x2 - x1;\n    const s1y = y2 - y1;\n    const s2x = x4 - x3;\n    const s2y = y4 - y3;\n    const s3x = x1 - x3;\n    const s3y = y1 - y3;\n    const p = s1x * s2y - s2x * s1y;\n    const s = (s1x * s3y - s1y * s3x) / p;\n    const t = (s2x * s3y - s2y * s3x) / p;\n    return s >= 0 && s <= 1 && t >= 0 && t <= 1;\n}\n\n/* Ellipse */\n\nexport function ellipseWithLine(ellipse, line) {\n    const rex = ellipse.a;\n    const rey = ellipse.b;\n    const xe = ellipse.x;\n    const ye = ellipse.y;\n    const x1 = line.start.x - xe;\n    const x2 = line.end.x - xe;\n    const y1 = line.start.y - ye;\n    const y2 = line.end.y - ye;\n    const rex_2 = rex * rex;\n    const rey_2 = rey * rey;\n    const dx = x2 - x1;\n    const dy = y2 - y1;\n    const A = dx * dx / rex_2 + dy * dy / rey_2;\n    const B = 2 * x1 * dx / rex_2 + 2 * y1 * dy / rey_2;\n    const C = x1 * x1 / rex_2 + y1 * y1 / rey_2 - 1;\n    const D = B * B - 4 * A * C;\n    if (D === 0) {\n        const t = -B / 2 / A;\n        return t >= 0 && t <= 1;\n    } else if (D > 0) {\n        const sqrt = Math.sqrt(D);\n        const t1 = (-B + sqrt) / 2 / A;\n        const t2 = (-B - sqrt) / 2 / A;\n        return (t1 >= 0 && t1 <= 1) || (t2 >= 0 && t2 <= 1);\n    }\n    return false;\n}\n\nexport function ellipseWithEllipse(ellipse1, ellipse2) {\n    return _ellipsesIntersection(ellipse1, 0, ellipse2, 0);\n}\n\n/* Rect */\n\nexport function rectWithLine(rect, line) {\n    const { start, end } = line;\n    const { x, y, width, height } = rect;\n    if (\n        (start.x > x + width && end.x > x + width)\n        || (start.x < x && end.x < x)\n        || (start.y > y + height && end.y > y + height)\n        || (start.y < y && end.y < y)\n    ) {\n        return false;\n    }\n    if (rect.containsPoint(line.start) || rect.containsPoint(line.end)) {\n        return true;\n    }\n    return lineWithLine(rect.topLine(), line)\n        || lineWithLine(rect.rightLine(), line)\n        || lineWithLine(rect.bottomLine(), line)\n        || lineWithLine(rect.leftLine(), line);\n}\n\nexport function rectWithEllipse(rect, ellipse) {\n    if (!rectWithRect(rect, Rect.fromEllipse(ellipse))) return false;\n    return polygonWithEllipse(Polygon.fromRect(rect), ellipse);\n}\n\nexport function rectWithRect(rect1, rect2) {\n    return rect1.x < rect2.x + rect2.width\n        && rect1.x + rect1.width > rect2.x\n        && rect1.y < rect2.y + rect2.height\n        && rect1.y + rect1.height > rect2.y;\n}\n\n/* Polyline */\n\nexport function polylineWithLine(polyline, line) {\n    return _polylineWithLine(polyline, line, { interior: false });\n}\n\nexport function polylineWithEllipse(polyline, ellipse) {\n    return _polylineWithEllipse(polyline, ellipse, { interior: false });\n}\n\nexport function polylineWithRect(polyline, rect) {\n    return _polylineWithRect(polyline, rect, { interior: false });\n}\n\nexport function polylineWithPolyline(polyline1, polyline2) {\n    return _polylineWithPolyline(polyline1, polyline2, { interior: false });\n}\n\n/* Polygon */\n\nexport function polygonWithLine(polygon, line) {\n    return _polylineWithLine(polygon, line, { interior: true });\n}\n\nexport function polygonWithEllipse(polygon, ellipse) {\n    return _polylineWithEllipse(polygon, ellipse, { interior: true });\n}\n\nexport function polygonWithRect(polygon, rect) {\n    return _polylineWithRect(polygon, rect, { interior: true });\n}\n\nexport function polygonWithPolyline(polygon, polyline) {\n    return _polylineWithPolyline(polygon, polyline, { interior: true });\n}\n\nexport function polygonWithPolygon(polygon1, polygon2) {\n    return _polylineWithPolygon(polygon1, polygon2, { interior: true });\n}\n\n/* Path */\n\nexport function pathWithLine(path, line, pathOpt) {\n    return path.getSubpaths().some(subpath => {\n        const [polyline] = subpath.toPolylines(pathOpt);\n        const { type } = subpath.getSegment(-1);\n        if (type === 'Z') {\n            return polygonWithLine(polyline, line);\n        } else {\n            return polylineWithLine(polyline, line);\n        }\n    });\n}\n\nexport function pathWithEllipse(path, ellipse, pathOpt) {\n    return path.getSubpaths().some(subpath => {\n        const [polyline] = subpath.toPolylines(pathOpt);\n        const { type } = subpath.getSegment(-1);\n        if (type === 'Z') {\n            return polygonWithEllipse(polyline, ellipse);\n        } else {\n            return polylineWithEllipse(polyline, ellipse);\n        }\n    });\n}\n\nexport function pathWithRect(path, rect, pathOpt) {\n    return pathWithPolygon(path, Polygon.fromRect(rect), pathOpt);\n}\n\nexport function pathWithPolyline(path, polyline, pathOpt) {\n    return _pathWithPolyline(path, polyline, pathOpt, { interior: false });\n}\n\nexport function pathWithPolygon(path, polygon, pathOpt) {\n    return _pathWithPolyline(path, polygon, pathOpt, { interior: true });\n}\n\nexport function pathWithPath(path1, path2, pathOpt1, pathOpt2) {\n    return path1.getSubpaths().some(subpath => {\n        const [polyline1] = subpath.toPolylines(pathOpt1);\n        const { type } = subpath.getSegment(-1);\n        if (type === 'Z') {\n            return pathWithPolygon(path2, polyline1, pathOpt2);\n        } else {\n            return pathWithPolyline(path2, polyline1, pathOpt2);\n        }\n    });\n}\n\nfunction _polylineWithLine(polyline, line, opt = {}) {\n    const { interior = false } = opt;\n    let thisPoints;\n    if (interior) {\n        if (polyline.containsPoint(line.start)) {\n            // If any point of the polyline lies inside this polygon (interior = true)\n            // there is an intersection (we've chosen the start point)\n            return true;\n        }\n        const { start, end, points } = polyline;\n        thisPoints = end.equals(start) ? points : [...points, start];\n    } else {\n        thisPoints = polyline.points;\n    }\n    const { length } = thisPoints;\n    const segment = new Line();\n    for (let i = 0; i < length - 1; i++) {\n        segment.start = thisPoints[i];\n        segment.end = thisPoints[i + 1];\n        if (lineWithLine(line, segment)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction _polylineWithEllipse(polyline, ellipse, opt = {}) {\n    const { start, end, points } = polyline;\n    if (ellipse.containsPoint(start)) {\n        return true;\n    }\n    let thisPoints;\n    const { interior = false } = opt;\n    if (interior) {\n        if (polyline.containsPoint(ellipse.center())) {\n            // If any point of the ellipse lies inside this polygon (interior = true)\n            // there is an intersection (we've chosen the center point)\n            return true;\n        }\n        thisPoints = end.equals(start) ? points : [...points, start];\n    } else {\n        thisPoints = points;\n    }\n\n    const { length } = thisPoints;\n    const segment = new Line();\n    for (let i = 0; i < length - 1; i++) {\n        segment.start = thisPoints[i];\n        segment.end = thisPoints[i + 1];\n        if (ellipseWithLine(ellipse, segment)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction _polylineWithRect(polyline, rect, opt) {\n    const polygon = Polygon.fromRect(rect);\n    return _polylineWithPolygon(polyline, polygon, opt);\n}\n\nfunction _pathWithPolyline(path, polyline1, pathOpt, opt) {\n    return path.getSubpaths().some(subpath => {\n        const [polyline2] = subpath.toPolylines(pathOpt);\n        const { type } = subpath.getSegment(-1);\n        if (type === 'Z') {\n            return _polylineWithPolygon(polyline1, polyline2, opt);\n        } else {\n            return _polylineWithPolyline(polyline1, polyline2, opt);\n        }\n    });\n}\n\nfunction _polylineWithPolyline(polyline1, polyline2, opt = {}) {\n    const { interior = false } = opt;\n    let thisPolyline;\n    if (interior) {\n        const { start } = polyline2;\n        if (polyline1.containsPoint(start)) {\n            // If any point of the polyline lies inside this polygon (interior = true)\n            // there is an intersection (we've chosen the start point)\n            return true;\n        }\n        thisPolyline = polyline1.clone().close();\n    } else {\n        thisPolyline = polyline1;\n    }\n    const otherPoints = polyline2.points;\n    const { length } = otherPoints;\n    const segment = new Line();\n    for (let i = 0; i < length - 1; i++) {\n        segment.start = otherPoints[i];\n        segment.end = otherPoints[i + 1];\n        if (polylineWithLine(thisPolyline, segment)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction _polylineWithPolygon(polyline, polygon, opt) {\n    return polygon.containsPoint(polyline.start) || _polylineWithPolyline(polyline, polygon.clone().close(), opt);\n}\n\nfunction _ellipsesIntersection(e1, w1, e2, w2) {\n    const { cos, sin } = Math;\n    const sinW1 = sin(w1);\n    const cosW1 = cos(w1);\n    const sinW2 = sin(w2);\n    const cosW2 = cos(w2);\n    const sinW1s = sinW1 * sinW1;\n    const cosW1s = cosW1 * cosW1;\n    const sinCos1 = sinW1 * cosW1;\n    const sinW2s = sinW2 * sinW2;\n    const cosW2s = cosW2 * cosW2;\n    const sinCos2 = sinW2 * cosW2;\n    const a1s = e1.a * e1.a;\n    const b1s = e1.b * e1.b;\n    const a2s = e2.a * e2.a;\n    const b2s = e2.b * e2.b;\n    const A1 = a1s * sinW1s + b1s * cosW1s;\n    const A2 = a2s * sinW2s + b2s * cosW2s;\n    const B1 = a1s * cosW1s + b1s * sinW1s;\n    const B2 = a2s * cosW2s + b2s * sinW2s;\n    let C1 = 2 * (b1s - a1s) * sinCos1;\n    let C2 = 2 * (b2s - a2s) * sinCos2;\n    let D1 = (-2 * A1 * e1.x - C1 * e1.y);\n    let D2 = (-2 * A2 * e2.x - C2 * e2.y);\n    let E1 = (-C1 * e1.x - 2 * B1 * e1.y);\n    let E2 = (-C2 * e2.x - 2 * B2 * e2.y);\n    const F1 = A1 * e1.x * e1.x + B1 * e1.y * e1.y + C1 * e1.x * e1.y - a1s * b1s;\n    const F2 = A2 * e2.x * e2.x + B2 * e2.y * e2.y + C2 * e2.x * e2.y - a2s * b2s;\n\n    C1 = C1 / 2;\n    C2 = C2 / 2;\n    D1 = D1 / 2;\n    D2 = D2 / 2;\n    E1 = E1 / 2;\n    E2 = E2 / 2;\n\n    const l3 = det3([\n        [A1, C1, D1],\n        [C1, B1, E1],\n        [D1, E1, F1]\n    ]);\n    const l0 = det3([\n        [A2, C2, D2],\n        [C2, B2, E2],\n        [D2, E2, F2]\n    ]);\n    const l2 = 0.33333333 * (det3([\n        [A2, C1, D1],\n        [C2, B1, E1],\n        [D2, E1, F1]\n    ]) + det3([\n        [A1, C2, D1],\n        [C1, B2, E1],\n        [D1, E2, F1]\n    ]) + det3([\n        [A1, C1, D2],\n        [C1, B1, E2],\n        [D1, E1, F2]\n    ]));\n    const l1 = 0.33333333 * (det3([\n        [A1, C2, D2],\n        [C1, B2, E2],\n        [D1, E2, F2]\n    ]) + det3([\n        [A2, C1, D2],\n        [C2, B1, E2],\n        [D2, E1, F2]\n    ]) + det3([\n        [A2, C2, D1],\n        [C2, B2, E1],\n        [D2, E2, F1]\n    ]));\n\n    const delta1 = det2([\n        [l3, l2],\n        [l2, l1]\n    ]);\n    const delta2 = det2([\n        [l3, l1],\n        [l2, l0]\n    ]);\n    const delta3 = det2([\n        [l2, l1],\n        [l1, l0]\n    ]);\n\n    const dP = det2([\n        [2 * delta1, delta2],\n        [delta2, 2 * delta3]\n    ]);\n\n    if (dP > 0 && (l1 > 0 || l2 > 0)) {\n        return false;\n    }\n    return true;\n}\n\nfunction det2(m) {\n    return m[0][0] * m[1][1] - m[0][1] * m[1][0];\n}\n\nfunction det3(m) {\n    return m[0][0] * m[1][1] * m[2][2] -\n        m[0][0] * m[1][2] * m[2][1] -\n        m[0][1] * m[1][0] * m[2][2] +\n        m[0][1] * m[1][2] * m[2][0] +\n        m[0][2] * m[1][0] * m[2][1] -\n        m[0][2] * m[1][1] * m[2][0];\n}\n", "export * from './wrappers.mjs';\nexport * from './util.mjs';\nexport * from './cloneCells.mjs';\nexport * from './svgTagTemplate.mjs';\nexport { getRectPoint } from './getRectPoint.mjs';\n", "import Backbone from 'backbone';\nimport {\n    uniqueId,\n    union,\n    result,\n    merge,\n    forIn,\n    isObject,\n    isEqual,\n    isString,\n    cloneDeep,\n    omit,\n    uuid,\n    isEmpty,\n    assign,\n    uniq,\n    toArray,\n    setByPath,\n    unsetByPath,\n    getByPath,\n    timing,\n    interpolate,\n    nextFrame,\n    without,\n    cancelFrame,\n    defaultsDeep,\n    has,\n    sortBy,\n    defaults\n} from '../util/util.mjs';\nimport { cloneCells } from '../util/cloneCells.mjs';\nimport { attributes } from './attributes/index.mjs';\nimport * as g from '../g/index.mjs';\n\n\n// Cell base model.\n// --------------------------\n\nexport const Cell = Backbone.Model.extend({\n\n    // This is the same as Backbone.Model with the only difference that is uses util.merge\n    // instead of just _.extend. The reason is that we want to mixin attributes set in upper classes.\n    constructor: function(attributes, options) {\n\n        var defaults;\n        var attrs = attributes || {};\n        if (typeof this.preinitialize === 'function') {\n            // Check to support an older version of Backbone (prior v1.4)\n            this.preinitialize.apply(this, arguments);\n        }\n        this.cid = uniqueId('c');\n        this.attributes = {};\n        if (options && options.collection) this.collection = options.collection;\n        if (options && options.parse) attrs = this.parse(attrs, options) || {};\n        if ((defaults = result(this, 'defaults'))) {\n            //<custom code>\n            // Replaced the call to _.defaults with util.merge.\n            attrs = merge({}, defaults, attrs);\n            //</custom code>\n        }\n        this.set(attrs, options);\n        this.changed = {};\n        this.initialize.apply(this, arguments);\n    },\n\n    translate: function(dx, dy, opt) {\n\n        throw new Error('Must define a translate() method.');\n    },\n\n    toJSON: function() {\n\n        const defaults = result(this.constructor.prototype, 'defaults');\n        const defaultAttrs = defaults.attrs || {};\n        const attrs = this.attributes.attrs;\n        const finalAttrs = {};\n\n        // Loop through all the attributes and\n        // omit the default attributes as they are implicitly reconstructible by the cell 'type'.\n        forIn(attrs, function(attr, selector) {\n\n            const defaultAttr = defaultAttrs[selector];\n\n            forIn(attr, function(value, name) {\n\n                // attr is mainly flat though it might have one more level (consider the `style` attribute).\n                // Check if the `value` is object and if yes, go one level deep.\n                if (isObject(value) && !Array.isArray(value)) {\n\n                    forIn(value, function(value2, name2) {\n\n                        if (!defaultAttr || !defaultAttr[name] || !isEqual(defaultAttr[name][name2], value2)) {\n\n                            finalAttrs[selector] = finalAttrs[selector] || {};\n                            (finalAttrs[selector][name] || (finalAttrs[selector][name] = {}))[name2] = value2;\n                        }\n                    });\n\n                } else if (!defaultAttr || !isEqual(defaultAttr[name], value)) {\n                    // `value` is not an object, default attribute for such a selector does not exist\n                    // or it is different than the attribute value set on the model.\n\n                    finalAttrs[selector] = finalAttrs[selector] || {};\n                    finalAttrs[selector][name] = value;\n                }\n            });\n        });\n\n        const attributes = cloneDeep(omit(this.attributes, 'attrs'));\n        attributes.attrs = finalAttrs;\n\n        return attributes;\n    },\n\n    initialize: function(options) {\n\n        const idAttribute = this.getIdAttribute();\n        if (!options || options[idAttribute] === undefined) {\n            this.set(idAttribute, this.generateId(), { silent: true });\n        }\n\n        this._transitionIds = {};\n        this._scheduledTransitionIds = {};\n\n        // Collect ports defined in `attrs` and keep collecting whenever `attrs` object changes.\n        this.processPorts();\n        this.on('change:attrs', this.processPorts, this);\n    },\n\n    getIdAttribute: function() {\n        return this.idAttribute || 'id';\n    },\n\n    generateId: function() {\n        return uuid();\n    },\n\n    /**\n     * @deprecated\n     */\n    processPorts: function() {\n\n        // Whenever `attrs` changes, we extract ports from the `attrs` object and store it\n        // in a more accessible way. Also, if any port got removed and there were links that had `target`/`source`\n        // set to that port, we remove those links as well (to follow the same behaviour as\n        // with a removed element).\n\n        var previousPorts = this.ports;\n\n        // Collect ports from the `attrs` object.\n        var ports = {};\n        forIn(this.get('attrs'), function(attrs, selector) {\n\n            if (attrs && attrs.port) {\n\n                // `port` can either be directly an `id` or an object containing an `id` (and potentially other data).\n                if (attrs.port.id !== undefined) {\n                    ports[attrs.port.id] = attrs.port;\n                } else {\n                    ports[attrs.port] = { id: attrs.port };\n                }\n            }\n        });\n\n        // Collect ports that have been removed (compared to the previous ports) - if any.\n        // Use hash table for quick lookup.\n        var removedPorts = {};\n        forIn(previousPorts, function(port, id) {\n\n            if (!ports[id]) removedPorts[id] = true;\n        });\n\n        // Remove all the incoming/outgoing links that have source/target port set to any of the removed ports.\n        if (this.graph && !isEmpty(removedPorts)) {\n\n            var inboundLinks = this.graph.getConnectedLinks(this, { inbound: true });\n            inboundLinks.forEach(function(link) {\n\n                if (removedPorts[link.get('target').port]) link.remove();\n            });\n\n            var outboundLinks = this.graph.getConnectedLinks(this, { outbound: true });\n            outboundLinks.forEach(function(link) {\n\n                if (removedPorts[link.get('source').port]) link.remove();\n            });\n        }\n\n        // Update the `ports` object.\n        this.ports = ports;\n    },\n\n    remove: function(opt = {}) {\n\n        // Store the graph in a variable because `this.graph` won't be accessible\n        // after `this.trigger('remove', ...)` down below.\n        const { graph, collection } = this;\n        if (!graph) {\n            // The collection is a common Backbone collection (not the graph collection).\n            if (collection) collection.remove(this, opt);\n            return this;\n        }\n\n        graph.startBatch('remove');\n\n        // First, unembed this cell from its parent cell if there is one.\n        const parentCell = this.getParentCell();\n        if (parentCell) {\n            parentCell.unembed(this, opt);\n        }\n\n        // Remove also all the cells, which were embedded into this cell\n        const embeddedCells = this.getEmbeddedCells();\n        for (let i = 0, n = embeddedCells.length; i < n; i++) {\n            const embed = embeddedCells[i];\n            if (embed) {\n                embed.remove(opt);\n            }\n        }\n\n        this.trigger('remove', this, graph.attributes.cells, opt);\n\n        graph.stopBatch('remove');\n\n        return this;\n    },\n\n    toFront: function(opt) {\n        var graph = this.graph;\n        if (graph) {\n            opt = defaults(opt || {}, { foregroundEmbeds: true });\n\n            let cells;\n            if (opt.deep) {\n                cells = this.getEmbeddedCells({ deep: true, breadthFirst: opt.breadthFirst !== false, sortSiblings: opt.foregroundEmbeds });\n                cells.unshift(this);\n            } else {\n                cells = [this];\n            }\n\n            const sortedCells = opt.foregroundEmbeds ? cells : sortBy(cells, cell => cell.z());\n\n            const maxZ = graph.maxZIndex();\n            let z = maxZ - cells.length + 1;\n\n            const collection = graph.get('cells');\n\n            let shouldUpdate = (collection.indexOf(sortedCells[0]) !== (collection.length - cells.length));\n            if (!shouldUpdate) {\n                shouldUpdate = sortedCells.some(function(cell, index) {\n                    return cell.z() !== z + index;\n                });\n            }\n\n            if (shouldUpdate) {\n                this.startBatch('to-front');\n\n                z = z + cells.length;\n\n                sortedCells.forEach(function(cell, index) {\n                    cell.set('z', z + index, opt);\n                });\n\n                this.stopBatch('to-front');\n            }\n        }\n\n        return this;\n    },\n\n    toBack: function(opt) {\n        var graph = this.graph;\n        if (graph) {\n            opt = defaults(opt || {}, { foregroundEmbeds: true });\n\n            let cells;\n            if (opt.deep) {\n                cells = this.getEmbeddedCells({ deep: true, breadthFirst: opt.breadthFirst !== false, sortSiblings: opt.foregroundEmbeds });\n                cells.unshift(this);\n            } else {\n                cells = [this];\n            }\n\n            const sortedCells = opt.foregroundEmbeds ? cells : sortBy(cells, cell => cell.z());\n\n            let z = graph.minZIndex();\n\n            var collection = graph.get('cells');\n\n            let shouldUpdate = (collection.indexOf(sortedCells[0]) !== 0);\n            if (!shouldUpdate) {\n                shouldUpdate = sortedCells.some(function(cell, index) {\n                    return cell.z() !== z + index;\n                });\n            }\n\n            if (shouldUpdate) {\n                this.startBatch('to-back');\n\n                z -= cells.length;\n\n                sortedCells.forEach(function(cell, index) {\n                    cell.set('z', z + index, opt);\n                });\n\n                this.stopBatch('to-back');\n            }\n        }\n\n        return this;\n    },\n\n    parent: function(parent, opt) {\n\n        // getter\n        if (parent === undefined) return this.get('parent');\n        // setter\n        return this.set('parent', parent, opt);\n    },\n\n    embed: function(cell, opt) {\n        const cells = Array.isArray(cell) ? cell : [cell];\n        if (!this.canEmbed(cells)) {\n            throw new Error('Recursive embedding not allowed.');\n        }\n        if (cells.some(c => c.isEmbedded() && this.id !== c.parent())) {\n            throw new Error('Embedding of already embedded cells is not allowed.');\n        }\n        this._embedCells(cells, opt);\n        return this;\n    },\n\n    unembed: function(cell, opt) {\n        const cells = Array.isArray(cell) ? cell : [cell];\n        this._unembedCells(cells, opt);\n        return this;\n    },\n\n    canEmbed: function(cell) {\n        const cells = Array.isArray(cell) ? cell : [cell];\n        return cells.every(c => this !== c && !this.isEmbeddedIn(c));\n    },\n\n    _embedCells: function(cells, opt) {\n        const batchName = 'embed';\n        this.startBatch(batchName);\n        const embeds = assign([], this.get('embeds'));\n        cells.forEach(cell => {\n            // We keep all element ids after link ids.\n            embeds[cell.isLink() ? 'unshift' : 'push'](cell.id);\n            cell.parent(this.id, opt);\n        });\n        this.set('embeds', uniq(embeds), opt);\n        this.stopBatch(batchName);\n    },\n\n    _unembedCells: function(cells, opt) {\n        const batchName = 'unembed';\n        this.startBatch(batchName);\n        cells.forEach(cell => cell.unset('parent', opt));\n        this.set('embeds', without(this.get('embeds'), ...cells.map(cell => cell.id)), opt);\n        this.stopBatch(batchName);\n    },\n\n    getParentCell: function() {\n\n        // unlike link.source/target, cell.parent stores id directly as a string\n        var parentId = this.parent();\n        var graph = this.graph;\n\n        return (parentId && graph && graph.getCell(parentId)) || null;\n    },\n\n    // Return an array of ancestor cells.\n    // The array is ordered from the parent of the cell\n    // to the most distant ancestor.\n    getAncestors: function() {\n\n        var ancestors = [];\n\n        if (!this.graph) {\n            return ancestors;\n        }\n\n        var parentCell = this.getParentCell();\n        while (parentCell) {\n            ancestors.push(parentCell);\n            parentCell = parentCell.getParentCell();\n        }\n\n        return ancestors;\n    },\n\n    getEmbeddedCells: function(opt) {\n\n        opt = opt || {};\n\n        // Cell models can only be retrieved when this element is part of a collection.\n        // There is no way this element knows about other cells otherwise.\n        // This also means that calling e.g. `translate()` on an element with embeds before\n        // adding it to a graph does not translate its embeds.\n        if (!this.graph) {\n            return [];\n        }\n\n        if (opt.deep) {\n            if (opt.breadthFirst) {\n                return this._getEmbeddedCellsBfs(opt.sortSiblings);\n            } else {\n                return this._getEmbeddedCellsDfs(opt.sortSiblings);\n            }\n        }\n\n        const embeddedIds = this.get('embeds');\n        if (isEmpty(embeddedIds)) {\n            return [];\n        }\n\n        let cells = embeddedIds.map(this.graph.getCell, this.graph);\n        if (opt.sortSiblings) {\n            cells = sortBy(cells, cell => cell.z());\n        }\n\n        return cells;\n    },\n\n    _getEmbeddedCellsBfs: function(sortSiblings) {\n        const cells = [];\n\n        const queue = [];\n        queue.push(this);\n\n        while (queue.length > 0) {\n            const current = queue.shift();\n            cells.push(current);\n\n            const embeddedCells = current.getEmbeddedCells({ sortSiblings: sortSiblings });\n\n            queue.push(...embeddedCells);\n        }\n        cells.shift();\n\n        return cells;\n    },\n\n    _getEmbeddedCellsDfs: function(sortSiblings) {\n        const cells = [];\n\n        const stack = [];\n        stack.push(this);\n\n        while (stack.length > 0) {\n            const current = stack.pop();\n            cells.push(current);\n\n            const embeddedCells = current.getEmbeddedCells({ sortSiblings: sortSiblings });\n\n            // When using the stack, cells that are embedded last are processed first.\n            // To maintain the original order, we need to push the cells in reverse order\n            for (let i = embeddedCells.length - 1; i >= 0; --i) {\n                stack.push(embeddedCells[i]);\n            }\n        }\n        cells.shift();\n\n        return cells;\n    },\n\n    isEmbeddedIn: function(cell, opt) {\n\n        var cellId = isString(cell) ? cell : cell.id;\n        var parentId = this.parent();\n\n        opt = assign({ deep: true }, opt);\n\n        // See getEmbeddedCells().\n        if (this.graph && opt.deep) {\n\n            while (parentId) {\n                if (parentId === cellId) {\n                    return true;\n                }\n                parentId = this.graph.getCell(parentId).parent();\n            }\n\n            return false;\n\n        } else {\n\n            // When this cell is not part of a collection check\n            // at least whether it's a direct child of given cell.\n            return parentId === cellId;\n        }\n    },\n\n    // Whether or not the cell is embedded in any other cell.\n    isEmbedded: function() {\n\n        return !!this.parent();\n    },\n\n    // Isolated cloning. Isolated cloning has two versions: shallow and deep (pass `{ deep: true }` in `opt`).\n    // Shallow cloning simply clones the cell and returns a new cell with different ID.\n    // Deep cloning clones the cell and all its embedded cells recursively.\n    clone: function(opt) {\n\n        opt = opt || {};\n\n        if (!opt.deep) {\n            // Shallow cloning.\n\n            var clone = Backbone.Model.prototype.clone.apply(this, arguments);\n            // We don't want the clone to have the same ID as the original.\n            clone.set(this.getIdAttribute(), this.generateId());\n            // A shallow cloned element does not carry over the original embeds.\n            clone.unset('embeds');\n            // And can not be embedded in any cell\n            // as the clone is not part of the graph.\n            clone.unset('parent');\n\n            return clone;\n\n        } else {\n            // Deep cloning.\n\n            // For a deep clone, simply call `graph.cloneCells()` with the cell and all its embedded cells.\n            return toArray(cloneCells([this].concat(this.getEmbeddedCells({ deep: true }))));\n        }\n    },\n\n    // A convenient way to set nested properties.\n    // This method merges the properties you'd like to set with the ones\n    // stored in the cell and makes sure change events are properly triggered.\n    // You can either set a nested property with one object\n    // or use a property path.\n    // The most simple use case is:\n    // `cell.prop('name/first', 'John')` or\n    // `cell.prop({ name: { first: 'John' } })`.\n    // Nested arrays are supported too:\n    // `cell.prop('series/0/data/0/degree', 50)` or\n    // `cell.prop({ series: [ { data: [ { degree: 50 } ] } ] })`.\n    prop: function(props, value, opt) {\n\n        var delim = '/';\n        var _isString = isString(props);\n\n        if (_isString || Array.isArray(props)) {\n            // Get/set an attribute by a special path syntax that delimits\n            // nested objects by the colon character.\n\n            if (arguments.length > 1) {\n\n                var path;\n                var pathArray;\n\n                if (_isString) {\n                    path = props;\n                    pathArray = path.split('/');\n                } else {\n                    path = props.join(delim);\n                    pathArray = props.slice();\n                }\n\n                var property = pathArray[0];\n                var pathArrayLength = pathArray.length;\n\n                const options = opt || {};\n                options.propertyPath = path;\n                options.propertyValue = value;\n                options.propertyPathArray = pathArray;\n                if (!('rewrite' in options)) {\n                    options.rewrite = false;\n                }\n\n                var update = {};\n                // Initialize the nested object. Sub-objects are either arrays or objects.\n                // An empty array is created if the sub-key is an integer. Otherwise, an empty object is created.\n                // Note that this imposes a limitation on object keys one can use with Inspector.\n                // Pure integer keys will cause issues and are therefore not allowed.\n                var initializer = update;\n                var prevProperty = property;\n\n                for (var i = 1; i < pathArrayLength; i++) {\n                    var pathItem = pathArray[i];\n                    var isArrayIndex = Number.isFinite(_isString ? Number(pathItem) : pathItem);\n                    initializer = initializer[prevProperty] = isArrayIndex ? [] : {};\n                    prevProperty = pathItem;\n                }\n\n                // Fill update with the `value` on `path`.\n                update = setByPath(update, pathArray, value, '/');\n\n                var baseAttributes = merge({}, this.attributes);\n                // if rewrite mode enabled, we replace value referenced by path with\n                // the new one (we don't merge).\n                options.rewrite && unsetByPath(baseAttributes, path, '/');\n\n                // Merge update with the model attributes.\n                var attributes = merge(baseAttributes, update);\n                // Finally, set the property to the updated attributes.\n                return this.set(property, attributes[property], options);\n\n            } else {\n\n                return getByPath(this.attributes, props, delim);\n            }\n        }\n\n        const options = value || {};\n        // Note: '' is not the path to the root. It's a path with an empty string i.e. { '': {}}.\n        options.propertyPath = null;\n        options.propertyValue = props;\n        options.propertyPathArray = [];\n        if (!('rewrite' in options)) {\n            options.rewrite = false;\n        }\n\n        // Create a new object containing only the changed attributes.\n        const changedAttributes = {};\n        for (const key in props) {\n            // Merging the values of changed attributes with the current ones.\n            const { changedValue } = merge({}, { changedValue: this.attributes[key] }, { changedValue: props[key] });\n            changedAttributes[key] = changedValue;\n        }\n\n        return this.set(changedAttributes, options);\n    },\n\n    // A convenient way to unset nested properties\n    removeProp: function(path, opt) {\n\n        opt = opt || {};\n\n        var pathArray = Array.isArray(path) ? path : path.split('/');\n\n        // Once a property is removed from the `attrs` attribute\n        // the cellView will recognize a `dirty` flag and re-render itself\n        // in order to remove the attribute from SVG element.\n        var property = pathArray[0];\n        if (property === 'attrs') opt.dirty = true;\n\n        if (pathArray.length === 1) {\n            // A top level property\n            return this.unset(path, opt);\n        }\n\n        // A nested property\n        var nestedPath = pathArray.slice(1);\n        var propertyValue = this.get(property);\n        if (propertyValue === undefined || propertyValue === null) return this;\n        propertyValue = cloneDeep(propertyValue);\n\n        unsetByPath(propertyValue, nestedPath, '/');\n\n        return this.set(property, propertyValue, opt);\n    },\n\n    // A convenient way to set nested attributes.\n    attr: function(attrs, value, opt) {\n\n        var args = Array.from(arguments);\n        if (args.length === 0) {\n            return this.get('attrs');\n        }\n\n        if (Array.isArray(attrs)) {\n            args[0] = ['attrs'].concat(attrs);\n        } else if (isString(attrs)) {\n            // Get/set an attribute by a special path syntax that delimits\n            // nested objects by the colon character.\n            args[0] = 'attrs/' + attrs;\n\n        } else {\n\n            args[0] = { 'attrs' : attrs };\n        }\n\n        return this.prop.apply(this, args);\n    },\n\n    // A convenient way to unset nested attributes\n    removeAttr: function(path, opt) {\n\n        if (Array.isArray(path)) {\n\n            return this.removeProp(['attrs'].concat(path));\n        }\n\n        return this.removeProp('attrs/' + path, opt);\n    },\n\n    transition: function(path, value, opt, delim) {\n\n        delim = delim || '/';\n\n        var defaults = {\n            duration: 100,\n            delay: 10,\n            timingFunction: timing.linear,\n            valueFunction: interpolate.number\n        };\n\n        opt = assign(defaults, opt);\n\n        var firstFrameTime = 0;\n        var interpolatingFunction;\n\n        var setter = function(runtime) {\n\n            var id, progress, propertyValue;\n\n            firstFrameTime = firstFrameTime || runtime;\n            runtime -= firstFrameTime;\n            progress = runtime / opt.duration;\n\n            if (progress < 1) {\n                this._transitionIds[path] = id = nextFrame(setter);\n            } else {\n                progress = 1;\n                delete this._transitionIds[path];\n            }\n\n            propertyValue = interpolatingFunction(opt.timingFunction(progress));\n\n            opt.transitionId = id;\n\n            this.prop(path, propertyValue, opt);\n\n            if (!id) this.trigger('transition:end', this, path);\n\n        }.bind(this);\n\n        const { _scheduledTransitionIds } = this;\n        let initialId;\n\n        var initiator = (callback) => {\n\n            if (_scheduledTransitionIds[path]) {\n                _scheduledTransitionIds[path] = without(_scheduledTransitionIds[path], initialId);\n                if (_scheduledTransitionIds[path].length === 0) {\n                    delete _scheduledTransitionIds[path];\n                }\n            }\n\n            this.stopPendingTransitions(path, delim);\n\n            interpolatingFunction = opt.valueFunction(getByPath(this.attributes, path, delim), value);\n\n            this._transitionIds[path] = nextFrame(callback);\n\n            this.trigger('transition:start', this, path);\n\n        };\n\n        initialId = setTimeout(initiator, opt.delay, setter);\n\n        _scheduledTransitionIds[path] || (_scheduledTransitionIds[path] = []);\n        _scheduledTransitionIds[path].push(initialId);\n\n        return initialId;\n    },\n\n    getTransitions: function() {\n        return union(\n            Object.keys(this._transitionIds),\n            Object.keys(this._scheduledTransitionIds)\n        );\n    },\n\n    stopScheduledTransitions: function(path, delim = '/') {\n        const { _scheduledTransitionIds = {}} = this;\n        let transitions = Object.keys(_scheduledTransitionIds);\n        if (path) {\n            const pathArray = path.split(delim);\n            transitions = transitions.filter((key) => {\n                return isEqual(pathArray, key.split(delim).slice(0, pathArray.length));\n            });\n        }\n        transitions.forEach((key) => {\n            const transitionIds = _scheduledTransitionIds[key];\n            // stop the initiator\n            transitionIds.forEach(transitionId => clearTimeout(transitionId));\n            delete _scheduledTransitionIds[key];\n            // Note: we could trigger transition:cancel` event here\n        });\n        return this;\n    },\n\n    stopPendingTransitions(path, delim = '/') {\n        const { _transitionIds = {}} = this;\n        let transitions = Object.keys(_transitionIds);\n        if (path) {\n            const pathArray = path.split(delim);\n            transitions = transitions.filter((key) => {\n                return isEqual(pathArray, key.split(delim).slice(0, pathArray.length));\n            });\n        }\n        transitions.forEach((key) => {\n            const transitionId = _transitionIds[key];\n            // stop the setter\n            cancelFrame(transitionId);\n            delete _transitionIds[key];\n            this.trigger('transition:end', this, key);\n        });\n    },\n\n    stopTransitions: function(path, delim = '/') {\n        this.stopScheduledTransitions(path, delim);\n        this.stopPendingTransitions(path, delim);\n        return this;\n    },\n\n    // A shorcut making it easy to create constructs like the following:\n    // `var el = (new joint.shapes.basic.Rect).addTo(graph)`.\n    addTo: function(graph, opt) {\n\n        graph.addCell(this, opt);\n        return this;\n    },\n\n    // A shortcut for an equivalent call: `paper.findViewByModel(cell)`\n    // making it easy to create constructs like the following:\n    // `cell.findView(paper).highlight()`\n    findView: function(paper) {\n\n        return paper.findViewByModel(this);\n    },\n\n    isElement: function() {\n\n        return false;\n    },\n\n    isLink: function() {\n\n        return false;\n    },\n\n    startBatch: function(name, opt) {\n\n        if (this.graph) { this.graph.startBatch(name, assign({}, opt, { cell: this })); }\n        return this;\n    },\n\n    stopBatch: function(name, opt) {\n\n        if (this.graph) { this.graph.stopBatch(name, assign({}, opt, { cell: this })); }\n        return this;\n    },\n\n    getChangeFlag: function(attributes) {\n\n        var flag = 0;\n        if (!attributes) return flag;\n        for (var key in attributes) {\n            if (!attributes.hasOwnProperty(key) || !this.hasChanged(key)) continue;\n            flag |= attributes[key];\n        }\n        return flag;\n    },\n\n    angle: function() {\n\n        // To be overridden.\n        return 0;\n    },\n\n    position: function() {\n\n        // To be overridden.\n        return new g.Point(0, 0);\n    },\n\n    z: function() {\n        return this.get('z') || 0;\n    },\n\n    getPointFromConnectedLink: function() {\n\n        // To be overridden\n        return new g.Point();\n    },\n\n    getBBox: function() {\n\n        // To be overridden\n        return new g.Rect(0, 0, 0, 0);\n    },\n\n    getPointRotatedAroundCenter(angle, x, y) {\n        const point = new g.Point(x, y);\n        if (angle) point.rotate(this.getBBox().center(), angle);\n        return point;\n    },\n\n    getAbsolutePointFromRelative(x, y) {\n        // Rotate the position to take the model angle into account\n        return this.getPointRotatedAroundCenter(\n            -this.angle(),\n            // Transform the relative position to absolute\n            this.position().offset(x, y)\n        );\n    },\n\n    getRelativePointFromAbsolute(x, y) {\n        return this\n            // Rotate the coordinates to mitigate the element's rotation.\n            .getPointRotatedAroundCenter(this.angle(), x, y)\n            // Transform the absolute position into relative\n            .difference(this.position());\n    }\n\n}, {\n\n    getAttributeDefinition: function(attrName) {\n\n        var defNS = this.attributes;\n        var globalDefNS = attributes;\n        return (defNS && defNS[attrName]) || globalDefNS[attrName];\n    },\n\n    define: function(type, defaults, protoProps, staticProps) {\n\n        protoProps = assign({\n            defaults: defaultsDeep({ type: type }, defaults, this.prototype.defaults)\n        }, protoProps);\n\n        var Cell = this.extend(protoProps, staticProps);\n        // es5 backward compatibility\n        /* eslint-disable no-undef */\n        if (typeof joint !== 'undefined' && has(joint, 'shapes')) {\n            setByPath(joint.shapes, type, Cell, '.');\n        }\n        /* eslint-enable no-undef */\n        return Cell;\n    }\n});\n\n", "import $ from 'jquery';\nimport V from '../V/index.mjs';\nimport { config } from '../config/index.mjs';\nimport {\n    isBoolean,\n    isObject,\n    isNumber,\n    isString,\n    mixin,\n    deepMixin,\n    supplement,\n    defaults,\n    defaultsDeep,\n    deepSupplement,\n    assign,\n    invoke,\n    invokeProperty,\n    sortedIndex,\n    uniq,\n    clone,\n    cloneDeep,\n    isEmpty,\n    isEqual,\n    isFunction,\n    isPlainObject,\n    toArray,\n    debounce,\n    groupBy,\n    sortBy,\n    flattenDeep,\n    without,\n    difference,\n    intersection,\n    union,\n    has,\n    result,\n    omit,\n    pick,\n    bindAll,\n    forIn,\n    camelCase,\n    uniqueId,\n    merge\n} from './utilHelpers.mjs';\n\nexport const addClassNamePrefix = function(className) {\n\n    if (!className) return className;\n\n    return className.toString().split(' ').map(function(_className) {\n\n        if (_className.substr(0, config.classNamePrefix.length) !== config.classNamePrefix) {\n            _className = config.classNamePrefix + _className;\n        }\n\n        return _className;\n\n    }).join(' ');\n};\n\nexport const removeClassNamePrefix = function(className) {\n\n    if (!className) return className;\n\n    return className.toString().split(' ').map(function(_className) {\n\n        if (_className.substr(0, config.classNamePrefix.length) === config.classNamePrefix) {\n            _className = _className.substr(config.classNamePrefix.length);\n        }\n\n        return _className;\n\n    }).join(' ');\n};\n\nexport const parseDOMJSON = function(json, namespace) {\n\n    const selectors = {};\n    const groupSelectors = {};\n    const svgNamespace = V.namespace.svg;\n\n    const ns = namespace || svgNamespace;\n    const fragment = document.createDocumentFragment();\n\n    const parseNode = function(siblingsDef, parentNode, ns) {\n        for (let i = 0; i < siblingsDef.length; i++) {\n            const nodeDef = siblingsDef[i];\n\n            // Text node\n            if (typeof nodeDef === 'string') {\n                const textNode = document.createTextNode(nodeDef);\n                parentNode.appendChild(textNode);\n                continue;\n            }\n\n            // TagName\n            if (!nodeDef.hasOwnProperty('tagName')) throw new Error('json-dom-parser: missing tagName');\n            const tagName = nodeDef.tagName;\n\n            let node;\n\n            // Namespace URI\n            if (nodeDef.hasOwnProperty('namespaceURI')) ns = nodeDef.namespaceURI;\n            node = document.createElementNS(ns, tagName);\n            const svg = (ns === svgNamespace);\n\n            const wrapper = (svg) ? V : $;\n            // Attributes\n            const attributes = nodeDef.attributes;\n            if (attributes) wrapper(node).attr(attributes);\n            // Style\n            const style = nodeDef.style;\n            if (style) $(node).css(style);\n            // ClassName\n            if (nodeDef.hasOwnProperty('className')) {\n                const className = nodeDef.className;\n                if (svg) {\n                    node.className.baseVal = className;\n                } else {\n                    node.className = className;\n                }\n            }\n            // TextContent\n            if (nodeDef.hasOwnProperty('textContent')) {\n                node.textContent = nodeDef.textContent;\n            }\n            // Selector\n            if (nodeDef.hasOwnProperty('selector')) {\n                const nodeSelector = nodeDef.selector;\n                if (selectors[nodeSelector]) throw new Error('json-dom-parser: selector must be unique');\n                selectors[nodeSelector] = node;\n                wrapper(node).attr('joint-selector', nodeSelector);\n            }\n            // Groups\n            if (nodeDef.hasOwnProperty('groupSelector')) {\n                let nodeGroups = nodeDef.groupSelector;\n                if (!Array.isArray(nodeGroups)) nodeGroups = [nodeGroups];\n                for (let j = 0; j < nodeGroups.length; j++) {\n                    const nodeGroup = nodeGroups[j];\n                    let group = groupSelectors[nodeGroup];\n                    if (!group) group = groupSelectors[nodeGroup] = [];\n                    group.push(node);\n                }\n            }\n\n            parentNode.appendChild(node);\n\n            // Children\n            const childrenDef = nodeDef.children;\n            if (Array.isArray(childrenDef)) {\n                parseNode(childrenDef, node, ns);\n            }\n        }\n    };\n    parseNode(json, fragment, ns);\n    return {\n        fragment: fragment,\n        selectors: selectors,\n        groupSelectors: groupSelectors\n    };\n};\n\n// Return a simple hash code from a string. See http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/.\nexport const hashCode = function(str) {\n\n    let hash = 0;\n    if (str.length === 0) return hash;\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        hash = ((hash << 5) - hash) + c;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n};\n\nexport const getByPath = function(obj, path, delimiter) {\n\n    var keys = Array.isArray(path) ? path : path.split(delimiter || '/');\n    var key;\n    var i = 0;\n    var length = keys.length;\n    while (i < length) {\n        key = keys[i++];\n        if (Object(obj) === obj && key in obj) {\n            obj = obj[key];\n        } else {\n            return undefined;\n        }\n    }\n    return obj;\n};\n\nconst isGetSafe = function(obj, key) {\n    // Prevent prototype pollution\n    // https://snyk.io/vuln/SNYK-JS-JSON8MERGEPATCH-1038399\n    if (typeof key !== 'string' && typeof key !== 'number') {\n        key = String(key);\n    }\n    if (key === 'constructor' && typeof obj[key] === 'function') {\n        return false;\n    }\n    if (key === '__proto__') {\n        return false;\n    }\n    return true;\n};\n\nexport const setByPath = function(obj, path, value, delimiter) {\n\n    const keys = Array.isArray(path) ? path : path.split(delimiter || '/');\n    const last = keys.length - 1;\n    let diver = obj;\n    let i = 0;\n\n    for (; i < last; i++) {\n        const key = keys[i];\n        if (!isGetSafe(diver, key)) return obj;\n        const value = diver[key];\n        // diver creates an empty object if there is no nested object under such a key.\n        // This means that one can populate an empty nested object with setByPath().\n        diver = value || (diver[key] = {});\n    }\n\n    diver[keys[last]] = value;\n\n    return obj;\n};\n\nexport const unsetByPath = function(obj, path, delimiter) {\n\n    const keys = Array.isArray(path) ? path : path.split(delimiter || '/');\n    const last = keys.length - 1;\n    let diver = obj;\n    let i = 0;\n\n    for (; i < last; i++) {\n        const key = keys[i];\n        if (!isGetSafe(diver, key)) return obj;\n        const value = diver[key];\n        if (!value) return obj;\n        diver = value;\n    }\n\n    delete diver[keys[last]];\n\n    return obj;\n};\n\nexport const flattenObject = function(obj, delim, stop) {\n\n    delim = delim || '/';\n    var ret = {};\n\n    for (var key in obj) {\n\n        if (!obj.hasOwnProperty(key)) continue;\n\n        var shouldGoDeeper = typeof obj[key] === 'object';\n        if (shouldGoDeeper && stop && stop(obj[key])) {\n            shouldGoDeeper = false;\n        }\n\n        if (shouldGoDeeper) {\n\n            var flatObject = flattenObject(obj[key], delim, stop);\n\n            for (var flatKey in flatObject) {\n                if (!flatObject.hasOwnProperty(flatKey)) continue;\n                ret[key + delim + flatKey] = flatObject[flatKey];\n            }\n\n        } else {\n\n            ret[key] = obj[key];\n        }\n    }\n\n    return ret;\n};\n\nexport const uuid = function() {\n\n    // credit: http://stackoverflow.com/posts/2117523/revisions\n\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = (Math.random() * 16) | 0;\n        var v = (c === 'x') ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n};\n\n// Generates global unique id and stores it as a property of the object, if provided.\nexport const guid = function(obj) {\n\n    guid.id = guid.id || 1;\n\n    if (obj === undefined) {\n        return 'j_' + guid.id++;\n    }\n\n    obj.id = (obj.id === undefined ? 'j_' + guid.id++ : obj.id);\n    return obj.id;\n};\n\nexport const toKebabCase = function(string) {\n\n    return string.replace(/[A-Z]/g, '-$&').toLowerCase();\n};\n\nexport const normalizeEvent = function(evt) {\n\n    if (evt.normalized) return evt;\n\n    const { originalEvent, target } = evt;\n\n    // If the event is a touch event, normalize it to a mouse event.\n    const touch = originalEvent && originalEvent.changedTouches && originalEvent.changedTouches[0];\n    if (touch) {\n        for (let property in touch) {\n            // copy all the properties from the first touch that are not\n            // defined on TouchEvent (clientX, clientY, pageX, pageY, screenX, screenY, identifier, ...)\n            if (evt[property] === undefined) {\n                evt[property] = touch[property];\n            }\n        }\n    }\n    // IE: evt.target could be set to SVGElementInstance for SVGUseElement\n    if (target) {\n        const useElement = target.correspondingUseElement;\n        if (useElement) evt.target = useElement;\n    }\n\n    evt.normalized = true;\n\n    return evt;\n};\n\nexport const normalizeWheel = function(evt) {\n    // Sane values derived empirically\n    const PIXEL_STEP  = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n\n    let sX = 0, sY = 0, pX = 0, pY = 0;\n\n    // Legacy\n    if ('detail'      in evt) { sY = evt.detail; }\n    if ('wheelDelta'  in evt) { sY = -evt.wheelDelta / 120; }\n    if ('wheelDeltaY' in evt) { sY = -evt.wheelDeltaY / 120; }\n    if ('wheelDeltaX' in evt) { sX = -evt.wheelDeltaX / 120; }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ( 'axis' in evt && evt.axis === evt.HORIZONTAL_AXIS ) {\n        sX = sY;\n        sY = 0;\n    }\n\n    pX = 'deltaX' in evt ? evt.deltaX : sX * PIXEL_STEP;\n    pY = 'deltaY' in evt ? evt.deltaY : sY * PIXEL_STEP;\n\n    if ((pX || pY) && evt.deltaMode) {\n        if (evt.deltaMode == 1) {\n            pX *= LINE_HEIGHT;\n            pY *= LINE_HEIGHT;\n        } else {\n            pX *= PAGE_HEIGHT;\n            pY *= PAGE_HEIGHT;\n        }\n    }\n\n    // macOS switches deltaX and deltaY automatically when scrolling with shift key, so this is needed in other cases\n    if (evt.deltaX === 0 && evt.deltaY !== 0 && evt.shiftKey) {\n        pX = pY;\n        pY = 0;\n        sX = sY;\n        sY = 0;\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) { sX = (pX < 1) ? -1 : 1; }\n    if (pY && !sY) { sY = (pY < 1) ? -1 : 1; }\n\n    return {\n        spinX  : sX,\n        spinY  : sY,\n        deltaX : pX,\n        deltaY : pY,\n    };\n};\n\nexport const cap = function(val, max) {\n    return val > max ? max : val < -max ? -max : val;\n};\n\nexport const nextFrame = (function() {\n\n    var raf;\n\n    if (typeof window !== 'undefined') {\n\n        raf = window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame;\n    }\n\n    if (!raf) {\n\n        var lastTime = 0;\n\n        raf = function(callback) {\n\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = setTimeout(function() {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n\n            lastTime = currTime + timeToCall;\n\n            return id;\n        };\n    }\n\n    return function(callback, context, ...rest) {\n        return (context !== undefined)\n            ? raf(callback.bind(context, ...rest))\n            : raf(callback);\n    };\n\n})();\n\nexport const cancelFrame = (function() {\n\n    var caf;\n    var client = typeof window != 'undefined';\n\n    if (client) {\n\n        caf = window.cancelAnimationFrame ||\n            window.webkitCancelAnimationFrame ||\n            window.webkitCancelRequestAnimationFrame ||\n            window.msCancelAnimationFrame ||\n            window.msCancelRequestAnimationFrame ||\n            window.oCancelAnimationFrame ||\n            window.oCancelRequestAnimationFrame ||\n            window.mozCancelAnimationFrame ||\n            window.mozCancelRequestAnimationFrame;\n    }\n\n    caf = caf || clearTimeout;\n\n    return client ? caf.bind(window) : caf;\n\n})();\n\n/**\n * @deprecated\n */\nexport const shapePerimeterConnectionPoint = function(linkView, view, magnet, reference) {\n\n    var bbox;\n    var spot;\n\n    if (!magnet) {\n\n        // There is no magnet, try to make the best guess what is the\n        // wrapping SVG element. This is because we want this \"smart\"\n        // connection points to work out of the box without the\n        // programmer to put magnet marks to any of the subelements.\n        // For example, we want the function to work on basic.Path elements\n        // without any special treatment of such elements.\n        // The code below guesses the wrapping element based on\n        // one simple assumption. The wrapping elemnet is the\n        // first child of the scalable group if such a group exists\n        // or the first child of the rotatable group if not.\n        // This makese sense because usually the wrapping element\n        // is below any other sub element in the shapes.\n        var scalable = view.$('.scalable')[0];\n        var rotatable = view.$('.rotatable')[0];\n\n        if (scalable && scalable.firstChild) {\n\n            magnet = scalable.firstChild;\n\n        } else if (rotatable && rotatable.firstChild) {\n\n            magnet = rotatable.firstChild;\n        }\n    }\n\n    if (magnet) {\n\n        spot = V(magnet).findIntersection(reference, linkView.paper.cells);\n        if (!spot) {\n            bbox = V(magnet).getBBox({ target: linkView.paper.cells });\n        }\n\n    } else {\n\n        bbox = view.model.getBBox();\n        spot = bbox.intersectionWithLineFromCenterToPoint(reference);\n    }\n    return spot || bbox.center();\n};\n\nexport const isPercentage = function(val) {\n\n    return isString(val) && val.slice(-1) === '%';\n};\n\nexport const parseCssNumeric = function(val, restrictUnits) {\n\n    function getUnit(validUnitExp) {\n\n        // one or more numbers, followed by\n        // any number of (\n        //  `.`, followed by\n        //  one or more numbers\n        // ), followed by\n        // `validUnitExp`, followed by\n        // end of string\n        var matches = new RegExp('(?:\\\\d+(?:\\\\.\\\\d+)*)(' + validUnitExp + ')$').exec(val);\n\n        if (!matches) return null;\n        return matches[1];\n    }\n\n    var number = parseFloat(val);\n\n    // if `val` cannot be parsed as a number, return `null`\n    if (Number.isNaN(number)) return null;\n\n    // else: we know `output.value`\n    var output = {};\n    output.value = number;\n\n    // determine the unit\n    var validUnitExp;\n    if (restrictUnits == null) {\n        // no restriction\n        // accept any unit, as well as no unit\n        validUnitExp = '[A-Za-z]*';\n\n    } else if (Array.isArray(restrictUnits)) {\n        // if this is an empty array, top restriction - return `null`\n        if (restrictUnits.length === 0) return null;\n\n        // else: restriction - an array of valid unit strings\n        validUnitExp = restrictUnits.join('|');\n\n    } else if (isString(restrictUnits)) {\n        // restriction - a single valid unit string\n        validUnitExp = restrictUnits;\n    }\n    var unit = getUnit(validUnitExp);\n\n    // if we found no matches for `restrictUnits`, return `null`\n    if (unit === null) return null;\n\n    // else: we know the unit\n    output.unit = unit;\n    return output;\n};\n\nconst NO_SPACE = 0;\n\nfunction splitWordWithEOL(word, eol) {\n    const eolWords = word.split(eol);\n    let n = 1;\n    for (let j = 0, jl = eolWords.length - 1; j < jl; j++) {\n        const replacement = [];\n        if (j > 0 || eolWords[0] !== '') replacement.push(NO_SPACE);\n        replacement.push(eol);\n        if (j < jl - 1 || eolWords[jl] !== '') replacement.push(NO_SPACE);\n        eolWords.splice(n, 0, ...replacement);\n        n += replacement.length + 1;\n    }\n    return eolWords.filter(word => word !== '');\n}\n\n\nfunction getLineHeight(heightValue, textElement) {\n    if (heightValue === null) {\n        // Default 1em lineHeight\n        return textElement.getBBox().height;\n    }\n\n    switch (heightValue.unit) {\n        case 'em':\n            return textElement.getBBox().height * heightValue.value;\n        case 'px':\n        case '':\n            return heightValue.value;\n    }\n}\n\nexport const breakText = function(text, size, styles = {}, opt = {}) {\n\n    var width = size.width;\n    var height = size.height;\n\n    var svgDocument = opt.svgDocument || V('svg').node;\n    var textSpan = V('tspan').node;\n    var textElement = V('text').attr(styles).append(textSpan).node;\n    var textNode = document.createTextNode('');\n\n    // Prevent flickering\n    textElement.style.opacity = 0;\n    // Prevent FF from throwing an uncaught exception when `getBBox()`\n    // called on element that is not in the render tree (is not measurable).\n    // <tspan>.getComputedTextLength() returns always 0 in this case.\n    // Note that the `textElement` resp. `textSpan` can become hidden\n    // when it's appended to the DOM and a `display: none` CSS stylesheet\n    // rule gets applied.\n    textElement.style.display = 'block';\n    textSpan.style.display = 'block';\n\n    textSpan.appendChild(textNode);\n    svgDocument.appendChild(textElement); // lgtm [js/xss-through-dom]\n\n    if (!opt.svgDocument) {\n\n        document.body.appendChild(svgDocument);\n    }\n\n    const preserveSpaces = opt.preserveSpaces;\n    const space = ' ';\n    const separator = (opt.separator || opt.separator === '') ? opt.separator : space;\n    // If separator is a RegExp, we use the space character to join words together again (not ideal)\n    const separatorChar = (typeof separator === 'string') ? separator : space;\n    var eol = opt.eol || '\\n';\n    var hyphen = opt.hyphen ? new RegExp(opt.hyphen) : /[^\\w\\d\\u00C0-\\u1FFF\\u2800-\\uFFFD]/;\n    var maxLineCount = opt.maxLineCount;\n    if (!isNumber(maxLineCount)) maxLineCount = Infinity;\n\n    var words = text.split(separator);\n    var full = [];\n    var lines = [];\n    var p, h;\n    var lineHeight;\n\n    if (preserveSpaces) {\n        V(textSpan).attr('xml:space', 'preserve');\n    }\n\n    for (var i = 0, l = 0, len = words.length; i < len; i++) {\n\n        var word = words[i];\n\n        if (!word && !preserveSpaces) continue;\n        if (typeof word !== 'string') continue;\n\n        var isEol = false;\n        if (eol && word.indexOf(eol) >= 0) {\n            // word contains end-of-line character\n            if (word.length > 1) {\n                // separate word and continue cycle\n                const eolWords = splitWordWithEOL(words[i], eol);\n                words.splice(i, 1, ...eolWords);\n                i--;\n                len = words.length;\n                continue;\n            } else {\n                // creates a new line\n                if (preserveSpaces && typeof words[i - 1] === 'string' ) {\n                    words.splice(i, NO_SPACE, '', NO_SPACE);\n                    len += 2;\n                    i--;\n                    continue;\n                }\n                lines[++l] = (!preserveSpaces || typeof words[i + 1] === 'string') ? '' : undefined;\n                isEol = true;\n            }\n        }\n\n        if (!isEol) {\n\n            let data;\n            if (preserveSpaces) {\n                data = lines[l] !== undefined ? lines[l] + separatorChar + word : word;\n            } else {\n                data = lines[l] ? lines[l] + separatorChar + word : word;\n            }\n\n            textNode.data = data;\n\n            if (textSpan.getComputedTextLength() <= width) {\n\n                // the current line fits\n                lines[l] = data;\n\n                if (p || h) {\n                    // We were partitioning. Put rest of the word onto next line\n                    full[l++] = true;\n\n                    // cancel partitioning and splitting by hyphens\n                    p = 0;\n                    h = 0;\n                }\n\n            } else {\n\n                if (!lines[l] || p) {\n\n                    var partition = !!p;\n\n                    p = word.length - 1;\n\n                    if (partition || !p) {\n\n                        // word has only one character.\n                        if (!p) {\n\n                            if (!lines[l]) {\n\n                                // we won't fit this text within our rect\n                                lines = [];\n\n                                break;\n                            }\n\n                            // partitioning didn't help on the non-empty line\n                            // try again, but this time start with a new line\n\n                            // cancel partitions created\n                            words.splice(i, 2, word + words[i + 1]);\n\n                            // adjust word length\n                            len--;\n\n                            full[l++] = true;\n                            i--;\n\n                            continue;\n                        }\n\n                        // move last letter to the beginning of the next word\n                        words[i] = word.substring(0, p);\n                        const nextWord = words[i + 1];\n                        words[i + 1] = word.substring(p) + (nextWord === undefined || nextWord === NO_SPACE ? '' : nextWord);\n\n                    } else {\n\n                        if (h) {\n                        // cancel splitting and put the words together again\n                            words.splice(i, 2, words[i] + words[i + 1]);\n                            h = 0;\n                        } else {\n                            var hyphenIndex = word.search(hyphen);\n                            if (hyphenIndex > -1 && hyphenIndex !== word.length - 1 && hyphenIndex !== 0) {\n                                h = hyphenIndex + 1;\n                                p = 0;\n                            }\n\n                            // We initiate partitioning or splitting\n                            // split the long word into two words\n                            words.splice(i, 1, word.substring(0, h || p), word.substring(h|| p));\n                            // adjust words length\n                            len++;\n\n                        }\n\n                        if (l && !full[l - 1]) {\n                        // if the previous line is not full, try to fit max part of\n                        // the current word there\n                            l--;\n                        }\n                    }\n\n                    if (!preserveSpaces || lines[l] !== '') {\n                        i--;\n                    }\n\n                    continue;\n                }\n\n                l++;\n                i--;\n            }\n        }\n        var lastL = null;\n\n        if (lines.length > maxLineCount) {\n\n            lastL = maxLineCount - 1;\n\n        } else if (height !== undefined) {\n\n            // if size.height is defined we have to check whether the height of the entire\n            // text exceeds the rect height\n\n            if (lineHeight === undefined && textNode.data !== '') {\n\n                // use the same defaults as in V.prototype.text\n                if (styles.lineHeight === 'auto') {\n                    lineHeight = getLineHeight({ value: 1.5, unit: 'em' }, textElement);\n                } else {\n                    const parsed = parseCssNumeric(styles.lineHeight, ['em', 'px', '']);\n\n                    lineHeight = getLineHeight(parsed, textElement);\n                }\n            }\n\n            if (lineHeight * lines.length > height) {\n                // remove overflowing lines\n                lastL = Math.floor(height / lineHeight) - 1;\n            }\n        }\n\n        if (lastL !== null) {\n\n            lines.splice(lastL + 1);\n\n            // add ellipsis\n            var ellipsis = opt.ellipsis;\n            if (!ellipsis || lastL < 0) break;\n            if (typeof ellipsis !== 'string') ellipsis = '\\u2026';\n\n            var lastLine = lines[lastL];\n            if (!lastLine && !isEol) break;\n            var k = lastLine.length;\n            var lastLineWithOmission, lastChar;\n            do {\n                lastChar = lastLine[k];\n                lastLineWithOmission = lastLine.substring(0, k);\n                if (!lastChar) {\n                    lastLineWithOmission += separatorChar;\n                } else if (lastChar.match(separator)) {\n                    lastLineWithOmission += lastChar;\n                }\n                lastLineWithOmission += ellipsis;\n                textNode.data = lastLineWithOmission;\n                if (textSpan.getComputedTextLength() <= width) {\n                    lines[lastL] = lastLineWithOmission;\n                    break;\n                }\n                k--;\n            } while (k >= 0);\n            break;\n        }\n    }\n\n    if (opt.svgDocument) {\n\n        // svg document was provided, remove the text element only\n        svgDocument.removeChild(textElement);\n\n    } else {\n\n        // clean svg document\n        document.body.removeChild(svgDocument);\n    }\n\n    return lines.join(eol);\n};\n\n// Sanitize HTML\n// Based on https://gist.github.com/ufologist/5a0da51b2b9ef1b861c30254172ac3c9\n// Parses a string into an array of DOM nodes.\n// Then outputs it back as a string.\nexport const sanitizeHTML = function(html) {\n\n    // Ignores tags that are invalid inside a <div> tag (e.g. <body>, <head>)\n\n    // If documentContext (second parameter) is not specified or given as `null` or `undefined`, a new document is used.\n    // Inline events will not execute when the HTML is parsed; this includes, for example, sending GET requests for images.\n\n    // If keepScripts (last parameter) is `false`, scripts are not executed.\n    var output = $($.parseHTML('<div>' + html + '</div>', null, false));\n\n    output.find('*').each(function() { // for all nodes\n        var currentNode = this;\n\n        $.each(currentNode.attributes, function() { // for all attributes in each node\n            var currentAttribute = this;\n\n            var attrName = currentAttribute.name;\n            var attrValue = currentAttribute.value;\n\n            // Remove attribute names that start with \"on\" (e.g. onload, onerror...).\n            // Remove attribute values that start with \"javascript:\" pseudo protocol (e.g. `href=\"javascript:alert(1)\"`).\n            if (attrName.startsWith('on') || attrValue.startsWith('javascript:') || attrValue.startsWith('data:') || attrValue.startsWith('vbscript:')) {\n                $(currentNode).removeAttr(attrName);\n            }\n        });\n    });\n\n    return output.html();\n};\n\n// Download `blob` as file with `fileName`.\n// Does not work in IE9.\nexport const downloadBlob = function(blob, fileName) {\n\n    if (window.navigator.msSaveBlob) { // requires IE 10+\n        // pulls up a save dialog\n        window.navigator.msSaveBlob(blob, fileName);\n\n    } else { // other browsers\n        // downloads directly in Chrome and Safari\n\n        // presents a save/open dialog in Firefox\n        // Firefox bug: `from` field in save dialog always shows `from:blob:`\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1053327\n\n        var url = window.URL.createObjectURL(blob);\n        var link = document.createElement('a');\n\n        link.href = url;\n        link.download = fileName;\n        document.body.appendChild(link);\n\n        link.click();\n\n        document.body.removeChild(link);\n        window.URL.revokeObjectURL(url); // mark the url for garbage collection\n    }\n};\n\n// Download `dataUri` as file with `fileName`.\n// Does not work in IE9.\nexport const downloadDataUri = function(dataUri, fileName) {\n\n    const blob = dataUriToBlob(dataUri);\n    downloadBlob(blob, fileName);\n};\n\n// Convert an uri-encoded data component (possibly also base64-encoded) to a blob.\nexport const dataUriToBlob = function(dataUri) {\n\n    // first, make sure there are no newlines in the data uri\n    dataUri = dataUri.replace(/\\s/g, '');\n    dataUri = decodeURIComponent(dataUri);\n\n    var firstCommaIndex = dataUri.indexOf(','); // split dataUri as `dataTypeString`,`data`\n\n    var dataTypeString = dataUri.slice(0, firstCommaIndex); // e.g. 'data:image/jpeg;base64'\n    var mimeString = dataTypeString.split(':')[1].split(';')[0]; // e.g. 'image/jpeg'\n\n    var data = dataUri.slice(firstCommaIndex + 1);\n    var decodedString;\n    if (dataTypeString.indexOf('base64') >= 0) { // data may be encoded in base64\n        decodedString = atob(data); // decode data\n    } else {\n        // convert the decoded string to UTF-8\n        decodedString = unescape(encodeURIComponent(data));\n    }\n    // write the bytes of the string to a typed array\n    var ia = new Uint8Array(decodedString.length);\n    for (var i = 0; i < decodedString.length; i++) {\n        ia[i] = decodedString.charCodeAt(i);\n    }\n\n    return new Blob([ia], { type: mimeString }); // return the typed array as Blob\n};\n\n// Read an image at `url` and return it as base64-encoded data uri.\n// The mime type of the image is inferred from the `url` file extension.\n// If data uri is provided as `url`, it is returned back unchanged.\n// `callback` is a method with `err` as first argument and `dataUri` as second argument.\n// Works with IE9.\nexport const imageToDataUri = function(url, callback) {\n\n    if (!url || url.substr(0, 'data:'.length) === 'data:') {\n        // No need to convert to data uri if it is already in data uri.\n\n        // This not only convenient but desired. For example,\n        // IE throws a security error if data:image/svg+xml is used to render\n        // an image to the canvas and an attempt is made to read out data uri.\n        // Now if our image is already in data uri, there is no need to render it to the canvas\n        // and so we can bypass this error.\n\n        // Keep the async nature of the function.\n        return setTimeout(function() {\n            callback(null, url);\n        }, 0);\n    }\n\n    // chrome, IE10+\n    var modernHandler = function(xhr, callback) {\n\n        if (xhr.status === 200) {\n\n            var reader = new FileReader();\n\n            reader.onload = function(evt) {\n                var dataUri = evt.target.result;\n                callback(null, dataUri);\n            };\n\n            reader.onerror = function() {\n                callback(new Error('Failed to load image ' + url));\n            };\n\n            reader.readAsDataURL(xhr.response);\n        } else {\n            callback(new Error('Failed to load image ' + url));\n        }\n    };\n\n    var legacyHandler = function(xhr, callback) {\n\n        var Uint8ToString = function(u8a) {\n            var CHUNK_SZ = 0x8000;\n            var c = [];\n            for (var i = 0; i < u8a.length; i += CHUNK_SZ) {\n                c.push(String.fromCharCode.apply(null, u8a.subarray(i, i + CHUNK_SZ)));\n            }\n            return c.join('');\n        };\n\n        if (xhr.status === 200) {\n\n            var bytes = new Uint8Array(xhr.response);\n\n            var suffix = (url.split('.').pop()) || 'png';\n            var map = {\n                'svg': 'svg+xml'\n            };\n            var meta = 'data:image/' + (map[suffix] || suffix) + ';base64,';\n            var b64encoded = meta + btoa(Uint8ToString(bytes));\n            callback(null, b64encoded);\n        } else {\n            callback(new Error('Failed to load image ' + url));\n        }\n    };\n\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url, true);\n    xhr.addEventListener('error', function() {\n        callback(new Error('Failed to load image ' + url));\n    });\n\n    xhr.responseType = window.FileReader ? 'blob' : 'arraybuffer';\n\n    xhr.addEventListener('load', function() {\n        if (window.FileReader) {\n            modernHandler(xhr, callback);\n        } else {\n            legacyHandler(xhr, callback);\n        }\n    });\n\n    xhr.send();\n};\n\nexport const getElementBBox = function(el) {\n\n    var $el = $(el);\n    if ($el.length === 0) {\n        throw new Error('Element not found');\n    }\n\n    var element = $el[0];\n    var doc = element.ownerDocument;\n    var clientBBox = element.getBoundingClientRect();\n\n    var strokeWidthX = 0;\n    var strokeWidthY = 0;\n\n    // Firefox correction\n    if (element.ownerSVGElement) {\n\n        var vel = V(element);\n        var bbox = vel.getBBox({ target: vel.svg() });\n\n        // if FF getBoundingClientRect includes stroke-width, getBBox doesn't.\n        // To unify this across all browsers we need to adjust the final bBox with `stroke-width` value.\n        strokeWidthX = (clientBBox.width - bbox.width);\n        strokeWidthY = (clientBBox.height - bbox.height);\n    }\n\n    return {\n        x: clientBBox.left + window.pageXOffset - doc.documentElement.offsetLeft + strokeWidthX / 2,\n        y: clientBBox.top + window.pageYOffset - doc.documentElement.offsetTop + strokeWidthY / 2,\n        width: clientBBox.width - strokeWidthX,\n        height: clientBBox.height - strokeWidthY\n    };\n};\n\n\n// Highly inspired by the jquery.sortElements plugin by Padolsey.\n// See http://james.padolsey.com/javascript/sorting-elements-with-jquery/.\nexport const sortElements = function(elements, comparator) {\n\n    var $elements = $(elements);\n    var placements = $elements.map(function() {\n\n        var sortElement = this;\n        var parentNode = sortElement.parentNode;\n        // Since the element itself will change position, we have\n        // to have some way of storing it's original position in\n        // the DOM. The easiest way is to have a 'flag' node:\n        var nextSibling = parentNode.insertBefore(document.createTextNode(''), sortElement.nextSibling);\n\n        return function() {\n\n            if (parentNode === this) {\n                throw new Error('You can\\'t sort elements if any one is a descendant of another.');\n            }\n\n            // Insert before flag:\n            parentNode.insertBefore(this, nextSibling);\n            // Remove flag:\n            parentNode.removeChild(nextSibling);\n        };\n    });\n\n    return Array.prototype.sort.call($elements, comparator).each(function(i) {\n        placements[i].call(this);\n    });\n};\n\n// Sets attributes on the given element and its descendants based on the selector.\n// `attrs` object: { [SELECTOR1]: { attrs1 }, [SELECTOR2]: { attrs2}, ... } e.g. { 'input': { color : 'red' }}\nexport const setAttributesBySelector = function(element, attrs) {\n\n    var $element = $(element);\n\n    forIn(attrs, function(attrs, selector) {\n        var $elements = $element.find(selector).addBack().filter(selector);\n        // Make a special case for setting classes.\n        // We do not want to overwrite any existing class.\n        if (has(attrs, 'class')) {\n            $elements.addClass(attrs['class']);\n            attrs = omit(attrs, 'class');\n        }\n        $elements.attr(attrs);\n    });\n};\n\n// Return a new object with all four sides (top, right, bottom, left) in it.\n// Value of each side is taken from the given argument (either number or object).\n// Default value for a side is 0.\n// Examples:\n// normalizeSides(5) --> { top: 5, right: 5, bottom: 5, left: 5 }\n// normalizeSides({ horizontal: 5 }) --> { top: 0, right: 5, bottom: 0, left: 5 }\n// normalizeSides({ left: 5 }) --> { top: 0, right: 0, bottom: 0, left: 5 }\n// normalizeSides({ horizontal: 10, left: 5 }) --> { top: 0, right: 10, bottom: 0, left: 5 }\n// normalizeSides({ horizontal: 0, left: 5 }) --> { top: 0, right: 0, bottom: 0, left: 5 }\nexport const normalizeSides = function(box) {\n\n    if (Object(box) !== box) { // `box` is not an object\n        var val = 0; // `val` left as 0 if `box` cannot be understood as finite number\n        if (isFinite(box)) val = +box; // actually also accepts string numbers (e.g. '100')\n\n        return { top: val, right: val, bottom: val, left: val };\n    }\n\n    // `box` is an object\n    var top, right, bottom, left;\n    top = right = bottom = left = 0;\n\n    if (isFinite(box.vertical)) top = bottom = +box.vertical;\n    if (isFinite(box.horizontal)) right = left = +box.horizontal;\n\n    if (isFinite(box.top)) top = +box.top; // overwrite vertical\n    if (isFinite(box.right)) right = +box.right; // overwrite horizontal\n    if (isFinite(box.bottom)) bottom = +box.bottom; // overwrite vertical\n    if (isFinite(box.left)) left = +box.left; // overwrite horizontal\n\n    return { top: top, right: right, bottom: bottom, left: left };\n};\n\nexport const timing = {\n\n    linear: function(t) {\n        return t;\n    },\n\n    quad: function(t) {\n        return t * t;\n    },\n\n    cubic: function(t) {\n        return t * t * t;\n    },\n\n    inout: function(t) {\n        if (t <= 0) return 0;\n        if (t >= 1) return 1;\n        var t2 = t * t;\n        var t3 = t2 * t;\n        return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);\n    },\n\n    exponential: function(t) {\n        return Math.pow(2, 10 * (t - 1));\n    },\n\n    bounce: function(t) {\n        for (var a = 0, b = 1; 1; a += b, b /= 2) {\n            if (t >= (7 - 4 * a) / 11) {\n                var q = (11 - 6 * a - 11 * t) / 4;\n                return -q * q + b * b;\n            }\n        }\n    },\n\n    reverse: function(f) {\n        return function(t) {\n            return 1 - f(1 - t);\n        };\n    },\n\n    reflect: function(f) {\n        return function(t) {\n            return .5 * (t < .5 ? f(2 * t) : (2 - f(2 - 2 * t)));\n        };\n    },\n\n    clamp: function(f, n, x) {\n        n = n || 0;\n        x = x || 1;\n        return function(t) {\n            var r = f(t);\n            return r < n ? n : r > x ? x : r;\n        };\n    },\n\n    back: function(s) {\n        if (!s) s = 1.70158;\n        return function(t) {\n            return t * t * ((s + 1) * t - s);\n        };\n    },\n\n    elastic: function(x) {\n        if (!x) x = 1.5;\n        return function(t) {\n            return Math.pow(2, 10 * (t - 1)) * Math.cos(20 * Math.PI * x / 3 * t);\n        };\n    }\n};\n\nexport const interpolate = {\n\n    number: function(a, b) {\n        var d = b - a;\n        return function(t) {\n            return a + d * t;\n        };\n    },\n\n    object: function(a, b) {\n        var s = Object.keys(a);\n        return function(t) {\n            var i, p;\n            var r = {};\n            for (i = s.length - 1; i != -1; i--) {\n                p = s[i];\n                r[p] = a[p] + (b[p] - a[p]) * t;\n            }\n            return r;\n        };\n    },\n\n    hexColor: function(a, b) {\n\n        var ca = parseInt(a.slice(1), 16);\n        var cb = parseInt(b.slice(1), 16);\n        var ra = ca & 0x0000ff;\n        var rd = (cb & 0x0000ff) - ra;\n        var ga = ca & 0x00ff00;\n        var gd = (cb & 0x00ff00) - ga;\n        var ba = ca & 0xff0000;\n        var bd = (cb & 0xff0000) - ba;\n\n        return function(t) {\n\n            var r = (ra + rd * t) & 0x000000ff;\n            var g = (ga + gd * t) & 0x0000ff00;\n            var b = (ba + bd * t) & 0x00ff0000;\n\n            return '#' + (1 << 24 | r | g | b).toString(16).slice(1);\n        };\n    },\n\n    unit: function(a, b) {\n\n        var r = /(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/;\n        var ma = r.exec(a);\n        var mb = r.exec(b);\n        var p = mb[1].indexOf('.');\n        var f = p > 0 ? mb[1].length - p - 1 : 0;\n        a = +ma[1];\n        var d = +mb[1] - a;\n        var u = ma[2];\n\n        return function(t) {\n            return (a + d * t).toFixed(f) + u;\n        };\n    }\n};\n\n// SVG filters.\n// (values in parentheses are default values)\nexport const filter = {\n\n    // `color` ... outline color ('blue')\n    // `width`... outline width (1)\n    // `opacity` ... outline opacity (1)\n    // `margin` ... gap between outline and the element (2)\n    outline: function(args) {\n\n        var tpl = '<filter><feFlood flood-color=\"${color}\" flood-opacity=\"${opacity}\" result=\"colored\"/><feMorphology in=\"SourceAlpha\" result=\"morphedOuter\" operator=\"dilate\" radius=\"${outerRadius}\" /><feMorphology in=\"SourceAlpha\" result=\"morphedInner\" operator=\"dilate\" radius=\"${innerRadius}\" /><feComposite result=\"morphedOuterColored\" in=\"colored\" in2=\"morphedOuter\" operator=\"in\"/><feComposite operator=\"xor\" in=\"morphedOuterColored\" in2=\"morphedInner\" result=\"outline\"/><feMerge><feMergeNode in=\"outline\"/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n\n        var margin = Number.isFinite(args.margin) ? args.margin : 2;\n        var width = Number.isFinite(args.width) ? args.width : 1;\n\n        return template(tpl)({\n            color: args.color || 'blue',\n            opacity: Number.isFinite(args.opacity) ? args.opacity : 1,\n            outerRadius: margin + width,\n            innerRadius: margin\n        });\n    },\n\n    // `color` ... color ('red')\n    // `width`... width (1)\n    // `blur` ... blur (0)\n    // `opacity` ... opacity (1)\n    highlight: function(args) {\n\n        var tpl = '<filter><feFlood flood-color=\"${color}\" flood-opacity=\"${opacity}\" result=\"colored\"/><feMorphology result=\"morphed\" in=\"SourceGraphic\" operator=\"dilate\" radius=\"${width}\"/><feComposite result=\"composed\" in=\"colored\" in2=\"morphed\" operator=\"in\"/><feGaussianBlur result=\"blured\" in=\"composed\" stdDeviation=\"${blur}\"/><feBlend in=\"SourceGraphic\" in2=\"blured\" mode=\"normal\"/></filter>';\n\n        return template(tpl)({\n            color: args.color || 'red',\n            width: Number.isFinite(args.width) ? args.width : 1,\n            blur: Number.isFinite(args.blur) ? args.blur : 0,\n            opacity: Number.isFinite(args.opacity) ? args.opacity : 1\n        });\n    },\n\n    // `x` ... horizontal blur (2)\n    // `y` ... vertical blur (optional)\n    blur: function(args) {\n\n        var x = Number.isFinite(args.x) ? args.x : 2;\n\n        return template('<filter><feGaussianBlur stdDeviation=\"${stdDeviation}\"/></filter>')({\n            stdDeviation: Number.isFinite(args.y) ? [x, args.y] : x\n        });\n    },\n\n    // `dx` ... horizontal shift (0)\n    // `dy` ... vertical shift (0)\n    // `blur` ... blur (4)\n    // `color` ... color ('black')\n    // `opacity` ... opacity (1)\n    dropShadow: function(args) {\n\n        var tpl = 'SVGFEDropShadowElement' in window\n            ? '<filter><feDropShadow stdDeviation=\"${blur}\" dx=\"${dx}\" dy=\"${dy}\" flood-color=\"${color}\" flood-opacity=\"${opacity}\"/></filter>'\n            : '<filter><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"${blur}\"/><feOffset dx=\"${dx}\" dy=\"${dy}\" result=\"offsetblur\"/><feFlood flood-color=\"${color}\"/><feComposite in2=\"offsetblur\" operator=\"in\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"${opacity}\"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n\n        return template(tpl)({\n            dx: args.dx || 0,\n            dy: args.dy || 0,\n            opacity: Number.isFinite(args.opacity) ? args.opacity : 1,\n            color: args.color || 'black',\n            blur: Number.isFinite(args.blur) ? args.blur : 4\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 1 (default) is completely grayscale. A value of 0 leaves the input unchanged.\n    grayscale: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feColorMatrix type=\"matrix\" values=\"${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0\"/></filter>')({\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 1 (default) is completely sepia. A value of 0 leaves the input unchanged.\n    sepia: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feColorMatrix type=\"matrix\" values=\"${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0\"/></filter>')({\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 0 is completely un-saturated. A value of 1 (default) leaves the input unchanged.\n    saturate: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feColorMatrix type=\"saturate\" values=\"${amount}\"/></filter>')({\n            amount: 1 - amount\n        });\n    },\n\n    // `angle` ...  the number of degrees around the color circle the input samples will be adjusted (0).\n    hueRotate: function(args) {\n\n        return template('<filter><feColorMatrix type=\"hueRotate\" values=\"${angle}\"/></filter>')({\n            angle: args.angle || 0\n        });\n    },\n\n    // `amount` ... the proportion of the conversion (1). A value of 1 (default) is completely inverted. A value of 0 leaves the input unchanged.\n    invert: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feComponentTransfer><feFuncR type=\"table\" tableValues=\"${amount} ${amount2}\"/><feFuncG type=\"table\" tableValues=\"${amount} ${amount2}\"/><feFuncB type=\"table\" tableValues=\"${amount} ${amount2}\"/></feComponentTransfer></filter>')({\n            amount: amount,\n            amount2: 1 - amount\n        });\n    },\n\n    // `amount` ... proportion of the conversion (1). A value of 0 will create an image that is completely black. A value of 1 (default) leaves the input unchanged.\n    brightness: function(args) {\n\n        return template('<filter><feComponentTransfer><feFuncR type=\"linear\" slope=\"${amount}\"/><feFuncG type=\"linear\" slope=\"${amount}\"/><feFuncB type=\"linear\" slope=\"${amount}\"/></feComponentTransfer></filter>')({\n            amount: Number.isFinite(args.amount) ? args.amount : 1\n        });\n    },\n\n    // `amount` ... proportion of the conversion (1). A value of 0 will create an image that is completely black. A value of 1 (default) leaves the input unchanged.\n    contrast: function(args) {\n\n        var amount = Number.isFinite(args.amount) ? args.amount : 1;\n\n        return template('<filter><feComponentTransfer><feFuncR type=\"linear\" slope=\"${amount}\" intercept=\"${amount2}\"/><feFuncG type=\"linear\" slope=\"${amount}\" intercept=\"${amount2}\"/><feFuncB type=\"linear\" slope=\"${amount}\" intercept=\"${amount2}\"/></feComponentTransfer></filter>')({\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    }\n};\n\nexport const format = {\n\n    // Formatting numbers via the Python Format Specification Mini-language.\n    // See http://docs.python.org/release/3.1.3/library/string.html#format-specification-mini-language.\n    // Heavilly inspired by the D3.js library implementation.\n    number: function(specifier, value, locale) {\n\n        locale = locale || {\n\n            currency: ['$', ''],\n            decimal: '.',\n            thousands: ',',\n            grouping: [3]\n        };\n\n        // See Python format specification mini-language: http://docs.python.org/release/3.1.3/library/string.html#format-specification-mini-language.\n        // [[fill]align][sign][symbol][0][width][,][.precision][type]\n        var re = /(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i;\n\n        var match = re.exec(specifier);\n        var fill = match[1] || ' ';\n        var align = match[2] || '>';\n        var sign = match[3] || '';\n        var symbol = match[4] || '';\n        var zfill = match[5];\n        var width = +match[6];\n        var comma = match[7];\n        var precision = match[8];\n        var type = match[9];\n        var scale = 1;\n        var prefix = '';\n        var suffix = '';\n        var integer = false;\n\n        if (precision) precision = +precision.substring(1);\n\n        if (zfill || fill === '0' && align === '=') {\n            zfill = fill = '0';\n            align = '=';\n            if (comma) width -= Math.floor((width - 1) / 4);\n        }\n\n        switch (type) {\n            case 'n':\n                comma = true;\n                type = 'g';\n                break;\n            case '%':\n                scale = 100;\n                suffix = '%';\n                type = 'f';\n                break;\n            case 'p':\n                scale = 100;\n                suffix = '%';\n                type = 'r';\n                break;\n            case 'b':\n            case 'o':\n            case 'x':\n            case 'X':\n                if (symbol === '#') prefix = '0' + type.toLowerCase();\n                break;\n            case 'c':\n            case 'd':\n                integer = true;\n                precision = 0;\n                break;\n            case 's':\n                scale = -1;\n                type = 'r';\n                break;\n        }\n\n        if (symbol === '$') {\n            prefix = locale.currency[0];\n            suffix = locale.currency[1];\n        }\n\n        // If no precision is specified for `'r'`, fallback to general notation.\n        if (type == 'r' && !precision) type = 'g';\n\n        // Ensure that the requested precision is in the supported range.\n        if (precision != null) {\n            if (type == 'g') precision = Math.max(1, Math.min(21, precision));\n            else if (type == 'e' || type == 'f') precision = Math.max(0, Math.min(20, precision));\n        }\n\n        var zcomma = zfill && comma;\n\n        // Return the empty string for floats formatted as ints.\n        if (integer && (value % 1)) return '';\n\n        // Convert negative to positive, and record the sign prefix.\n        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, '-') : sign;\n\n        var fullSuffix = suffix;\n\n        // Apply the scale, computing it from the value's exponent for si format.\n        // Preserve the existing suffix, if any, such as the currency symbol.\n        if (scale < 0) {\n            var unit = this.prefix(value, precision);\n            value = unit.scale(value);\n            fullSuffix = unit.symbol + suffix;\n        } else {\n            value *= scale;\n        }\n\n        // Convert to the desired precision.\n        value = this.convert(type, value, precision);\n\n        // Break the value into the integer part (before) and decimal part (after).\n        var i = value.lastIndexOf('.');\n        var before = i < 0 ? value : value.substring(0, i);\n        var after = i < 0 ? '' : locale.decimal + value.substring(i + 1);\n\n        function formatGroup(value) {\n\n            var i = value.length;\n            var t = [];\n            var j = 0;\n            var g = locale.grouping[0];\n            while (i > 0 && g > 0) {\n                t.push(value.substring(i -= g, i + g));\n                g = locale.grouping[j = (j + 1) % locale.grouping.length];\n            }\n            return t.reverse().join(locale.thousands);\n        }\n\n        // If the fill character is not `'0'`, grouping is applied before padding.\n        if (!zfill && comma && locale.grouping) {\n\n            before = formatGroup(before);\n        }\n\n        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length);\n        var padding = length < width ? new Array(length = width - length + 1).join(fill) : '';\n\n        // If the fill character is `'0'`, grouping is applied after padding.\n        if (zcomma) before = formatGroup(padding + before);\n\n        // Apply prefix.\n        negative += prefix;\n\n        // Rejoin integer and decimal parts.\n        value = before + after;\n\n        return (align === '<' ? negative + value + padding\n            : align === '>' ? padding + negative + value\n                : align === '^' ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length)\n                    : negative + (zcomma ? value : padding + value)) + fullSuffix;\n    },\n\n    // Formatting string via the Python Format string.\n    // See https://docs.python.org/2/library/string.html#format-string-syntax)\n    string: function(formatString, value) {\n\n        var fieldDelimiterIndex;\n        var fieldDelimiter = '{';\n        var endPlaceholder = false;\n        var formattedStringArray = [];\n\n        while ((fieldDelimiterIndex = formatString.indexOf(fieldDelimiter)) !== -1) {\n\n            var pieceFormattedString, formatSpec, fieldName;\n\n            pieceFormattedString = formatString.slice(0, fieldDelimiterIndex);\n\n            if (endPlaceholder) {\n                formatSpec = pieceFormattedString.split(':');\n                fieldName = formatSpec.shift().split('.');\n                pieceFormattedString = value;\n\n                for (var i = 0; i < fieldName.length; i++)\n                    pieceFormattedString = pieceFormattedString[fieldName[i]];\n\n                if (formatSpec.length)\n                    pieceFormattedString = this.number(formatSpec, pieceFormattedString);\n            }\n\n            formattedStringArray.push(pieceFormattedString);\n\n            formatString = formatString.slice(fieldDelimiterIndex + 1);\n            endPlaceholder = !endPlaceholder;\n            fieldDelimiter = (endPlaceholder) ? '}' : '{';\n        }\n        formattedStringArray.push(formatString);\n\n        return formattedStringArray.join('');\n    },\n\n    convert: function(type, value, precision) {\n\n        switch (type) {\n            case 'b':\n                return value.toString(2);\n            case 'c':\n                return String.fromCharCode(value);\n            case 'o':\n                return value.toString(8);\n            case 'x':\n                return value.toString(16);\n            case 'X':\n                return value.toString(16).toUpperCase();\n            case 'g':\n                return value.toPrecision(precision);\n            case 'e':\n                return value.toExponential(precision);\n            case 'f':\n                return value.toFixed(precision);\n            case 'r':\n                return (value = this.round(value, this.precision(value, precision))).toFixed(Math.max(0, Math.min(20, this.precision(value * (1 + 1e-15), precision))));\n            default:\n                return value + '';\n        }\n    },\n\n    round: function(value, precision) {\n\n        return precision\n            ? Math.round(value * (precision = Math.pow(10, precision))) / precision\n            : Math.round(value);\n    },\n\n    precision: function(value, precision) {\n\n        return precision - (value ? Math.ceil(Math.log(value) / Math.LN10) : 1);\n    },\n\n    prefix: function(value, precision) {\n\n        var prefixes = ['y', 'z', 'a', 'f', 'p', 'n', 'µ', 'm', '', 'k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'].map(function(d, i) {\n            var k = Math.pow(10, Math.abs(8 - i) * 3);\n            return {\n                scale: i > 8 ? function(d) {\n                    return d / k;\n                } : function(d) {\n                    return d * k;\n                },\n                symbol: d\n            };\n        });\n\n        var i = 0;\n        if (value) {\n            if (value < 0) value *= -1;\n            if (precision) value = this.round(value, this.precision(value, precision));\n            i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n            i = Math.max(-24, Math.min(24, Math.floor((i <= 0 ? i + 1 : i - 1) / 3) * 3));\n        }\n        return prefixes[8 + i / 3];\n    }\n};\n\n/*\n    Pre-compile the HTML to be used as a template.\n*/\nexport const template = function(html) {\n\n    /*\n        Must support the variation in templating syntax found here:\n        https://lodash.com/docs#template\n    */\n    var regex = /<%= ([^ ]+) %>|\\$\\{ ?([^{} ]+) ?\\}|\\{\\{([^{} ]+)\\}\\}/g;\n\n    return function(data) {\n\n        data = data || {};\n\n        return html.replace(regex, function(match) {\n\n            var args = Array.from(arguments);\n            var attr = args.slice(1, 4).find(function(_attr) {\n                return !!_attr;\n            });\n\n            var attrArray = attr.split('.');\n            var value = data[attrArray.shift()];\n\n            while (value !== undefined && attrArray.length) {\n                value = value[attrArray.shift()];\n            }\n\n            return value !== undefined ? value : '';\n        });\n    };\n};\n\n/**\n * @param {Element} el Element, which content is intent to display in full-screen mode, 'window.top.document.body' is default.\n */\nexport const toggleFullScreen = function(el) {\n\n    var topDocument = window.top.document;\n    el = el || topDocument.body;\n\n    function prefixedResult(el, prop) {\n\n        var prefixes = ['webkit', 'moz', 'ms', 'o', ''];\n        for (var i = 0; i < prefixes.length; i++) {\n            var prefix = prefixes[i];\n            var propName = prefix ? (prefix + prop) : (prop.substr(0, 1).toLowerCase() + prop.substr(1));\n            if (el[propName] !== undefined) {\n                return isFunction(el[propName]) ? el[propName]() : el[propName];\n            }\n        }\n    }\n\n    if (prefixedResult(topDocument, 'FullscreenElement') || prefixedResult(topDocument, 'FullScreenElement')) {\n        prefixedResult(topDocument, 'ExitFullscreen') || // Spec.\n        prefixedResult(topDocument, 'CancelFullScreen'); // Firefox\n    } else {\n        prefixedResult(el, 'RequestFullscreen') || // Spec.\n        prefixedResult(el, 'RequestFullScreen'); // Firefox\n    }\n};\n\nexport {\n    isBoolean,\n    isObject,\n    isNumber,\n    isString,\n    mixin,\n    deepMixin,\n    supplement,\n    defaults,\n    deepSupplement,\n    defaultsDeep,\n    assign,\n    invoke,\n    invokeProperty,\n    sortedIndex,\n    uniq,\n    clone,\n    cloneDeep,\n    isEmpty,\n    isEqual,\n    isFunction,\n    isPlainObject,\n    toArray,\n    debounce,\n    groupBy,\n    sortBy,\n    flattenDeep,\n    without,\n    difference,\n    intersection,\n    union,\n    has,\n    result,\n    omit,\n    pick,\n    bindAll,\n    forIn,\n    camelCase,\n    uniqueId,\n    merge\n};\n\nexport const noop = function() {\n};\n", "// Vectorizer.\n// -----------\n\n// A tiny library for making your life easier when dealing with SVG.\n// The only Vectorizer dependency is the Geometry library.\n\nimport * as g from '../g/index.mjs';\n\nconst V = (function() {\n\n    var hasSvg = typeof window === 'object' && !!window.SVGAngle;\n\n    // SVG support is required.\n    if (!hasSvg) {\n\n        // Return a function that throws an error when it is used.\n        return function() {\n            throw new Error('SVG is required to use Vectorizer.');\n        };\n    }\n\n    // XML namespaces.\n    var ns = {\n        svg: 'http://www.w3.org/2000/svg',\n        xmlns: 'http://www.w3.org/2000/xmlns/',\n        xml: 'http://www.w3.org/XML/1998/namespace',\n        xlink: 'http://www.w3.org/1999/xlink',\n        xhtml: 'http://www.w3.org/1999/xhtml'\n    };\n\n    var SVGVersion = '1.1';\n\n    // Declare shorthands to the most used math functions.\n    var math = Math;\n    var PI = math.PI;\n    var atan2 = math.atan2;\n    var sqrt = math.sqrt;\n    var min = math.min;\n    var max = math.max;\n    var cos = math.cos;\n    var sin = math.sin;\n\n    var V = function(el, attrs, children) {\n\n        // This allows using V() without the new keyword.\n        if (!(this instanceof V)) {\n            return V.apply(Object.create(V.prototype), arguments);\n        }\n\n        if (!el) return;\n\n        if (V.isV(el)) {\n            el = el.node;\n        }\n\n        attrs = attrs || {};\n\n        if (V.isString(el)) {\n\n            el = el.trim();\n\n            if (el.toLowerCase() === 'svg') {\n\n                // Create a new SVG canvas.\n                el = V.createSvgDocument();\n\n            } else if (el[0] === '<') {\n\n                // Create element from an SVG string.\n                // Allows constructs of type: `document.appendChild(V('<rect></rect>').node)`.\n\n                var svgDoc = V.createSvgDocument(el);\n\n                // Note that `V()` might also return an array should the SVG string passed as\n                // the first argument contain more than one root element.\n                if (svgDoc.childNodes.length > 1) {\n\n                    // Map child nodes to `V`s.\n                    var arrayOfVels = [];\n                    var i, len;\n\n                    for (i = 0, len = svgDoc.childNodes.length; i < len; i++) {\n\n                        var childNode = svgDoc.childNodes[i];\n                        arrayOfVels.push(new V(document.importNode(childNode, true)));\n                    }\n\n                    return arrayOfVels;\n                }\n\n                el = document.importNode(svgDoc.firstChild, true);\n\n            } else {\n\n                el = document.createElementNS(ns.svg, el);\n            }\n\n            V.ensureId(el);\n        }\n\n        this.node = el;\n\n        this.setAttributes(attrs);\n\n        if (children) {\n            this.append(children);\n        }\n\n        return this;\n    };\n\n    var VPrototype = V.prototype;\n\n    Object.defineProperty(VPrototype, 'id', {\n        enumerable: true,\n        get: function() {\n            return this.node.id;\n        },\n        set: function(id) {\n            this.node.id = id;\n        }\n    });\n\n    /**\n     * @param {SVGGElement} toElem\n     * @returns {SVGMatrix}\n     */\n    VPrototype.getTransformToElement = function(target) {\n        var node = this.node;\n        if (V.isSVGGraphicsElement(target) && V.isSVGGraphicsElement(node)) {\n            var targetCTM = V.toNode(target).getScreenCTM();\n            var nodeCTM = node.getScreenCTM();\n            if (targetCTM && nodeCTM) {\n                return targetCTM.inverse().multiply(nodeCTM);\n            }\n        }\n        // Could not get actual transformation matrix\n        return V.createSVGMatrix();\n    };\n\n    /**\n     * @param {SVGMatrix} matrix\n     * @param {Object=} opt\n     * @returns {Vectorizer|SVGMatrix} Setter / Getter\n     */\n    VPrototype.transform = function(matrix, opt) {\n\n        var node = this.node;\n        if (V.isUndefined(matrix)) {\n            return V.transformStringToMatrix(this.attr('transform'));\n        }\n\n        if (opt && opt.absolute) {\n            return this.attr('transform', V.matrixToTransformString(matrix));\n        }\n\n        var svgTransform = V.createSVGTransform(matrix);\n        node.transform.baseVal.appendItem(svgTransform);\n        return this;\n    };\n\n    VPrototype.translate = function(tx, ty, opt) {\n\n        opt = opt || {};\n        ty = ty || 0;\n\n        var transformAttr = this.attr('transform') || '';\n        var transform = V.parseTransformString(transformAttr);\n        transformAttr = transform.value;\n        // Is it a getter?\n        if (V.isUndefined(tx)) {\n            return transform.translate;\n        }\n\n        transformAttr = transformAttr.replace(/translate\\([^)]*\\)/g, '').trim();\n\n        var newTx = opt.absolute ? tx : transform.translate.tx + tx;\n        var newTy = opt.absolute ? ty : transform.translate.ty + ty;\n        var newTranslate = 'translate(' + newTx + ',' + newTy + ')';\n\n        // Note that `translate()` is always the first transformation. This is\n        // usually the desired case.\n        this.attr('transform', (newTranslate + ' ' + transformAttr).trim());\n        return this;\n    };\n\n    VPrototype.rotate = function(angle, cx, cy, opt) {\n\n        opt = opt || {};\n\n        var transformAttr = this.attr('transform') || '';\n        var transform = V.parseTransformString(transformAttr);\n        transformAttr = transform.value;\n\n        // Is it a getter?\n        if (V.isUndefined(angle)) {\n            return transform.rotate;\n        }\n\n        transformAttr = transformAttr.replace(/rotate\\([^)]*\\)/g, '').trim();\n\n        angle %= 360;\n\n        var newAngle = opt.absolute ? angle : transform.rotate.angle + angle;\n        var newOrigin = (cx !== undefined && cy !== undefined) ? ',' + cx + ',' + cy : '';\n        var newRotate = 'rotate(' + newAngle + newOrigin + ')';\n\n        this.attr('transform', (transformAttr + ' ' + newRotate).trim());\n        return this;\n    };\n\n    // Note that `scale` as the only transformation does not combine with previous values.\n    VPrototype.scale = function(sx, sy) {\n\n        sy = V.isUndefined(sy) ? sx : sy;\n\n        var transformAttr = this.attr('transform') || '';\n        var transform = V.parseTransformString(transformAttr);\n        transformAttr = transform.value;\n\n        // Is it a getter?\n        if (V.isUndefined(sx)) {\n            return transform.scale;\n        }\n\n        transformAttr = transformAttr.replace(/scale\\([^)]*\\)/g, '').trim();\n\n        var newScale = 'scale(' + sx + ',' + sy + ')';\n\n        this.attr('transform', (transformAttr + ' ' + newScale).trim());\n        return this;\n    };\n\n    // Get SVGRect that contains coordinates and dimension of the real bounding box,\n    // i.e. after transformations are applied.\n    // If `target` is specified, bounding box will be computed relatively to `target` element.\n    VPrototype.bbox = function(withoutTransformations, target) {\n\n        var box;\n        var node = this.node;\n        var ownerSVGElement = node.ownerSVGElement;\n\n        // If the element is not in the live DOM, it does not have a bounding box defined and\n        // so fall back to 'zero' dimension element.\n        if (!ownerSVGElement) {\n            return new g.Rect(0, 0, 0, 0);\n        }\n\n        try {\n\n            box = node.getBBox();\n\n        } catch (e) {\n\n            // Fallback for IE.\n            box = {\n                x: node.clientLeft,\n                y: node.clientTop,\n                width: node.clientWidth,\n                height: node.clientHeight\n            };\n        }\n\n        if (withoutTransformations) {\n            return new g.Rect(box);\n        }\n\n        var matrix = this.getTransformToElement(target || ownerSVGElement);\n\n        return V.transformRect(box, matrix);\n    };\n\n    // Returns an SVGRect that contains coordinates and dimensions of the real bounding box,\n    // i.e. after transformations are applied.\n    // Fixes a browser implementation bug that returns incorrect bounding boxes for groups of svg elements.\n    // Takes an (Object) `opt` argument (optional) with the following attributes:\n    // (Object) `target` (optional): if not undefined, transform bounding boxes relative to `target`; if undefined, transform relative to this\n    // (Boolean) `recursive` (optional): if true, recursively enter all groups and get a union of element bounding boxes (svg bbox fix); if false or undefined, return result of native function this.node.getBBox();\n    VPrototype.getBBox = function(opt) {\n\n        var options = {};\n\n        var outputBBox;\n        var node = this.node;\n        var ownerSVGElement = node.ownerSVGElement;\n\n        // If the element is not in the live DOM, it does not have a bounding box defined and\n        // so fall back to 'zero' dimension element.\n        // If the element is not an SVGGraphicsElement, we could not measure the bounding box either\n        if (!ownerSVGElement || !V.isSVGGraphicsElement(node)) {\n            return new g.Rect(0, 0, 0, 0);\n        }\n\n        if (opt) {\n            if (opt.target) { // check if target exists\n                options.target = V.toNode(opt.target); // works for V objects, jquery objects, and node objects\n            }\n            if (opt.recursive) {\n                options.recursive = opt.recursive;\n            }\n        }\n\n        if (!options.recursive) {\n            try {\n                outputBBox = node.getBBox();\n            } catch (e) {\n                // Fallback for IE.\n                outputBBox = {\n                    x: node.clientLeft,\n                    y: node.clientTop,\n                    width: node.clientWidth,\n                    height: node.clientHeight\n                };\n            }\n\n            if (!options.target) {\n                // transform like this (that is, not at all)\n                return new g.Rect(outputBBox);\n            } else {\n                // transform like target\n                var matrix = this.getTransformToElement(options.target);\n                return V.transformRect(outputBBox, matrix);\n            }\n        } else { // if we want to calculate the bbox recursively\n            // browsers report correct bbox around svg elements (one that envelops the path lines tightly)\n            // but some browsers fail to report the same bbox when the elements are in a group (returning a looser bbox that also includes control points, like node.getClientRect())\n            // this happens even if we wrap a single svg element into a group!\n            // this option setting makes the function recursively enter all the groups from this and deeper, get bboxes of the elements inside, then return a union of those bboxes\n\n            var children = this.children();\n            var n = children.length;\n\n            if (n === 0) {\n                return this.getBBox({ target: options.target, recursive: false });\n            }\n\n            // recursion's initial pass-through setting:\n            // recursive passes-through just keep the target as whatever was set up here during the initial pass-through\n            if (!options.target) {\n                // transform children/descendants like this (their parent/ancestor)\n                options.target = this;\n            } // else transform children/descendants like target\n\n            for (var i = 0; i < n; i++) {\n                var currentChild = children[i];\n\n                var childBBox;\n\n                // if currentChild is not a group element, get its bbox with a nonrecursive call\n                if (currentChild.children().length === 0) {\n                    childBBox = currentChild.getBBox({ target: options.target, recursive: false });\n                } else {\n                    // if currentChild is a group element (determined by checking the number of children), enter it with a recursive call\n                    childBBox = currentChild.getBBox({ target: options.target, recursive: true });\n                }\n\n                if (!outputBBox) {\n                    // if this is the first iteration\n                    outputBBox = childBBox;\n                } else {\n                    // make a new bounding box rectangle that contains this child's bounding box and previous bounding box\n                    outputBBox = outputBBox.union(childBBox);\n                }\n            }\n\n            return outputBBox;\n        }\n    };\n\n    // Text() helpers\n\n    function createTextPathNode(attrs, vel) {\n        attrs || (attrs = {});\n        var textPathElement = V('textPath');\n        var d = attrs.d;\n        if (d && attrs['xlink:href'] === undefined) {\n            // If `opt.attrs` is a plain string, consider it to be directly the\n            // SVG path data for the text to go along (this is a shortcut).\n            // Otherwise if it is an object and contains the `d` property, then this is our path.\n            // Wrap the text in the SVG <textPath> element that points\n            // to a path defined by `opt.attrs` inside the `<defs>` element.\n            var linkedPath = V('path').attr('d', d).appendTo(vel.defs());\n            textPathElement.attr('xlink:href', '#' + linkedPath.id);\n        }\n        if (V.isObject(attrs)) {\n            // Set attributes on the `<textPath>`. The most important one\n            // is the `xlink:href` that points to our newly created `<path/>` element in `<defs/>`.\n            // Note that we also allow the following construct:\n            // `t.text('my text', { textPath: { 'xlink:href': '#my-other-path' } })`.\n            // In other words, one can completely skip the auto-creation of the path\n            // and use any other arbitrary path that is in the document.\n            textPathElement.attr(attrs);\n        }\n        return textPathElement.node;\n    }\n\n    function annotateTextLine(lineNode, lineAnnotations, opt) {\n        opt || (opt = {});\n        var includeAnnotationIndices = opt.includeAnnotationIndices;\n        var eol = opt.eol;\n        var lineHeight = opt.lineHeight;\n        var baseSize = opt.baseSize;\n        var maxFontSize = 0;\n        var fontMetrics = {};\n        var lastJ = lineAnnotations.length - 1;\n        for (var j = 0; j <= lastJ; j++) {\n            var annotation = lineAnnotations[j];\n            var fontSize = null;\n            if (V.isObject(annotation)) {\n                var annotationAttrs = annotation.attrs;\n                var vTSpan = V('tspan', annotationAttrs);\n                var tspanNode = vTSpan.node;\n                var t = annotation.t;\n                if (eol && j === lastJ) t += eol;\n                tspanNode.textContent = t;\n                // Per annotation className\n                var annotationClass = annotationAttrs['class'];\n                if (annotationClass) vTSpan.addClass(annotationClass);\n                // If `opt.includeAnnotationIndices` is `true`,\n                // set the list of indices of all the applied annotations\n                // in the `annotations` attribute. This list is a comma\n                // separated list of indices.\n                if (includeAnnotationIndices) vTSpan.attr('annotations', annotation.annotations);\n                // Check for max font size\n                fontSize = parseFloat(annotationAttrs['font-size']);\n                if (!isFinite(fontSize)) fontSize = baseSize;\n                if (fontSize && fontSize > maxFontSize) maxFontSize = fontSize;\n            } else {\n                if (eol && j === lastJ) annotation += eol;\n                tspanNode = document.createTextNode(annotation || ' ');\n                if (baseSize && baseSize > maxFontSize) maxFontSize = baseSize;\n            }\n            lineNode.appendChild(tspanNode);\n        }\n\n        if (maxFontSize) fontMetrics.maxFontSize = maxFontSize;\n        if (lineHeight) {\n            fontMetrics.lineHeight = lineHeight;\n        } else if (maxFontSize) {\n            fontMetrics.lineHeight = (maxFontSize * 1.2);\n        }\n        return fontMetrics;\n    }\n\n    var emRegex = /em$/;\n\n    function convertEmToPx(em, fontSize) {\n        var numerical = parseFloat(em);\n        if (emRegex.test(em)) return numerical * fontSize;\n        return numerical;\n    }\n\n    function calculateDY(alignment, linesMetrics, baseSizePx, lineHeight) {\n        if (!Array.isArray(linesMetrics)) return 0;\n        var n = linesMetrics.length;\n        if (!n) return 0;\n        var lineMetrics = linesMetrics[0];\n        var flMaxFont = convertEmToPx(lineMetrics.maxFontSize, baseSizePx) || baseSizePx;\n        var rLineHeights = 0;\n        var lineHeightPx = convertEmToPx(lineHeight, baseSizePx);\n        for (var i = 1; i < n; i++) {\n            lineMetrics = linesMetrics[i];\n            var iLineHeight = convertEmToPx(lineMetrics.lineHeight, baseSizePx) || lineHeightPx;\n            rLineHeights += iLineHeight;\n        }\n        var llMaxFont = convertEmToPx(lineMetrics.maxFontSize, baseSizePx) || baseSizePx;\n        var dy;\n        switch (alignment) {\n            case 'middle':\n                dy = (flMaxFont / 2) - (0.15 * llMaxFont) - (rLineHeights / 2);\n                break;\n            case 'bottom':\n                dy = -(0.25 * llMaxFont) - rLineHeights;\n                break;\n            default:\n            case 'top':\n                dy = (0.8 * flMaxFont);\n                break;\n        }\n        return dy;\n    }\n\n    VPrototype.text = function(content, opt) {\n\n        if (content && typeof content !== 'string') throw new Error('Vectorizer: text() expects the first argument to be a string.');\n\n        // Replace all spaces with the Unicode No-break space (http://www.fileformat.info/info/unicode/char/a0/index.htm).\n        // IE would otherwise collapse all spaces into one.\n        content = V.sanitizeText(content);\n        opt || (opt = {});\n        // Should we allow the text to be selected?\n        var displayEmpty = opt.displayEmpty;\n        // End of Line character\n        var eol = opt.eol;\n        // Text along path\n        var textPath = opt.textPath;\n        // Vertical shift\n        var verticalAnchor = opt.textVerticalAnchor;\n        var namedVerticalAnchor = (verticalAnchor === 'middle' || verticalAnchor === 'bottom' || verticalAnchor === 'top');\n        // Horizontal shift applied to all the lines but the first.\n        var x = opt.x;\n        if (x === undefined) x = this.attr('x') || 0;\n        // Annotations\n        var iai = opt.includeAnnotationIndices;\n        var annotations = opt.annotations;\n        if (annotations && !V.isArray(annotations)) annotations = [annotations];\n        // Shift all the <tspan> but first by one line (`1em`)\n        var defaultLineHeight = opt.lineHeight;\n        var autoLineHeight = (defaultLineHeight === 'auto');\n        var lineHeight = (autoLineHeight) ? '1.5em' : (defaultLineHeight || '1em');\n        // Clearing the element\n        this.empty();\n        this.attr({\n            // Preserve spaces. In other words, we do not want consecutive spaces to get collapsed to one.\n            'xml:space': 'preserve',\n            // An empty text gets rendered into the DOM in webkit-based browsers.\n            // In order to unify this behaviour across all browsers\n            // we rather hide the text element when it's empty.\n            'display': (content || displayEmpty) ? null : 'none'\n        });\n\n        // Set default font-size if none\n        var fontSize = parseFloat(this.attr('font-size'));\n        if (!fontSize) {\n            fontSize = 16;\n            if (namedVerticalAnchor || annotations) this.attr('font-size', fontSize);\n        }\n\n        var doc = document;\n        var containerNode;\n        if (textPath) {\n            // Now all the `<tspan>`s will be inside the `<textPath>`.\n            if (typeof textPath === 'string') textPath = { d: textPath };\n            containerNode = createTextPathNode(textPath, this);\n        } else {\n            containerNode = doc.createDocumentFragment();\n        }\n        var offset = 0;\n        var lines = content.split('\\n');\n        var linesMetrics = [];\n        var annotatedY;\n        for (var i = 0, lastI = lines.length - 1; i <= lastI; i++) {\n            var dy = lineHeight;\n            var lineClassName = 'v-line';\n            var lineNode = doc.createElementNS(ns.svg, 'tspan');\n            var line = lines[i];\n            var lineMetrics;\n            if (line) {\n                if (annotations) {\n                    // Find the *compacted* annotations for this line.\n                    var lineAnnotations = V.annotateString(line, annotations, {\n                        offset: -offset,\n                        includeAnnotationIndices: iai\n                    });\n                    lineMetrics = annotateTextLine(lineNode, lineAnnotations, {\n                        includeAnnotationIndices: iai,\n                        eol: (i !== lastI && eol),\n                        lineHeight: (autoLineHeight) ? null : lineHeight,\n                        baseSize: fontSize\n                    });\n                    // Get the line height based on the biggest font size in the annotations for this line.\n                    var iLineHeight = lineMetrics.lineHeight;\n                    if (iLineHeight && autoLineHeight && i !== 0) dy = iLineHeight;\n                    if (i === 0) annotatedY = lineMetrics.maxFontSize * 0.8;\n                } else {\n                    if (eol && i !== lastI) line += eol;\n                    lineNode.textContent = line;\n                }\n            } else {\n                // Make sure the textContent is never empty. If it is, add a dummy\n                // character and make it invisible, making the following lines correctly\n                // relatively positioned. `dy=1em` won't work with empty lines otherwise.\n                lineNode.textContent = '-';\n                lineClassName += ' v-empty-line';\n                // 'opacity' needs to be specified with fill, stroke. Opacity without specification\n                // is not applied in Firefox\n                var lineNodeStyle = lineNode.style;\n                lineNodeStyle.fillOpacity = 0;\n                lineNodeStyle.strokeOpacity = 0;\n                if (annotations) {\n                    // Empty line with annotations.\n                    lineMetrics = {};\n                    lineAnnotations = V.findAnnotationsAtIndex(annotations, offset);\n                    let lineFontSize = fontSize;\n                    // Check if any of the annotations overrides the font size.\n                    for (let j = lineAnnotations.length; j > 0; j--) {\n                        const attrs = lineAnnotations[j - 1].attrs;\n                        if (!attrs || !('font-size' in attrs)) continue;\n                        const fs = parseFloat(attrs['font-size']);\n                        if (isFinite(fs)) {\n                            lineFontSize = fs;\n                            break;\n                        }\n                    }\n                    if (autoLineHeight) {\n                        if (i > 0) {\n                            dy = lineFontSize * 1.2;\n                        } else {\n                            annotatedY = lineFontSize * 0.8;\n                        }\n                    }\n                    // The font size is important for the native selection box height.\n                    lineNode.setAttribute('font-size', lineFontSize);\n                    lineMetrics.maxFontSize = lineFontSize;\n                }\n            }\n            if (lineMetrics) linesMetrics.push(lineMetrics);\n            if (i > 0) lineNode.setAttribute('dy', dy);\n            // Firefox requires 'x' to be set on the first line when inside a text path\n            if (i > 0 || textPath) lineNode.setAttribute('x', x);\n            lineNode.className.baseVal = lineClassName;\n            containerNode.appendChild(lineNode);\n            offset += line.length + 1;      // + 1 = newline character.\n        }\n        // Y Alignment calculation\n        if (namedVerticalAnchor) {\n            if (annotations) {\n                dy = calculateDY(verticalAnchor, linesMetrics, fontSize, lineHeight);\n            } else if (verticalAnchor === 'top') {\n                // A shortcut for top alignment. It does not depend on font-size nor line-height\n                dy = '0.8em';\n            } else {\n                var rh; // remaining height\n                if (lastI > 0) {\n                    rh = parseFloat(lineHeight) || 1;\n                    rh *= lastI;\n                    if (!emRegex.test(lineHeight)) rh /= fontSize;\n                } else {\n                    // Single-line text\n                    rh = 0;\n                }\n                switch (verticalAnchor) {\n                    case 'middle':\n                        dy = (0.3 - (rh / 2)) + 'em';\n                        break;\n                    case 'bottom':\n                        dy = (-rh - 0.3) + 'em';\n                        break;\n                }\n            }\n        } else {\n            if (verticalAnchor === 0) {\n                dy = '0em';\n            } else if (verticalAnchor) {\n                dy = verticalAnchor;\n            } else {\n                // No vertical anchor is defined\n                dy = 0;\n                // Backwards compatibility - we change the `y` attribute instead of `dy`.\n                if (this.attr('y') === null) this.attr('y', annotatedY || '0.8em');\n            }\n        }\n        containerNode.firstChild.setAttribute('dy', dy);\n        // Appending lines to the element.\n        this.append(containerNode);\n        return this;\n    };\n\n    /**\n     * @public\n     * @param {string} name\n     * @returns {Vectorizer}\n     */\n    VPrototype.removeAttr = function(name) {\n\n        const trueName = attributeNames[name];\n\n        const { ns, local } = V.qualifyAttr(trueName);\n        const el = this.node;\n\n        if (ns) {\n            if (el.hasAttributeNS(ns, local)) {\n                el.removeAttributeNS(ns, local);\n            }\n        } else if (el.hasAttribute(trueName)) {\n            el.removeAttribute(trueName);\n        }\n        return this;\n    };\n\n    VPrototype.attr = function(name, value) {\n\n        if (V.isUndefined(name)) {\n\n            // Return all attributes.\n            var attributes = this.node.attributes;\n            var attrs = {};\n\n            for (var i = 0; i < attributes.length; i++) {\n                attrs[attributes[i].name] = attributes[i].value;\n            }\n\n            return attrs;\n        }\n\n        if (V.isString(name) && V.isUndefined(value)) {\n            return this.node.getAttribute(attributeNames[name]);\n        }\n\n        if (typeof name === 'object') {\n\n            for (var attrName in name) {\n                if (name.hasOwnProperty(attrName)) {\n                    this.setAttribute(attrName, name[attrName]);\n                }\n            }\n\n        } else {\n\n            this.setAttribute(name, value);\n        }\n\n        return this;\n    };\n\n    VPrototype.normalizePath = function() {\n\n        var tagName = this.tagName();\n        if (tagName === 'PATH') {\n            this.attr('d', V.normalizePathData(this.attr('d')));\n        }\n\n        return this;\n    };\n\n    VPrototype.remove = function() {\n\n        if (this.node.parentNode) {\n            this.node.parentNode.removeChild(this.node);\n        }\n\n        return this;\n    };\n\n    VPrototype.empty = function() {\n\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n\n        return this;\n    };\n\n    /**\n     * @private\n     * @param {object} attrs\n     * @returns {Vectorizer}\n     */\n    VPrototype.setAttributes = function(attrs) {\n\n        for (var key in attrs) {\n            if (attrs.hasOwnProperty(key)) {\n                this.setAttribute(key, attrs[key]);\n            }\n        }\n\n        return this;\n    };\n\n    VPrototype.append = function(els) {\n\n        if (!V.isArray(els)) {\n            els = [els];\n        }\n\n        for (var i = 0, len = els.length; i < len; i++) {\n            this.node.appendChild(V.toNode(els[i])); // lgtm [js/xss-through-dom]\n        }\n\n        return this;\n    };\n\n    VPrototype.prepend = function(els) {\n\n        var child = this.node.firstChild;\n        return child ? V(child).before(els) : this.append(els);\n    };\n\n    VPrototype.before = function(els) {\n\n        var node = this.node;\n        var parent = node.parentNode;\n\n        if (parent) {\n\n            if (!V.isArray(els)) {\n                els = [els];\n            }\n\n            for (var i = 0, len = els.length; i < len; i++) {\n                parent.insertBefore(V.toNode(els[i]), node);\n            }\n        }\n\n        return this;\n    };\n\n    VPrototype.appendTo = function(node) {\n        V.toNode(node).appendChild(this.node); // lgtm [js/xss-through-dom]\n        return this;\n    };\n\n    VPrototype.svg = function() {\n\n        return this.node instanceof window.SVGSVGElement ? this : V(this.node.ownerSVGElement);\n    };\n\n    VPrototype.tagName = function() {\n\n        return this.node.tagName.toUpperCase();\n    };\n\n    VPrototype.defs = function() {\n        var context = this.svg() || this;\n        var defsNode = context.node.getElementsByTagName('defs')[0];\n        if (defsNode) return V(defsNode);\n        return V('defs').appendTo(context);\n    };\n\n    VPrototype.clone = function() {\n\n        var clone = V(this.node.cloneNode(true/* deep */));\n        // Note that clone inherits also ID. Therefore, we need to change it here.\n        clone.node.id = V.uniqueId();\n        return clone;\n    };\n\n    VPrototype.findOne = function(selector) {\n\n        var found = this.node.querySelector(selector);\n        return found ? V(found) : undefined;\n    };\n\n    VPrototype.find = function(selector) {\n\n        var vels = [];\n        var nodes = this.node.querySelectorAll(selector);\n\n        if (nodes) {\n\n            // Map DOM elements to `V`s.\n            for (var i = 0; i < nodes.length; i++) {\n                vels.push(V(nodes[i]));\n            }\n        }\n\n        return vels;\n    };\n\n    // Returns an array of V elements made from children of this.node.\n    VPrototype.children = function() {\n\n        var children = this.node.childNodes;\n\n        var outputArray = [];\n        for (var i = 0; i < children.length; i++) {\n            var currentChild = children[i];\n            if (currentChild.nodeType === 1) {\n                outputArray.push(V(children[i]));\n            }\n        }\n        return outputArray;\n    };\n\n    // Returns the V element from parentNode of this.node.\n    VPrototype.parent = function() {\n        return V(this.node.parentNode) || null;\n    },\n\n    // Find an index of an element inside its container.\n    VPrototype.index = function() {\n\n        var index = 0;\n        var node = this.node.previousSibling;\n\n        while (node) {\n            // nodeType 1 for ELEMENT_NODE\n            if (node.nodeType === 1) index++;\n            node = node.previousSibling;\n        }\n\n        return index;\n    };\n\n    VPrototype.findParentByClass = function(className, terminator) {\n\n        var ownerSVGElement = this.node.ownerSVGElement;\n        var node = this.node.parentNode;\n\n        while (node && node !== terminator && node !== ownerSVGElement) {\n\n            var vel = V(node);\n            if (vel.hasClass(className)) {\n                return vel;\n            }\n\n            node = node.parentNode;\n        }\n\n        return null;\n    };\n\n    // https://jsperf.com/get-common-parent\n    VPrototype.contains = function(el) {\n\n        var a = this.node;\n        var b = V.toNode(el);\n        var bup = b && b.parentNode;\n\n        return (a === bup) || !!(bup && bup.nodeType === 1 && (a.compareDocumentPosition(bup) & 16));\n    };\n\n    // Convert global point into the coordinate space of this element.\n    VPrototype.toLocalPoint = function(x, y) {\n\n        var svg = this.svg().node;\n\n        var p = svg.createSVGPoint();\n        p.x = x;\n        p.y = y;\n\n        try {\n\n            var globalPoint = p.matrixTransform(svg.getScreenCTM().inverse());\n            var globalToLocalMatrix = this.getTransformToElement(svg).inverse();\n\n        } catch (e) {\n            // IE9 throws an exception in odd cases. (`Unexpected call to method or property access`)\n            // We have to make do with the original coordianates.\n            return p;\n        }\n\n        return globalPoint.matrixTransform(globalToLocalMatrix);\n    };\n\n    VPrototype.translateCenterToPoint = function(p) {\n\n        var bbox = this.getBBox({ target: this.svg() });\n        var center = bbox.center();\n\n        this.translate(p.x - center.x, p.y - center.y);\n        return this;\n    };\n\n    // Efficiently auto-orient an element. This basically implements the orient=auto attribute\n    // of markers. The easiest way of understanding on what this does is to imagine the element is an\n    // arrowhead. Calling this method on the arrowhead makes it point to the `position` point while\n    // being auto-oriented (properly rotated) towards the `reference` point.\n    // `target` is the element relative to which the transformations are applied. Usually a viewport.\n    VPrototype.translateAndAutoOrient = function(position, reference, target) {\n\n        position = new g.Point(position);\n        reference =  new g.Point(reference);\n        target || (target = this.svg());\n\n        // Clean-up previously set transformations except the scale. If we didn't clean up the\n        // previous transformations then they'd add up with the old ones. Scale is an exception as\n        // it doesn't add up, consider: `this.scale(2).scale(2).scale(2)`. The result is that the\n        // element is scaled by the factor 2, not 8.\n        var scale = this.scale();\n        this.attr('transform', '');\n        var bbox = this.getBBox({ target: target }).scale(scale.sx, scale.sy);\n\n        // 1. Translate to origin.\n        var translateToOrigin = V.createSVGTransform();\n        translateToOrigin.setTranslate(-bbox.x - bbox.width / 2, -bbox.y - bbox.height / 2);\n\n        // 2. Rotate around origin.\n        var rotateAroundOrigin = V.createSVGTransform();\n        var angle = position.angleBetween(reference, position.clone().offset(1, 0));\n        if (angle) rotateAroundOrigin.setRotate(angle, 0, 0);\n\n        // 3. Translate to the `position` + the offset (half my width) towards the `reference` point.\n        var translateFromOrigin = V.createSVGTransform();\n        var finalPosition = position.clone().move(reference, bbox.width / 2);\n        translateFromOrigin.setTranslate(2 * position.x - finalPosition.x, 2 * position.y - finalPosition.y);\n\n        // 4. Get the current transformation matrix of this node\n        var ctm = this.getTransformToElement(target);\n\n        // 5. Apply transformations and the scale\n        var transform = V.createSVGTransform();\n        transform.setMatrix(\n            translateFromOrigin.matrix.multiply(\n                rotateAroundOrigin.matrix.multiply(\n                    translateToOrigin.matrix.multiply(\n                        ctm.scale(scale.sx, scale.sy)))));\n\n        this.attr('transform', V.matrixToTransformString(transform.matrix));\n\n        return this;\n    };\n\n    VPrototype.animateAlongPath = function(attrs, path) {\n\n        path = V.toNode(path);\n\n        var id = V.ensureId(path);\n        var animateMotion = V('animateMotion', attrs);\n        var mpath = V('mpath', { 'xlink:href': '#' + id });\n\n        animateMotion.append(mpath);\n\n        this.append(animateMotion);\n        try {\n            animateMotion.node.beginElement();\n        } catch (e) {\n            // Fallback for IE 9.\n            // Run the animation programmatically if FakeSmile (`http://leunen.me/fakesmile/`) present\n            if (document.documentElement.getAttribute('smiling') === 'fake') {\n                /* global getTargets:true, Animator:true, animators:true id2anim:true */\n                // Register the animation. (See `https://answers.launchpad.net/smil/+question/203333`)\n                var animation = animateMotion.node;\n                animation.animators = [];\n\n                var animationID = animation.getAttribute('id');\n                if (animationID) id2anim[animationID] = animation;\n\n                var targets = getTargets(animation);\n                for (var i = 0, len = targets.length; i < len; i++) {\n                    var target = targets[i];\n                    var animator = new Animator(animation, target, i);\n                    animators.push(animator);\n                    animation.animators[i] = animator;\n                    animator.register();\n                }\n            }\n        }\n        return this;\n    };\n\n\n    // Split a string into an array of tokens.\n    // https://infra.spec.whatwg.org/#ascii-whitespace\n    const noHTMLWhitespaceRegex = /[^\\x20\\t\\r\\n\\f]+/g;\n    function getTokenList(str) {\n        if (!V.isString(str)) return [];\n        return str.trim().match(noHTMLWhitespaceRegex) || [];\n    }\n\n    VPrototype.hasClass = function(className) {\n        if (!V.isString(className)) return false;\n        return this.node.classList.contains(className.trim());\n    };\n\n    VPrototype.addClass = function(className) {\n        this.node.classList.add(...getTokenList(className));\n        return this;\n    };\n\n    VPrototype.removeClass = function(className) {\n        this.node.classList.remove(...getTokenList(className));\n        return this;\n    };\n\n    VPrototype.toggleClass = function(className, toAdd) {\n        const tokens = getTokenList(className);\n        for (let i = 0; i < tokens.length; i++) {\n            this.node.classList.toggle(tokens[i], toAdd);\n        }\n        return this;\n    };\n\n    // Interpolate path by discrete points. The precision of the sampling\n    // is controlled by `interval`. In other words, `sample()` will generate\n    // a point on the path starting at the beginning of the path going to the end\n    // every `interval` pixels.\n    // The sampler can be very useful for e.g. finding intersection between two\n    // paths (finding the two closest points from two samples).\n    VPrototype.sample = function(interval) {\n\n        interval = interval || 1;\n        var node = this.node;\n        var length = node.getTotalLength();\n        var samples = [];\n        var distance = 0;\n        var sample;\n        while (distance < length) {\n            sample = node.getPointAtLength(distance);\n            samples.push({ x: sample.x, y: sample.y, distance: distance });\n            distance += interval;\n        }\n        return samples;\n    };\n\n    VPrototype.convertToPath = function() {\n\n        var path = V('path');\n        path.attr(this.attr());\n        var d = this.convertToPathData();\n        if (d) {\n            path.attr('d', d);\n        }\n        return path;\n    };\n\n    VPrototype.convertToPathData = function() {\n\n        var tagName = this.tagName();\n\n        switch (tagName) {\n            case 'PATH':\n                return this.attr('d');\n            case 'LINE':\n                return V.convertLineToPathData(this.node);\n            case 'POLYGON':\n                return V.convertPolygonToPathData(this.node);\n            case 'POLYLINE':\n                return V.convertPolylineToPathData(this.node);\n            case 'ELLIPSE':\n                return V.convertEllipseToPathData(this.node);\n            case 'CIRCLE':\n                return V.convertCircleToPathData(this.node);\n            case 'RECT':\n                return V.convertRectToPathData(this.node);\n        }\n\n        throw new Error(tagName + ' cannot be converted to PATH.');\n    };\n\n    V.prototype.toGeometryShape = function() {\n        var x, y, width, height, cx, cy, r, rx, ry, points, d, x1, x2, y1, y2;\n        switch (this.tagName()) {\n\n            case 'RECT':\n                x = parseFloat(this.attr('x')) || 0;\n                y = parseFloat(this.attr('y')) || 0;\n                width = parseFloat(this.attr('width')) || 0;\n                height = parseFloat(this.attr('height')) || 0;\n                return new g.Rect(x, y, width, height);\n\n            case 'CIRCLE':\n                cx = parseFloat(this.attr('cx')) || 0;\n                cy = parseFloat(this.attr('cy')) || 0;\n                r = parseFloat(this.attr('r')) || 0;\n                return new g.Ellipse({ x: cx, y: cy }, r, r);\n\n            case 'ELLIPSE':\n                cx = parseFloat(this.attr('cx')) || 0;\n                cy = parseFloat(this.attr('cy')) || 0;\n                rx = parseFloat(this.attr('rx')) || 0;\n                ry = parseFloat(this.attr('ry')) || 0;\n                return new g.Ellipse({ x: cx, y: cy }, rx, ry);\n\n            case 'POLYLINE':\n                points = V.getPointsFromSvgNode(this);\n                return new g.Polyline(points);\n\n            case 'POLYGON':\n                points = V.getPointsFromSvgNode(this);\n                if (points.length > 1) points.push(points[0]);\n                return new g.Polyline(points);\n\n            case 'PATH':\n                d = this.attr('d');\n                if (!g.Path.isDataSupported(d)) d = V.normalizePathData(d);\n                return new g.Path(d);\n\n            case 'LINE':\n                x1 = parseFloat(this.attr('x1')) || 0;\n                y1 = parseFloat(this.attr('y1')) || 0;\n                x2 = parseFloat(this.attr('x2')) || 0;\n                y2 = parseFloat(this.attr('y2')) || 0;\n                return new g.Line({ x: x1, y: y1 }, { x: x2, y: y2 });\n        }\n\n        // Anything else is a rectangle\n        return this.getBBox();\n    };\n\n    // Find the intersection of a line starting in the center\n    // of the SVG `node` ending in the point `ref`.\n    // `target` is an SVG element to which `node`s transformations are relative to.\n    // Note that `ref` point must be in the coordinate system of the `target` for this function to work properly.\n    // Returns a point in the `target` coordinate system (the same system as `ref` is in) if\n    // an intersection is found. Returns `undefined` otherwise.\n    VPrototype.findIntersection = function(ref, target) {\n\n        var svg = this.svg().node;\n        target = target || svg;\n        var bbox = this.getBBox({ target: target });\n        var center = bbox.center();\n\n        if (!bbox.intersectionWithLineFromCenterToPoint(ref)) return undefined;\n\n        var spot;\n        var tagName = this.tagName();\n\n        // Little speed up optimization for `<rect>` element. We do not do conversion\n        // to path element and sampling but directly calculate the intersection through\n        // a transformed geometrical rectangle.\n        if (tagName === 'RECT') {\n\n            var gRect = new g.Rect(\n                parseFloat(this.attr('x') || 0),\n                parseFloat(this.attr('y') || 0),\n                parseFloat(this.attr('width')),\n                parseFloat(this.attr('height'))\n            );\n            // Get the rect transformation matrix with regards to the SVG document.\n            var rectMatrix = this.getTransformToElement(target);\n            // Decompose the matrix to find the rotation angle.\n            var rectMatrixComponents = V.decomposeMatrix(rectMatrix);\n            // Now we want to rotate the rectangle back so that we\n            // can use `intersectionWithLineFromCenterToPoint()` passing the angle as the second argument.\n            var resetRotation = svg.createSVGTransform();\n            resetRotation.setRotate(-rectMatrixComponents.rotation, center.x, center.y);\n            var rect = V.transformRect(gRect, resetRotation.matrix.multiply(rectMatrix));\n            spot = (new g.Rect(rect)).intersectionWithLineFromCenterToPoint(ref, rectMatrixComponents.rotation);\n\n        } else if (tagName === 'PATH' || tagName === 'POLYGON' || tagName === 'POLYLINE' || tagName === 'CIRCLE' || tagName === 'ELLIPSE') {\n\n            var pathNode = (tagName === 'PATH') ? this : this.convertToPath();\n            var samples = pathNode.sample();\n            var minDistance = Infinity;\n            var closestSamples = [];\n\n            var i, sample, gp, centerDistance, refDistance, distance;\n\n            for (i = 0; i < samples.length; i++) {\n\n                sample = samples[i];\n                // Convert the sample point in the local coordinate system to the global coordinate system.\n                gp = V.createSVGPoint(sample.x, sample.y);\n                gp = gp.matrixTransform(this.getTransformToElement(target));\n                sample = new g.Point(gp);\n                centerDistance = sample.distance(center);\n                // Penalize a higher distance to the reference point by 10%.\n                // This gives better results. This is due to\n                // inaccuracies introduced by rounding errors and getPointAtLength() returns.\n                refDistance = sample.distance(ref) * 1.1;\n                distance = centerDistance + refDistance;\n\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestSamples = [{ sample: sample, refDistance: refDistance }];\n                } else if (distance < minDistance + 1) {\n                    closestSamples.push({ sample: sample, refDistance: refDistance });\n                }\n            }\n\n            closestSamples.sort(function(a, b) {\n                return a.refDistance - b.refDistance;\n            });\n\n            if (closestSamples[0]) {\n                spot = closestSamples[0].sample;\n            }\n        }\n\n        return spot;\n    };\n\n    /**\n     * @private\n     * @param {string} name\n     * @param {string} value\n     * @returns {Vectorizer}\n     */\n    VPrototype.setAttribute = function(name, value) {\n\n        const el = this.node;\n\n        if (value === null) {\n            this.removeAttr(name);\n            return this;\n        }\n\n        const trueName = attributeNames[name];\n\n        const { ns } = V.qualifyAttr(trueName);\n        if (ns) {\n            // Attribute names can be namespaced. E.g. `image` elements\n            // have a `xlink:href` attribute to set the source of the image.\n            el.setAttributeNS(ns, trueName, value);\n        } else if (trueName === 'id') {\n            el.id = value;\n        } else {\n            el.setAttribute(trueName, value);\n        }\n\n        return this;\n    };\n\n    // Create an SVG document element.\n    // If `content` is passed, it will be used as the SVG content of the `<svg>` root element.\n    V.createSvgDocument = function(content) {\n\n        if (content) {\n            const XMLString = `<svg xmlns=\"${ns.svg}\" xmlns:xlink=\"${ns.xlink}\" version=\"${SVGVersion}\">${content}</svg>`;\n            const { documentElement } = V.parseXML(XMLString, { async: false });\n            return documentElement;\n        }\n\n        const svg = document.createElementNS(ns.svg, 'svg');\n        svg.setAttributeNS(ns.xmlns, 'xmlns:xlink', ns.xlink);\n        svg.setAttribute('version', SVGVersion);\n        return svg;\n    };\n\n    V.createSVGStyle = function(stylesheet) {\n        const { node } = V('style', { type: 'text/css' }, [\n            V.createCDATASection(stylesheet)\n        ]);\n        return node;\n    },\n\n    V.createCDATASection = function(data = '') {\n        const xml = document.implementation.createDocument(null, 'xml', null);\n        return xml.createCDATASection(data);\n    };\n\n    V.idCounter = 0;\n\n    // A function returning a unique identifier for this client session with every call.\n    V.uniqueId = function() {\n\n        return 'v-' + (++V.idCounter);\n    };\n\n    V.toNode = function(el) {\n\n        return V.isV(el) ? el.node : (el.nodeName && el || el[0]);\n    };\n\n    V.ensureId = function(node) {\n\n        node = V.toNode(node);\n        return node.id || (node.id = V.uniqueId());\n    };\n\n    // Replace all spaces with the Unicode No-break space (http://www.fileformat.info/info/unicode/char/a0/index.htm).\n    // IE would otherwise collapse all spaces into one. This is used in the text() method but it is\n    // also exposed so that the programmer can use it in case he needs to. This is useful e.g. in tests\n    // when you want to compare the actual DOM text content without having to add the unicode character in\n    // the place of all spaces.\n    V.sanitizeText = function(text) {\n\n        return (text || '').replace(/ /g, '\\u00A0');\n    };\n\n    V.isUndefined = function(value) {\n\n        return typeof value === 'undefined';\n    };\n\n    V.isString = function(value) {\n\n        return typeof value === 'string';\n    };\n\n    V.isObject = function(value) {\n\n        return value && (typeof value === 'object');\n    };\n\n    V.isArray = Array.isArray;\n\n    V.parseXML = function(data, opt) {\n\n        opt = opt || {};\n\n        var xml;\n\n        try {\n            var parser = new DOMParser();\n\n            if (!V.isUndefined(opt.async)) {\n                parser.async = opt.async;\n            }\n\n            xml = parser.parseFromString(data, 'text/xml');\n        } catch (error) {\n            xml = undefined;\n        }\n\n        if (!xml || xml.getElementsByTagName('parsererror').length) {\n            throw new Error('Invalid XML: ' + data);\n        }\n\n        return xml;\n    };\n\n    // Create an empty object which does not inherit any properties from `Object.prototype`.\n    // This is useful when we want to use an object as a dictionary without having to\n    // worry about inherited properties such as `toString`, `valueOf` etc.\n    const _attributeNames = Object.create(null);\n\n    // List of attributes for which not to split camel case words.\n    // It contains known SVG attribute names and may be extended with user-defined attribute names.\n    [\n        'baseFrequency',\n        'baseProfile',\n        'clipPathUnits',\n        'contentScriptType',\n        'contentStyleType',\n        'diffuseConstant',\n        'edgeMode',\n        'externalResourcesRequired',\n        'filterRes', // deprecated\n        'filterUnits',\n        'gradientTransform',\n        'gradientUnits',\n        'kernelMatrix',\n        'kernelUnitLength',\n        'keyPoints',\n        'lengthAdjust',\n        'limitingConeAngle',\n        'markerHeight',\n        'markerUnits',\n        'markerWidth',\n        'maskContentUnits',\n        'maskUnits',\n        'numOctaves',\n        'pathLength',\n        'patternContentUnits',\n        'patternTransform',\n        'patternUnits',\n        'pointsAtX',\n        'pointsAtY',\n        'pointsAtZ',\n        'preserveAlpha',\n        'preserveAspectRatio',\n        'primitiveUnits',\n        'refX',\n        'refY',\n        'requiredExtensions',\n        'requiredFeatures',\n        'specularConstant',\n        'specularExponent',\n        'spreadMethod',\n        'startOffset',\n        'stdDeviation',\n        'stitchTiles',\n        'surfaceScale',\n        'systemLanguage',\n        'tableValues',\n        'targetX',\n        'targetY',\n        'textLength',\n        'viewBox',\n        'viewTarget', // deprecated\n        'xChannelSelector',\n        'yChannelSelector',\n        'zoomAndPan' // deprecated\n    ].forEach((name) => _attributeNames[name] = name);\n\n    const attributeNames = new Proxy(_attributeNames, {\n        get(cache, name) {\n            // The cache is a dictionary of attribute names. See `_attributeNames` above.\n            // If the attribute name is not in the cache, it means that it is not\n            // a camel-case attribute name. In that case, we need to convert\n            // the attribute name to dash-separated words.\n            if (!V.supportCamelCaseAttributes) return name;\n            if (name in cache) {\n                return cache[name];\n            }\n            // Convert camel case to dash-separated words.\n            return (cache[name] = name.replace(/[A-Z]/g, '-$&').toLowerCase());\n        }\n    });\n\n    // Note: The `attributeNames` and `supportCamelCaseAttributes` properties are not enumerable\n    // in this version to avoid breaking changes. They will be made enumerable in the next major version.\n\n    // Dictionary of attribute names\n    Object.defineProperty(V, 'attributeNames', {\n        value: attributeNames,\n        writable: false,\n    });\n\n    // Should camel case attributes be supported?\n    Object.defineProperty(V, 'supportCamelCaseAttributes', {\n        value: false,\n        writable: true,\n    });\n\n    /**\n     * @param {string} name\n     * @returns {{ns: string|null, local: string}} namespace and attribute name\n     */\n    V.qualifyAttr = function(name) {\n\n        if (name.indexOf(':') !== -1) {\n            var combinedKey = name.split(':');\n            return {\n                ns: ns[combinedKey[0]],\n                local: combinedKey[1]\n            };\n        }\n\n        return {\n            ns: null,\n            local: name\n        };\n    };\n\n    // Note: This regex allows multiple commas as separator which is incorrect in SVG\n    // This regex is used by `split()`, so it doesn't need to use /g\n    V.transformSeparatorRegex = /[ ,]+/;\n    // Note: All following regexes are more restrictive than SVG specification\n    // ReDoS mitigation: Use an anchor at the beginning of the match\n    // ReDoS mitigation: Avoid backtracking (uses `[^()]+` instead of `.*?`)\n    // ReDoS mitigation: Don't match initial `(` inside repeated part\n    // The following regex needs to use /g (= cannot use capturing groups)\n    V.transformRegex = /\\b\\w+\\([^()]+\\)/g;\n    // The following regexes need to use capturing groups (= cannot use /g)\n    V.transformFunctionRegex = /\\b(\\w+)\\(([^()]+)\\)/;\n    V.transformTranslateRegex = /\\btranslate\\(([^()]+)\\)/;\n    V.transformRotateRegex = /\\brotate\\(([^()]+)\\)/;\n    V.transformScaleRegex = /\\bscale\\(([^()]+)\\)/;\n\n    V.transformStringToMatrix = function(transform) {\n\n        // Initialize result matrix as identity matrix\n        let transformationMatrix = V.createSVGMatrix();\n\n        // Note: Multiple transform functions are allowed in `transform` string\n        // `match()` returns `null` if none found\n        const transformMatches = transform && transform.match(V.transformRegex);\n        if (!transformMatches) {\n            // Return identity matrix\n            return transformationMatrix;\n        }\n\n        const numMatches = transformMatches.length;\n        for (let i = 0; i < numMatches; i++) {\n\n            const transformMatch = transformMatches[i];\n            // Use same regex as above, but with capturing groups\n            // `match()` returns values of capturing groups as `[1]`, `[2]`\n            const transformFunctionMatch = transformMatch.match(V.transformFunctionRegex);\n            if (transformFunctionMatch) {\n\n                let sx, sy, tx, ty, angle;\n                let ctm = V.createSVGMatrix();\n                const transformFunction = transformFunctionMatch[1].toLowerCase();\n                const args = transformFunctionMatch[2].split(V.transformSeparatorRegex);\n                switch (transformFunction) {\n\n                    case 'scale':\n                        sx = parseFloat(args[0]);\n                        sy = (args[1] === undefined) ? sx : parseFloat(args[1]);\n                        ctm = ctm.scaleNonUniform(sx, sy);\n                        break;\n\n                    case 'translate':\n                        tx = parseFloat(args[0]);\n                        ty = parseFloat(args[1]);\n                        ctm = ctm.translate(tx, ty);\n                        break;\n\n                    case 'rotate':\n                        angle = parseFloat(args[0]);\n                        tx = parseFloat(args[1]) || 0;\n                        ty = parseFloat(args[2]) || 0;\n                        if (tx !== 0 || ty !== 0) {\n                            ctm = ctm.translate(tx, ty).rotate(angle).translate(-tx, -ty);\n                        } else {\n                            ctm = ctm.rotate(angle);\n                        }\n                        break;\n\n                    case 'skewx':\n                        angle = parseFloat(args[0]);\n                        ctm = ctm.skewX(angle);\n                        break;\n\n                    case 'skewy':\n                        angle = parseFloat(args[0]);\n                        ctm = ctm.skewY(angle);\n                        break;\n\n                    case 'matrix':\n                        ctm.a = parseFloat(args[0]);\n                        ctm.b = parseFloat(args[1]);\n                        ctm.c = parseFloat(args[2]);\n                        ctm.d = parseFloat(args[3]);\n                        ctm.e = parseFloat(args[4]);\n                        ctm.f = parseFloat(args[5]);\n                        break;\n\n                    default:\n                        continue;\n                }\n\n                // Multiply current transformation into result matrix\n                transformationMatrix = transformationMatrix.multiply(ctm);\n            }\n\n        }\n        return transformationMatrix;\n    };\n\n    V.matrixToTransformString = function(matrix) {\n        matrix || (matrix = true);\n\n        return 'matrix(' +\n            (matrix.a !== undefined ? matrix.a : 1) + ',' +\n            (matrix.b !== undefined ? matrix.b : 0) + ',' +\n            (matrix.c !== undefined ? matrix.c : 0) + ',' +\n            (matrix.d !== undefined ? matrix.d : 1) + ',' +\n            (matrix.e !== undefined ? matrix.e : 0) + ',' +\n            (matrix.f !== undefined ? matrix.f : 0) +\n            ')';\n    };\n\n    V.parseTransformString = function(transform) {\n\n        var translate, rotate, scale;\n\n        if (transform) {\n\n            var separator = V.transformSeparatorRegex;\n\n            // Special handling for `transform` with one or more matrix functions\n            if (transform.trim().indexOf('matrix') >= 0) {\n\n                // Convert EVERYTHING in `transform` string to a matrix\n                // Will combine ALL matrixes * ALL translates * ALL scales * ALL rotates\n                // Note: In non-matrix case, we only take first one of each (if any)\n                var matrix = V.transformStringToMatrix(transform);\n                var decomposedMatrix = V.decomposeMatrix(matrix);\n\n                // Extract `translate`, `scale`, `rotate` from matrix\n                translate = [decomposedMatrix.translateX, decomposedMatrix.translateY];\n                scale = [decomposedMatrix.scaleX, decomposedMatrix.scaleY];\n                rotate = [decomposedMatrix.rotation];\n\n                // Rewrite `transform` string in `translate scale rotate` format\n                var transformations = [];\n                if (translate[0] !== 0 || translate[1] !== 0) {\n                    transformations.push('translate(' + translate + ')');\n                }\n                if (scale[0] !== 1 || scale[1] !== 1) {\n                    transformations.push('scale(' + scale + ')');\n                }\n                if (rotate[0] !== 0) {\n                    transformations.push('rotate(' + rotate + ')');\n                }\n                transform = transformations.join(' ');\n\n            } else {\n\n                // Extract `translate`, `rotate`, `scale` functions from `transform` string\n                // Note: We only detect the first match of each (if any)\n                // `match()` returns value of capturing group as `[1]`\n                const translateMatch = transform.match(V.transformTranslateRegex);\n                if (translateMatch) {\n                    translate = translateMatch[1].split(separator);\n                }\n                const rotateMatch = transform.match(V.transformRotateRegex);\n                if (rotateMatch) {\n                    rotate = rotateMatch[1].split(separator);\n                }\n                const scaleMatch = transform.match(V.transformScaleRegex);\n                if (scaleMatch) {\n                    scale = scaleMatch[1].split(separator);\n                }\n            }\n        }\n\n        var sx = (scale && scale[0]) ? parseFloat(scale[0]) : 1;\n\n        return {\n            value: transform,\n            translate: {\n                tx: (translate && translate[0]) ? parseInt(translate[0], 10) : 0,\n                ty: (translate && translate[1]) ? parseInt(translate[1], 10) : 0\n            },\n            rotate: {\n                angle: (rotate && rotate[0]) ? parseInt(rotate[0], 10) : 0,\n                cx: (rotate && rotate[1]) ? parseInt(rotate[1], 10) : undefined,\n                cy: (rotate && rotate[2]) ? parseInt(rotate[2], 10) : undefined\n            },\n            scale: {\n                sx: sx,\n                sy: (scale && scale[1]) ? parseFloat(scale[1]) : sx\n            }\n        };\n    };\n\n    V.deltaTransformPoint = function(matrix, point) {\n\n        var dx = point.x * matrix.a + point.y * matrix.c + 0;\n        var dy = point.x * matrix.b + point.y * matrix.d + 0;\n        return { x: dx, y: dy };\n    };\n\n    V.decomposeMatrix = function(matrix) {\n\n        // @see https://gist.github.com/2052247\n\n        // calculate delta transform point\n        var px = V.deltaTransformPoint(matrix, { x: 0, y: 1 });\n        var py = V.deltaTransformPoint(matrix, { x: 1, y: 0 });\n\n        // calculate skew\n        var skewX = ((180 / PI) * atan2(px.y, px.x) - 90);\n        var skewY = ((180 / PI) * atan2(py.y, py.x));\n\n        return {\n\n            translateX: matrix.e,\n            translateY: matrix.f,\n            scaleX: sqrt(matrix.a * matrix.a + matrix.b * matrix.b),\n            scaleY: sqrt(matrix.c * matrix.c + matrix.d * matrix.d),\n            skewX: skewX,\n            skewY: skewY,\n            rotation: skewX // rotation is the same as skew x\n        };\n    };\n\n    // Return the `scale` transformation from the following equation:\n    // `translate(tx, ty) . rotate(angle) . scale(sx, sy) === matrix(a,b,c,d,e,f)`\n    V.matrixToScale = function(matrix) {\n\n        var a, b, c, d;\n        if (matrix) {\n            a = V.isUndefined(matrix.a) ? 1 : matrix.a;\n            d = V.isUndefined(matrix.d) ? 1 : matrix.d;\n            b = matrix.b;\n            c = matrix.c;\n        } else {\n            a = d = 1;\n        }\n        return {\n            sx: b ? sqrt(a * a + b * b) : a,\n            sy: c ? sqrt(c * c + d * d) : d\n        };\n    };\n\n    // Return the `rotate` transformation from the following equation:\n    // `translate(tx, ty) . rotate(angle) . scale(sx, sy) === matrix(a,b,c,d,e,f)`\n    V.matrixToRotate = function(matrix) {\n\n        var p = { x: 0, y: 1 };\n        if (matrix) {\n            p = V.deltaTransformPoint(matrix, p);\n        }\n\n        return {\n            angle: g.normalizeAngle(g.toDeg(atan2(p.y, p.x)) - 90)\n        };\n    };\n\n    // Return the `translate` transformation from the following equation:\n    // `translate(tx, ty) . rotate(angle) . scale(sx, sy) === matrix(a,b,c,d,e,f)`\n    V.matrixToTranslate = function(matrix) {\n\n        return {\n            tx: (matrix && matrix.e) || 0,\n            ty: (matrix && matrix.f) || 0\n        };\n    };\n\n    V.isV = function(object) {\n\n        return object instanceof V;\n    };\n\n    // For backwards compatibility:\n    V.isVElement = V.isV;\n\n    // Element implements `getBBox()`, `getCTM()` and `getScreenCTM()`\n    // https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement\n    V.isSVGGraphicsElement = function(node) {\n        if (!node) return false;\n        node = V.toNode(node);\n        // IE/Edge does not implement SVGGraphicsElement interface, thus check for `getScreenCTM` below\n        return node instanceof SVGElement && typeof node.getScreenCTM === 'function';\n    };\n\n    var svgDocument = V('svg').node;\n\n    V.createSVGMatrix = function(matrix) {\n\n        var svgMatrix = svgDocument.createSVGMatrix();\n        for (var component in matrix) {\n            svgMatrix[component] = matrix[component];\n        }\n\n        return svgMatrix;\n    };\n\n    V.createSVGTransform = function(matrix) {\n\n        if (!V.isUndefined(matrix)) {\n\n            if (!(matrix instanceof SVGMatrix)) {\n                matrix = V.createSVGMatrix(matrix);\n            }\n\n            return svgDocument.createSVGTransformFromMatrix(matrix);\n        }\n\n        return svgDocument.createSVGTransform();\n    };\n\n    V.createSVGPoint = function(x, y) {\n\n        var p = svgDocument.createSVGPoint();\n        p.x = x;\n        p.y = y;\n        return p;\n    };\n\n    V.transformRect = function(r, matrix) {\n\n        var p = svgDocument.createSVGPoint();\n\n        p.x = r.x;\n        p.y = r.y;\n        var corner1 = p.matrixTransform(matrix);\n\n        p.x = r.x + r.width;\n        p.y = r.y;\n        var corner2 = p.matrixTransform(matrix);\n\n        p.x = r.x + r.width;\n        p.y = r.y + r.height;\n        var corner3 = p.matrixTransform(matrix);\n\n        p.x = r.x;\n        p.y = r.y + r.height;\n        var corner4 = p.matrixTransform(matrix);\n\n        var minX = min(corner1.x, corner2.x, corner3.x, corner4.x);\n        var maxX = max(corner1.x, corner2.x, corner3.x, corner4.x);\n        var minY = min(corner1.y, corner2.y, corner3.y, corner4.y);\n        var maxY = max(corner1.y, corner2.y, corner3.y, corner4.y);\n\n        return new g.Rect(minX, minY, maxX - minX, maxY - minY);\n    };\n\n    V.transformPoint = function(p, matrix) {\n\n        return new g.Point(V.createSVGPoint(p.x, p.y).matrixTransform(matrix));\n    };\n\n    V.transformLine = function(l, matrix) {\n\n        return new g.Line(\n            V.transformPoint(l.start, matrix),\n            V.transformPoint(l.end, matrix)\n        );\n    };\n\n    V.transformPolyline = function(p, matrix) {\n\n        var inPoints = (p instanceof g.Polyline) ? p.points : p;\n        if (!V.isArray(inPoints)) inPoints = [];\n        var outPoints = [];\n        for (var i = 0, n = inPoints.length; i < n; i++) outPoints[i] = V.transformPoint(inPoints[i], matrix);\n        return new g.Polyline(outPoints);\n    };\n\n    // Convert a style represented as string (e.g. `'fill=\"blue\"; stroke=\"red\"'`) to\n    // an object (`{ fill: 'blue', stroke: 'red' }`).\n    V.styleToObject = function(styleString) {\n        var ret = {};\n        var styles = styleString.split(';');\n        for (var i = 0; i < styles.length; i++) {\n            var style = styles[i];\n            var pair = style.split('=');\n            ret[pair[0].trim()] = pair[1].trim();\n        }\n        return ret;\n    };\n\n    // Inspired by d3.js https://github.com/mbostock/d3/blob/master/src/svg/arc.js\n    V.createSlicePathData = function(innerRadius, outerRadius, startAngle, endAngle) {\n\n        var svgArcMax = 2 * PI - 1e-6;\n        var r0 = innerRadius;\n        var r1 = outerRadius;\n        var a0 = startAngle;\n        var a1 = endAngle;\n        var da = (a1 < a0 && (da = a0, a0 = a1, a1 = da), a1 - a0);\n        var df = da < PI ? '0' : '1';\n        var c0 = cos(a0);\n        var s0 = sin(a0);\n        var c1 = cos(a1);\n        var s1 = sin(a1);\n\n        return (da >= svgArcMax)\n            ? (r0\n                ? 'M0,' + r1\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + (-r1)\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + r1\n                + 'M0,' + r0\n                + 'A' + r0 + ',' + r0 + ' 0 1,0 0,' + (-r0)\n                + 'A' + r0 + ',' + r0 + ' 0 1,0 0,' + r0\n                + 'Z'\n                : 'M0,' + r1\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + (-r1)\n                + 'A' + r1 + ',' + r1 + ' 0 1,1 0,' + r1\n                + 'Z')\n            : (r0\n                ? 'M' + r1 * c0 + ',' + r1 * s0\n                + 'A' + r1 + ',' + r1 + ' 0 ' + df + ',1 ' + r1 * c1 + ',' + r1 * s1\n                + 'L' + r0 * c1 + ',' + r0 * s1\n                + 'A' + r0 + ',' + r0 + ' 0 ' + df + ',0 ' + r0 * c0 + ',' + r0 * s0\n                + 'Z'\n                : 'M' + r1 * c0 + ',' + r1 * s0\n                + 'A' + r1 + ',' + r1 + ' 0 ' + df + ',1 ' + r1 * c1 + ',' + r1 * s1\n                + 'L0,0'\n                + 'Z');\n    };\n\n    // Merge attributes from object `b` with attributes in object `a`.\n    // Note that this modifies the object `a`.\n    // Also important to note that attributes are merged but CSS classes are concatenated.\n    V.mergeAttrs = function(a, b) {\n\n        for (var attr in b) {\n\n            if (attr === 'class') {\n                // Concatenate classes.\n                a[attr] = a[attr] ? a[attr] + ' ' + b[attr] : b[attr];\n            } else if (attr === 'style') {\n                // `style` attribute can be an object.\n                if (V.isObject(a[attr]) && V.isObject(b[attr])) {\n                    // `style` stored in `a` is an object.\n                    a[attr] = V.mergeAttrs(a[attr], b[attr]);\n                } else if (V.isObject(a[attr])) {\n                    // `style` in `a` is an object but it's a string in `b`.\n                    // Convert the style represented as a string to an object in `b`.\n                    a[attr] = V.mergeAttrs(a[attr], V.styleToObject(b[attr]));\n                } else if (V.isObject(b[attr])) {\n                    // `style` in `a` is a string, in `b` it's an object.\n                    a[attr] = V.mergeAttrs(V.styleToObject(a[attr]), b[attr]);\n                } else {\n                    // Both styles are strings.\n                    a[attr] = V.mergeAttrs(V.styleToObject(a[attr]), V.styleToObject(b[attr]));\n                }\n            } else {\n                a[attr] = b[attr];\n            }\n        }\n\n        return a;\n    };\n\n    V.annotateString = function(t, annotations, opt) {\n\n        annotations = annotations || [];\n        opt = opt || {};\n\n        var offset = opt.offset || 0;\n        var compacted = [];\n        var batch;\n        var ret = [];\n        var item;\n        var prev;\n\n        for (var i = 0; i < t.length; i++) {\n\n            item = ret[i] = t[i];\n\n            for (var j = 0; j < annotations.length; j++) {\n\n                var annotation = annotations[j];\n                var start = annotation.start + offset;\n                var end = annotation.end + offset;\n\n                if (i >= start && i < end) {\n                    // Annotation applies.\n                    if (V.isObject(item)) {\n                        // There is more than one annotation to be applied => Merge attributes.\n                        item.attrs = V.mergeAttrs(V.mergeAttrs({}, item.attrs), annotation.attrs);\n                    } else {\n                        item = ret[i] = { t: t[i], attrs: annotation.attrs };\n                    }\n                    if (opt.includeAnnotationIndices) {\n                        (item.annotations || (item.annotations = [])).push(j);\n                    }\n                }\n            }\n\n            prev = ret[i - 1];\n\n            if (!prev) {\n\n                batch = item;\n\n            } else if (V.isObject(item) && V.isObject(prev)) {\n                // Both previous item and the current one are annotations. If the attributes\n                // didn't change, merge the text.\n                if (JSON.stringify(item.attrs) === JSON.stringify(prev.attrs)) {\n                    batch.t += item.t;\n                } else {\n                    compacted.push(batch);\n                    batch = item;\n                }\n\n            } else if (V.isObject(item)) {\n                // Previous item was a string, current item is an annotation.\n                compacted.push(batch);\n                batch = item;\n\n            } else if (V.isObject(prev)) {\n                // Previous item was an annotation, current item is a string.\n                compacted.push(batch);\n                batch = item;\n\n            } else {\n                // Both previous and current item are strings.\n                batch = (batch || '') + item;\n            }\n        }\n\n        if (batch) {\n            compacted.push(batch);\n        }\n\n        return compacted;\n    };\n\n    V.findAnnotationsAtIndex = function(annotations, index) {\n\n        var found = [];\n\n        if (annotations) {\n\n            annotations.forEach(function(annotation) {\n\n                if (annotation.start < index && index <= annotation.end) {\n                    found.push(annotation);\n                }\n            });\n        }\n\n        return found;\n    };\n\n    V.findAnnotationsBetweenIndexes = function(annotations, start, end) {\n\n        var found = [];\n\n        if (annotations) {\n\n            annotations.forEach(function(annotation) {\n\n                if ((start >= annotation.start && start < annotation.end) || (end > annotation.start && end <= annotation.end) || (annotation.start >= start && annotation.end < end)) {\n                    found.push(annotation);\n                }\n            });\n        }\n\n        return found;\n    };\n\n    // Shift all the text annotations after character `index` by `offset` positions.\n    V.shiftAnnotations = function(annotations, index, offset) {\n\n        if (annotations) {\n\n            annotations.forEach(function(annotation) {\n\n                if (annotation.start < index && annotation.end >= index) {\n                    annotation.end += offset;\n                } else if (annotation.start >= index) {\n                    annotation.start += offset;\n                    annotation.end += offset;\n                }\n            });\n        }\n\n        return annotations;\n    };\n\n    V.convertLineToPathData = function(line) {\n\n        line = V(line);\n        var d = [\n            'M', line.attr('x1'), line.attr('y1'),\n            'L', line.attr('x2'), line.attr('y2')\n        ].join(' ');\n        return d;\n    };\n\n    V.convertPolygonToPathData = function(polygon) {\n\n        var points = V.getPointsFromSvgNode(polygon);\n        if (points.length === 0) return null;\n\n        return V.svgPointsToPath(points) + ' Z';\n    };\n\n    V.convertPolylineToPathData = function(polyline) {\n\n        var points = V.getPointsFromSvgNode(polyline);\n        if (points.length === 0) return null;\n\n        return V.svgPointsToPath(points);\n    };\n\n    V.svgPointsToPath = function(points) {\n\n        for (var i = 0, n = points.length; i < n; i++) {\n            points[i] = points[i].x + ' ' + points[i].y;\n        }\n\n        return 'M ' + points.join(' L');\n    };\n\n    V.getPointsFromSvgNode = function(node) {\n\n        node = V.toNode(node);\n        var points = [];\n        var nodePoints = node.points;\n        if (nodePoints) {\n            for (var i = 0, n = nodePoints.numberOfItems; i < n; i++) {\n                points.push(nodePoints.getItem(i));\n            }\n        }\n\n        return points;\n    };\n\n    V.KAPPA = 0.551784;\n\n    V.convertCircleToPathData = function(circle) {\n\n        circle = V(circle);\n        var cx = parseFloat(circle.attr('cx')) || 0;\n        var cy = parseFloat(circle.attr('cy')) || 0;\n        var r = parseFloat(circle.attr('r'));\n        var cd = r * V.KAPPA; // Control distance.\n\n        var d = [\n            'M', cx, cy - r,    // Move to the first point.\n            'C', cx + cd, cy - r, cx + r, cy - cd, cx + r, cy, // I. Quadrant.\n            'C', cx + r, cy + cd, cx + cd, cy + r, cx, cy + r, // II. Quadrant.\n            'C', cx - cd, cy + r, cx - r, cy + cd, cx - r, cy, // III. Quadrant.\n            'C', cx - r, cy - cd, cx - cd, cy - r, cx, cy - r, // IV. Quadrant.\n            'Z'\n        ].join(' ');\n        return d;\n    };\n\n    V.convertEllipseToPathData = function(ellipse) {\n\n        ellipse = V(ellipse);\n        var cx = parseFloat(ellipse.attr('cx')) || 0;\n        var cy = parseFloat(ellipse.attr('cy')) || 0;\n        var rx = parseFloat(ellipse.attr('rx'));\n        var ry = parseFloat(ellipse.attr('ry')) || rx;\n        var cdx = rx * V.KAPPA; // Control distance x.\n        var cdy = ry * V.KAPPA; // Control distance y.\n\n        var d = [\n            'M', cx, cy - ry,    // Move to the first point.\n            'C', cx + cdx, cy - ry, cx + rx, cy - cdy, cx + rx, cy, // I. Quadrant.\n            'C', cx + rx, cy + cdy, cx + cdx, cy + ry, cx, cy + ry, // II. Quadrant.\n            'C', cx - cdx, cy + ry, cx - rx, cy + cdy, cx - rx, cy, // III. Quadrant.\n            'C', cx - rx, cy - cdy, cx - cdx, cy - ry, cx, cy - ry, // IV. Quadrant.\n            'Z'\n        ].join(' ');\n        return d;\n    };\n\n    V.convertRectToPathData = function(rect) {\n\n        rect = V(rect);\n\n        return V.rectToPath({\n            x: parseFloat(rect.attr('x')) || 0,\n            y: parseFloat(rect.attr('y')) || 0,\n            width: parseFloat(rect.attr('width')) || 0,\n            height: parseFloat(rect.attr('height')) || 0,\n            rx: parseFloat(rect.attr('rx')) || 0,\n            ry: parseFloat(rect.attr('ry')) || 0\n        });\n    };\n\n    // Convert a rectangle to SVG path commands. `r` is an object of the form:\n    // `{ x: [number], y: [number], width: [number], height: [number], top-ry: [number], top-ry: [number], bottom-rx: [number], bottom-ry: [number] }`,\n    // where `x, y, width, height` are the usual rectangle attributes and [top-/bottom-]rx/ry allows for\n    // specifying radius of the rectangle for all its sides (as opposed to the built-in SVG rectangle\n    // that has only `rx` and `ry` attributes).\n    V.rectToPath = function(r) {\n\n        var d;\n        var x = r.x;\n        var y = r.y;\n        var width = r.width;\n        var height = r.height;\n        var topRx = min(r.rx || r['top-rx'] || 0, width / 2);\n        var bottomRx = min(r.rx || r['bottom-rx'] || 0, width / 2);\n        var topRy = min(r.ry || r['top-ry'] || 0, height / 2);\n        var bottomRy = min(r.ry || r['bottom-ry'] || 0, height / 2);\n\n        if (topRx || bottomRx || topRy || bottomRy) {\n            d = [\n                'M', x, y + topRy,\n                'v', height - topRy - bottomRy,\n                'a', bottomRx, bottomRy, 0, 0, 0, bottomRx, bottomRy,\n                'h', width - 2 * bottomRx,\n                'a', bottomRx, bottomRy, 0, 0, 0, bottomRx, -bottomRy,\n                'v', -(height - bottomRy - topRy),\n                'a', topRx, topRy, 0, 0, 0, -topRx, -topRy,\n                'h', -(width - 2 * topRx),\n                'a', topRx, topRy, 0, 0, 0, -topRx, topRy,\n                'Z'\n            ];\n        } else {\n            d = [\n                'M', x, y,\n                'H', x + width,\n                'V', y + height,\n                'H', x,\n                'V', y,\n                'Z'\n            ];\n        }\n\n        return d.join(' ');\n    };\n\n    // Take a path data string\n    // Return a normalized path data string\n    // If data cannot be parsed, return 'M 0 0'\n    // Adapted from Rappid normalizePath polyfill\n    // Highly inspired by Raphael Library (www.raphael.com)\n    V.normalizePathData = (function() {\n\n        var spaces = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\n        var pathCommand = new RegExp('([a-z])[' + spaces + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + spaces + ']*,?[' + spaces + ']*)+)', 'ig');\n        var pathValues = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + spaces + ']*,?[' + spaces + ']*', 'ig');\n\n        var math = Math;\n        var PI = math.PI;\n        var sin = math.sin;\n        var cos = math.cos;\n        var tan = math.tan;\n        var asin = math.asin;\n        var sqrt = math.sqrt;\n        var abs = math.abs;\n\n        function q2c(x1, y1, ax, ay, x2, y2) {\n\n            var _13 = 1 / 3;\n            var _23 = 2 / 3;\n            return [(_13 * x1) + (_23 * ax), (_13 * y1) + (_23 * ay), (_13 * x2) + (_23 * ax), (_13 * y2) + (_23 * ay), x2, y2];\n        }\n\n        function rotate(x, y, rad) {\n\n            var X = (x * cos(rad)) - (y * sin(rad));\n            var Y = (x * sin(rad)) + (y * cos(rad));\n            return { x: X, y: Y };\n        }\n\n        function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n            // for more information of where this math came from visit:\n            // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n            var _120 = (PI * 120) / 180;\n            var rad = (PI / 180) * (+angle || 0);\n            var res = [];\n            var xy;\n\n            if (!recursive) {\n                xy = rotate(x1, y1, -rad);\n                x1 = xy.x;\n                y1 = xy.y;\n\n                xy = rotate(x2, y2, -rad);\n                x2 = xy.x;\n                y2 = xy.y;\n\n                var x = (x1 - x2) / 2;\n                var y = (y1 - y2) / 2;\n                var h = ((x * x) / (rx * rx)) + ((y * y) / (ry * ry));\n\n                if (h > 1) {\n                    h = sqrt(h);\n                    rx = h * rx;\n                    ry = h * ry;\n                }\n\n                var rx2 = rx * rx;\n                var ry2 = ry * ry;\n\n                var k = ((large_arc_flag == sweep_flag) ? -1 : 1) * sqrt(abs(((rx2 * ry2) - (rx2 * y * y) - (ry2 * x * x)) / ((rx2 * y * y) + (ry2 * x * x))));\n\n                var cx = ((k * rx * y) / ry) + ((x1 + x2) / 2);\n                var cy = ((k * -ry * x) / rx) + ((y1 + y2) / 2);\n\n                var f1 = asin(((y1 - cy) / ry).toFixed(9));\n                var f2 = asin(((y2 - cy) / ry).toFixed(9));\n\n                f1 = ((x1 < cx) ? (PI - f1) : f1);\n                f2 = ((x2 < cx) ? (PI - f2) : f2);\n\n                if (f1 < 0) f1 = (PI * 2) + f1;\n                if (f2 < 0) f2 = (PI * 2) + f2;\n\n                if (sweep_flag && (f1 > f2)) f1 = f1 - (PI * 2);\n                if (!sweep_flag && (f2 > f1)) f2 = f2 - (PI * 2);\n\n            } else {\n                f1 = recursive[0];\n                f2 = recursive[1];\n                cx = recursive[2];\n                cy = recursive[3];\n            }\n\n            var df = f2 - f1;\n            if (abs(df) > _120) {\n                var f2old = f2;\n                var x2old = x2;\n                var y2old = y2;\n                f2 = f1 + (_120 * ((sweep_flag && (f2 > f1)) ? 1 : -1));\n                x2 = cx + (rx * cos(f2));\n                y2 = cy + (ry * sin(f2));\n                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n            }\n\n            df = f2 - f1;\n\n            var c1 = cos(f1);\n            var s1 = sin(f1);\n            var c2 = cos(f2);\n            var s2 = sin(f2);\n            var t = tan(df / 4);\n            var hx = (4 / 3) * (rx * t);\n            var hy = (4 / 3) * (ry * t);\n            var m1 = [x1, y1];\n            var m2 = [x1 + (hx * s1), y1 - (hy * c1)];\n            var m3 = [x2 + (hx * s2), y2 - (hy * c2)];\n            var m4 = [x2, y2];\n\n            m2[0] = (2 * m1[0]) - m2[0];\n            m2[1] = (2 * m1[1]) - m2[1];\n\n            if (recursive) {\n                return [m2, m3, m4].concat(res);\n            } else {\n                res = [m2, m3, m4].concat(res).join().split(',');\n                var newres = [];\n                var ii = res.length;\n                for (var i = 0; i < ii; i++) {\n                    newres[i] = (i % 2) ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n                }\n                return newres;\n            }\n        }\n\n        function parsePathString(pathString) {\n\n            if (!pathString) return null;\n\n            var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 };\n            var data = [];\n\n            String(pathString).replace(pathCommand, function(a, b, c) {\n\n                var params = [];\n                var name = b.toLowerCase();\n                c.replace(pathValues, function(a, b) {\n                    if (b) params.push(+b);\n                });\n\n                if ((name === 'm') && (params.length > 2)) {\n                    data.push([b].concat(params.splice(0, 2)));\n                    name = 'l';\n                    b = ((b === 'm') ? 'l' : 'L');\n                }\n\n                while (params.length >= paramCounts[name]) {\n                    data.push([b].concat(params.splice(0, paramCounts[name])));\n                    if (!paramCounts[name]) break;\n                }\n            });\n\n            return data;\n        }\n\n        function pathToAbsolute(pathArray) {\n\n            if (!Array.isArray(pathArray) || !Array.isArray(pathArray && pathArray[0])) { // rough assumption\n                pathArray = parsePathString(pathArray);\n            }\n\n            // if invalid string, return 'M 0 0'\n            if (!pathArray || !pathArray.length) return [['M', 0, 0]];\n\n            var res = [];\n            var x = 0;\n            var y = 0;\n            var mx = 0;\n            var my = 0;\n            var start = 0;\n            var pa0;\n\n            var ii = pathArray.length;\n            for (var i = start; i < ii; i++) {\n\n                var r = [];\n                res.push(r);\n\n                var pa = pathArray[i];\n                pa0 = pa[0];\n\n                if (pa0 != pa0.toUpperCase()) {\n                    r[0] = pa0.toUpperCase();\n\n                    var jj;\n                    var j;\n                    switch (r[0]) {\n                        case 'A':\n                            r[1] = pa[1];\n                            r[2] = pa[2];\n                            r[3] = pa[3];\n                            r[4] = pa[4];\n                            r[5] = pa[5];\n                            r[6] = +pa[6] + x;\n                            r[7] = +pa[7] + y;\n                            break;\n\n                        case 'V':\n                            r[1] = +pa[1] + y;\n                            break;\n\n                        case 'H':\n                            r[1] = +pa[1] + x;\n                            break;\n\n                        case 'M':\n                            mx = +pa[1] + x;\n                            my = +pa[2] + y;\n\n                            jj = pa.length;\n                            for (j = 1; j < jj; j++) {\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\n                            }\n                            break;\n\n                        default:\n                            jj = pa.length;\n                            for (j = 1; j < jj; j++) {\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\n                            }\n                            break;\n                    }\n                } else {\n                    var kk = pa.length;\n                    for (var k = 0; k < kk; k++) {\n                        r[k] = pa[k];\n                    }\n                }\n\n                switch (r[0]) {\n                    case 'Z':\n                        x = +mx;\n                        y = +my;\n                        break;\n\n                    case 'H':\n                        x = r[1];\n                        break;\n\n                    case 'V':\n                        y = r[1];\n                        break;\n\n                    case 'M':\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                        break;\n\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                        break;\n                }\n            }\n\n            return res;\n        }\n\n        function normalize(path) {\n\n            var p = pathToAbsolute(path);\n            var attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null };\n\n            function processPath(path, d, pcom) {\n\n                var nx, ny;\n\n                if (!path) return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n\n                if (!(path[0] in { T: 1, Q: 1 })) {\n                    d.qx = null;\n                    d.qy = null;\n                }\n\n                switch (path[0]) {\n                    case 'M':\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n\n                    case 'A':\n                        if (parseFloat(path[1]) === 0 || parseFloat(path[2]) === 0) {\n                            // https://www.w3.org/TR/SVG/paths.html#ArcOutOfRangeParameters\n                            // \"If either rx or ry is 0, then this arc is treated as a\n                            // straight line segment (a \"lineto\") joining the endpoints.\"\n                            path = ['L', path[6], path[7]];\n                        } else {\n                            path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        }\n                        break;\n\n                    case 'S':\n                        if (pcom === 'C' || pcom === 'S') { // In 'S' case we have to take into account, if the previous command is C/S.\n                            nx = (d.x * 2) - d.bx;          // And reflect the previous\n                            ny = (d.y * 2) - d.by;          // command's control point relative to the current point.\n                        } else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = ['C', nx, ny].concat(path.slice(1));\n                        break;\n\n                    case 'T':\n                        if (pcom === 'Q' || pcom === 'T') { // In 'T' case we have to take into account, if the previous command is Q/T.\n                            d.qx = (d.x * 2) - d.qx;        // And make a reflection similar\n                            d.qy = (d.y * 2) - d.qy;        // to case 'S'.\n                        } else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n\n                    case 'Q':\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n\n                    case 'H':\n                        path = ['L'].concat(path[1], d.y);\n                        break;\n\n                    case 'V':\n                        path = ['L'].concat(d.x, path[1]);\n                        break;\n\n                    case 'L':\n                        break;\n\n                    case 'Z':\n                        break;\n                }\n\n                return path;\n            }\n\n            function fixArc(pp, i) {\n\n                if (pp[i].length > 7) {\n\n                    pp[i].shift();\n                    var pi = pp[i];\n\n                    while (pi.length) {\n                        pcoms[i] = 'A'; // if created multiple 'C's, their original seg is saved\n                        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n                    }\n\n                    pp.splice(i, 1);\n                    ii = p.length;\n                }\n            }\n\n            var pcoms = []; // path commands of original path p\n            var pfirst = ''; // temporary holder for original path command\n            var pcom = ''; // holder for previous path command of original path\n\n            var ii = p.length;\n            for (var i = 0; i < ii; i++) {\n                if (p[i]) pfirst = p[i][0]; // save current path command\n\n                if (pfirst !== 'C') { // C is not saved yet, because it may be result of conversion\n                    pcoms[i] = pfirst; // Save current path command\n                    if (i > 0) pcom = pcoms[i - 1]; // Get previous path command pcom\n                }\n\n                p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n                if (pcoms[i] !== 'A' && pfirst === 'C') pcoms[i] = 'C'; // 'A' is the only command\n                // which may produce multiple 'C's\n                // so we have to make sure that 'C' is also 'C' in original path\n\n                fixArc(p, i); // fixArc adds also the right amount of 'A's to pcoms\n\n                var seg = p[i];\n                var seglen = seg.length;\n\n                attrs.x = seg[seglen - 2];\n                attrs.y = seg[seglen - 1];\n\n                attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n                attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n            }\n\n            // make sure normalized path data string starts with an M segment\n            if (!p[0][0] || p[0][0] !== 'M') {\n                p.unshift(['M', 0, 0]);\n            }\n\n            return p;\n        }\n\n        return function(pathData) {\n            return normalize(pathData).join(',').split(',').join(' ');\n        };\n    })();\n\n    V.namespace = ns;\n\n    V.g = g;\n\n    return V;\n\n})();\n\nexport default V;\n", "export const config = {\n    // When set to `true` the cell selectors could be defined as CSS selectors.\n    // If not, only JSON Markup selectors are taken into account.\n    // export let useCSSSelectors = true;\n    useCSSSelectors: true,\n    // The class name prefix config is for advanced use only.\n    // Be aware that if you change the prefix, the JointJS CSS will no longer function properly.\n    // export let classNamePrefix = 'joint-';\n    // export let defaultTheme = 'default';\n    classNamePrefix: 'joint-',\n    defaultTheme: 'default',\n    // The maximum delay required for two consecutive touchend events to be interpreted\n    // as a double-tap.\n    doubleTapInterval: 300\n};\n", "// code is inspired by https://github.com/lodash/lodash\n\n/* eslint-disable no-case-declarations */\n// -- helper constants\nconst argsTag = '[object Arguments]';\nconst arrayTag = '[object Array]';\nconst boolTag = '[object Boolean]';\nconst dateTag = '[object Date]';\nconst errorTag = '[object Error]';\nconst funcTag = '[object Function]';\nconst mapTag = '[object Map]';\nconst numberTag = '[object Number]';\nconst nullTag = '[object Null]';\nconst objectTag = '[object Object]';\nconst regexpTag = '[object RegExp]';\nconst setTag = '[object Set]';\nconst stringTag = '[object String]';\nconst symbolTag = '[object Symbol]';\nconst undefinedTag = '[object Undefined]';\nconst weakMapTag = '[object WeakMap]';\nconst arrayBufferTag = '[object ArrayBuffer]';\nconst dataViewTag = '[object DataView]';\nconst float32Tag = '[object Float32Array]';\nconst float64Tag = '[object Float64Array]';\nconst int8Tag = '[object Int8Array]';\nconst int16Tag = '[object Int16Array]';\nconst int32Tag = '[object Int32Array]';\nconst uint8Tag = '[object Uint8Array]';\nconst uint8ClampedTag = '[object Uint8ClampedArray]';\nconst uint16Tag = '[object Uint16Array]';\nconst uint32Tag = '[object Uint32Array]';\n\nconst CLONEABLE_TAGS = {\n    [argsTag]: true,\n    [arrayTag]: true,\n    [arrayBufferTag]: true,\n    [dataViewTag]: true,\n    [boolTag]: true,\n    [dateTag]: true,\n    [float32Tag]: true,\n    [float64Tag]: true,\n    [int8Tag]: true,\n    [int16Tag]: true,\n    [int32Tag]: true,\n    [mapTag]: true,\n    [numberTag]: true,\n    [objectTag]: true,\n    [regexpTag]: true,\n    [setTag]: true,\n    [stringTag]: true,\n    [symbolTag]: true,\n    [uint8Tag]: true,\n    [uint8ClampedTag]: true,\n    [uint16Tag]: true,\n    [uint32Tag]: true,\n    [errorTag]: false,\n    [funcTag]: false,\n    [weakMapTag]: false,\n};\n\n/** Used to compose unicode character classes. */\nconst rsAstralRange = '\\\\ud800-\\\\udfff';\nconst rsComboMarksRange = '\\\\u0300-\\\\u036f';\nconst reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f';\nconst rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff';\nconst rsComboMarksExtendedRange = '\\\\u1ab0-\\\\u1aff';\nconst rsComboMarksSupplementRange = '\\\\u1dc0-\\\\u1dff';\nconst rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\nconst rsDingbatRange = '\\\\u2700-\\\\u27bf';\nconst rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff';\nconst rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7';\nconst rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf';\nconst rsPunctuationRange = '\\\\u2000-\\\\u206f';\nconst rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000';\nconst rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde';\nconst rsVarRange = '\\\\ufe0e\\\\ufe0f';\nconst rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nconst rsApos = '[\\'\\u2019]';\nconst rsBreak = `[${rsBreakRange}]`;\nconst rsCombo = `[${rsComboRange}]`;\nconst rsDigit = '\\\\d';\nconst rsDingbat = `[${rsDingbatRange}]`;\nconst rsLower = `[${rsLowerRange}]`;\nconst rsMisc = `[^${rsAstralRange}${rsBreakRange + rsDigit + rsDingbatRange + rsLowerRange + rsUpperRange}]`;\nconst rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\nconst rsModifier = `(?:${rsCombo}|${rsFitz})`;\nconst rsNonAstral = `[^${rsAstralRange}]`;\nconst rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\nconst rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\nconst rsUpper = `[${rsUpperRange}]`;\nconst rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nconst rsMiscLower = `(?:${rsLower}|${rsMisc})`;\nconst rsMiscUpper = `(?:${rsUpper}|${rsMisc})`;\nconst rsOptContrLower = `(?:${rsApos}(?:d|ll|m|re|s|t|ve))?`;\nconst rsOptContrUpper = `(?:${rsApos}(?:D|LL|M|RE|S|T|VE))?`;\nconst reOptMod = `${rsModifier}?`;\nconst rsOptVar = `[${rsVarRange}]?`;\nconst rsOptJoin = `(?:${rsZWJ}(?:${[rsNonAstral, rsRegional, rsSurrPair].join('|')})${rsOptVar + reOptMod})*`;\nconst rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])';\nconst rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])';\nconst rsSeq = rsOptVar + reOptMod + rsOptJoin;\nconst rsEmoji = `(?:${[rsDingbat, rsRegional, rsSurrPair].join('|')})${rsSeq}`;\n\nconst reUnicodeWords = RegExp([\n    `${rsUpper}?${rsLower}+${rsOptContrLower}(?=${[rsBreak, rsUpper, '$'].join('|')})`,\n    `${rsMiscUpper}+${rsOptContrUpper}(?=${[rsBreak, rsUpper + rsMiscLower, '$'].join('|')})`,\n    `${rsUpper}?${rsMiscLower}+${rsOptContrLower}`,\n    `${rsUpper}+${rsOptContrUpper}`,\n    rsOrdUpper,\n    rsOrdLower,\n    `${rsDigit}+`,\n    rsEmoji\n].join('|'), 'g');\n\nconst LARGE_ARRAY_SIZE = 200;\nconst HASH_UNDEFINED = '__hash_undefined__';\n\n// Used to match `toStringTag` values of typed arrays\nconst reTypedTag = /^\\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\\]$/;\n\n// Used to compose unicode capture groups\nconst rsAstral = `[${rsAstralRange}]`;\n\n// Used to compose unicode regexes\nconst rsNonAstralCombo = `${rsNonAstral}${rsCombo}?`;\nconst rsSymbol = `(?:${[rsNonAstralCombo, rsCombo, rsRegional, rsSurrPair, rsAstral].join('|')})`;\n\n// Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode)\nconst reUnicode = RegExp(`${rsFitz}(?=${rsFitz})|${rsSymbol + rsSeq}`, 'g');\n\nconst reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\nconst reIsPlainProp = /^\\w*$/;\n\nconst charCodeOfDot = '.'.charCodeAt(0);\nconst reEscapeChar = /\\\\(\\\\)?/g;\nconst rePropName = RegExp(\n    // Match anything that isn't a dot or bracket.\n    '[^.[\\\\]]+' + '|' +\n  // Or match property names within brackets.\n  '\\\\[(?:' +\n    // Match a non-string expression.\n    '([^\"\\'][^[]*)' + '|' +\n    // Or match strings (supports escaping characters).\n    '([\"\\'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2' +\n  ')\\\\]'+ '|' +\n  // Or match \"\" as the space between consecutive dots or empty brackets.\n  '(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))'\n    , 'g');\nconst reIsUint = /^(?:0|[1-9]\\d*)$/;\n\nconst hasUnicodeWord = RegExp.prototype.test.bind(\n    /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/\n);\n\nconst MAX_ARRAY_INDEX = 4294967295 - 1;\n\n/** Used to match words composed of alphanumeric characters. */\n// eslint-disable-next-line no-control-regex\nconst reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n\n\n// -- helper functions\nconst hasUnicode = (string) => {\n    return reUnicode.test(string);\n};\n\nconst unicodeToArray = (string) => {\n    return string.match(reUnicode) || [];\n};\n\nconst asciiToArray = (string) => {\n    return string.split('');\n};\n\nconst stringToArray = (string) => {\n    return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\n};\n\nconst values = (object) => {\n    if (object == null) {\n        return [];\n    }\n\n    return keys(object).map((key) => object[key]);\n};\n\nconst keys = (object) => {\n    return isArrayLike(object) ? arrayLikeKeys(object) : Object.keys(Object(object));\n};\n\nconst baseKeys = (object) => {\n    if (!isPrototype(object)) {\n        return Object.keys(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n            result.push(key);\n        }\n    }\n\n    return result;\n};\n\nconst arrayLikeKeys = (value, inherited) => {\n    const isArr = Array.isArray(value);\n    const isArg = !isArr && isObjectLike(value) && getTag(value) === argsTag;\n    const isType = !isArr && !isArg && isTypedArray(value);\n    const skipIndexes = isArr || isArg || isType;\n    const length = value.length;\n    const result = new Array(skipIndexes ? length : 0);\n    let index = skipIndexes ? -1 : length;\n    while (++index < length) {\n        result[index] = `${index}`;\n    }\n    for (const key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n                // Safari 9 has enumerable `arguments.length` in strict mode.\n                key === 'length' ||\n                // Skip index properties.\n                isIndex(key, length)\n            ))\n        ) {\n            result.push(key);\n        }\n    }\n    return result;\n};\n\nconst assocIndexOf = (array, key) => {\n    let { length } = array;\n    while (length--) {\n        if (eq(array[length][0], key)) {\n            return length;\n        }\n    }\n    return -1;\n};\n\nconst eq = (value, other) => {\n    return value === other || (value !== value && other !== other);\n};\n\nconst isObjectLike = (value) => {\n    return value != null && typeof value == 'object';\n};\n\nconst isIterateeCall = (value, index, object) => {\n    if (!isObject(object)) {\n        return false;\n    }\n    const type = typeof index;\n\n    const isPossibleIteratee = type == 'number' ?\n        (isArrayLike(object) && index > -1 && index < object.length) :\n        (type == 'string' && index in object);\n\n    if (isPossibleIteratee) {\n        return eq(object[index], value);\n    }\n    return false;\n};\n\nconst isSet = (value) => {\n    return isObjectLike(value) && getTag(value) == setTag;\n};\n\nconst isMap = (value) => {\n    return isObjectLike(value) && getTag(value) == mapTag;\n};\n\nconst isPrototype = (value) => {\n    const Ctor = value && value.constructor;\n    const proto = (typeof Ctor === 'function' && Ctor.prototype) || Object.prototype;\n\n    return value === proto;\n};\n\nconst assignValue = (object, key, value) => {\n    const objValue = object[key];\n    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n        (value === undefined && !(key in object))) {\n        object[key] = value;\n    }\n};\n\nconst copyObject = (source, props, object) => {\n    let index = -1;\n    const length = props.length;\n\n    while (++index < length) {\n        const key = props[index];\n        assignValue(object, key, source[key]);\n    }\n    return object;\n};\n\nconst isArrayLike = (value) => {\n    return value != null && typeof value !== 'function' && typeof value.length === 'number' &&\n        value.length > -1 && value.length % 1 === 0;\n};\n\nconst isSymbol = (value) => {\n    return typeof value == 'symbol' ||\n        (isObjectLike(value) && getTag(value) === symbolTag);\n};\n\nconst initCloneArray = (array) => {\n    const length = array.length;\n    let result = new array.constructor(length);\n\n    if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n    }\n\n    return result;\n};\n\nconst copyArray = (source, array) => {\n    let index = -1;\n    const length = source.length;\n\n    array || (array = new Array(length));\n    while (++index < length) {\n        array[index] = source[index];\n    }\n    return array;\n};\n\nconst getTag = (value) => {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n\n    return Object.prototype.toString.call(value);\n};\n\nconst cloneArrayBuffer = (arrayBuffer) => {\n    const result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    return result;\n};\n\nconst cloneTypedArray = (typedArray, isDeep) => {\n    const buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n};\n\nconst cloneRegExp = (regexp) =>{\n    const result = new regexp.constructor(regexp.source, /\\w*$/.exec(regexp));\n    result.lastIndex = regexp.lastIndex;\n    return result;\n};\n\nconst initCloneObject = (object) => {\n    return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? Object.create(Object.getPrototypeOf(object))\n        : {};\n};\n\nconst getSymbols = (object) => {\n    if (object == null) {\n        return [];\n    }\n\n    object = Object(object);\n    const symbols = Object.getOwnPropertySymbols(object);\n\n    return symbols.filter((symbol) => propertyIsEnumerable.call(object, symbol));\n};\n\nconst copySymbols = (source, object) => {\n    return copyObject(source, getSymbols(source), object);\n};\n\nfunction cloneDataView(dataView, isDeep) {\n    const buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nconst initCloneByTag = (object, tag, isDeep) => {\n    const Constructor = object.constructor;\n    switch(tag) {\n        case arrayBufferTag:\n            return cloneArrayBuffer(object, isDeep);\n        case boolTag:\n        case dateTag:\n            return new Constructor(+object);\n        case dataViewTag:\n            return cloneDataView(object, isDeep);\n        case float32Tag:\n        case float64Tag:\n        case int8Tag:\n        case int16Tag:\n        case int32Tag:\n        case uint8Tag:\n        case uint8ClampedTag:\n        case uint16Tag:\n        case uint32Tag:\n            return cloneTypedArray(object, isDeep);\n        case mapTag:\n            return new Constructor(object);\n        case numberTag:\n        case stringTag:\n            return new Constructor(object);\n        case regexpTag:\n            return cloneRegExp(object);\n        case setTag:\n            return new Constructor;\n        case symbolTag:\n            return Symbol.prototype.valueOf ? Object(Symbol.prototype.valueOf.call(object)) : {};\n    }\n};\n\nconst isTypedArray = (value) => {\n    return isObjectLike(value) && reTypedTag.test(getTag(value));\n};\n\nconst getAllKeys = (object) => {\n    const result = Object.keys(object);\n    if(!Array.isArray(object) && object != null) {\n        result.push(...getSymbols(Object(object)));\n    }\n\n    return result;\n};\n\nconst getSymbolsIn = (object) => {\n    const result = [];\n    while (object) {\n        result.push(...getSymbols(object));\n        object = Object.getPrototypeOf(Object(object));\n    }\n\n    return result;\n};\n\nconst getAllKeysIn = (object) => {\n    const result = [];\n\n    for (const key in object) {\n        result.push(key);\n    }\n\n    if (!Array.isArray(object)) {\n        result.push(...getSymbolsIn(object));\n    }\n\n    return result;\n};\n\nconst getMapData = ({ __data__ }, key) => {\n    const data = __data__;\n    return isKeyable(key)\n        ? data[typeof key === 'string' ? 'string' : 'hash']\n        : data.map;\n};\n\nconst equalObjects = (object, other, equalFunc, stack) => {\n    const objProps = getAllKeys(object);\n    const objLength = objProps.length;\n    const othProps = getAllKeys(other);\n    const othLength = othProps.length;\n\n    if (objLength != othLength) {\n        return false;\n    }\n    let key;\n    let index = objLength;\n    while (index--) {\n        key = objProps[index];\n        if (!(hasOwnProperty.call(other, key))) {\n            return false;\n        }\n    }\n\n    const objStacked = stack.get(object);\n    const othStacked = stack.get(other);\n    if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n    }\n    let result = true;\n    stack.set(object, other);\n    stack.set(other, object);\n\n    let compared;\n    let skipCtor;\n\n    while (++index < objLength) {\n        key = objProps[index];\n        const objValue = object[key];\n        const othValue = other[key];\n\n        if (!(compared === undefined\n            ? (objValue === othValue || equalFunc(objValue, othValue, stack))\n            : compared\n        )) {\n            result = false;\n            break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n    }\n\n    if (result && !skipCtor) {\n        const objCtor = object.constructor;\n        const othCtor = other.constructor;\n\n        if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor === 'function' && objCtor instanceof objCtor &&\n            typeof othCtor === 'function' && othCtor instanceof othCtor)) {\n            result = false;\n        }\n    }\n    stack['delete'](object);\n    stack['delete'](other);\n    return result;\n};\n\nconst baseIsEqual = (value, other, stack) => {\n    if (value === other) {\n        return true;\n    }\n    if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n    }\n\n    return baseIsEqualDeep(value, other, baseIsEqual, stack);\n};\n\nconst baseIsEqualDeep = (object, other, equalFunc, stack) => {\n    let objIsArr = Array.isArray(object);\n    const othIsArr = Array.isArray(other);\n    let objTag = objIsArr ? arrayTag : getTag(object);\n    let othTag = othIsArr ? arrayTag : getTag(other);\n\n    objTag = objTag == argsTag ? objectTag : objTag;\n    othTag = othTag == argsTag ? objectTag : othTag;\n\n    let objIsObj = objTag == objectTag;\n    const othIsObj = othTag == objectTag;\n    const isSameTag = objTag == othTag;\n\n    if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n            ? equalArrays(object, other, false, equalFunc, stack)\n            : equalByTag(object, other, objTag, equalFunc, stack);\n    }\n\n    const objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__');\n    const othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n        const objUnwrapped = objIsWrapped ? object.value() : object;\n        const othUnwrapped = othIsWrapped ? other.value() : other;\n\n        stack || (stack = new Stack);\n        return equalFunc(objUnwrapped, othUnwrapped, stack);\n    }\n\n    if (!isSameTag) {\n        return false;\n    }\n\n    stack || (stack = new Stack);\n    return equalObjects(object, other, equalFunc, stack);\n};\n\nconst equalArrays = (array, other, compareUnordered, equalFunc, stack) => {\n    const isPartial = false;\n    const arrLength = array.length;\n    const othLength = other.length;\n\n    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n    }\n    // Assume cyclic values are equal.\n    const arrStacked = stack.get(array);\n    const othStacked = stack.get(other);\n    if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n    }\n    let index = -1;\n    let result = true;\n    const seen = compareUnordered ? new SetCache : undefined;\n\n    stack.set(array, other);\n    stack.set(other, array);\n\n    while (++index < arrLength) {\n        let compared;\n        const arrValue = array[index];\n        const othValue = other[index];\n\n        if (compared !== undefined) {\n            if (compared) {\n                continue;\n            }\n            result = false;\n            break;\n        }\n\n        if (seen) {\n            if (!some(other, (othValue, othIndex) => {\n                if (!cacheHas(seen, othIndex) &&\n            (arrValue === othValue || equalFunc(arrValue, othValue, stack))) {\n                    return seen.push(othIndex);\n                }\n            })) {\n                result = false;\n                break;\n            }\n        } else if (!(\n            arrValue === othValue ||\n            equalFunc(arrValue, othValue, stack)\n        )) {\n            result = false;\n            break;\n        }\n    }\n    stack['delete'](array);\n    stack['delete'](other);\n    return result;\n};\n\nconst some = (array, predicate) => {\n    let index = -1;\n    const length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n        if (predicate(array[index], index, array)) {\n            return true;\n        }\n    }\n    return false;\n};\n\nconst cacheHas = (cache, key) => {\n    return cache.has(key);\n};\n\nconst compareArrayBufferTag = (object, other, equalFunc, stack) => {\n    if ((object.byteLength != other.byteLength) ||\n                !equalFunc(new Uint8Array(object), new Uint8Array(other), stack)) {\n        return false;\n    }\n    return true;\n};\n\nconst equalByTag = (object, other, tag, equalFunc, stack) => {\n\n    switch (tag) {\n        case dataViewTag:\n            if ((object.byteLength != other.byteLength) ||\n                (object.byteOffset != other.byteOffset)) {\n                return false;\n            }\n            object = object.buffer;\n            other = other.buffer;\n            return compareArrayBufferTag(object, other, equalFunc, stack);\n        case arrayBufferTag:\n            return compareArrayBufferTag(object, other, equalFunc, stack);\n        case boolTag:\n        case dateTag:\n        case numberTag:\n            return eq(+object, +other);\n        case errorTag:\n            return object.name == other.name && object.message == other.message;\n        case regexpTag:\n        case stringTag:\n            return object == `${other}`;\n        case mapTag:\n            let convert = mapToArray;\n        // Intentional fallthrough\n        // eslint-disable-next-line no-fallthrough\n        case setTag:\n            convert || (convert = setToArray);\n\n            if (object.size != other.size) {\n                return false;\n            }\n            // Assume cyclic values are equal.\n            const stacked = stack.get(object);\n            if (stacked) {\n                return stacked == other;\n            }\n\n            // Recursively compare objects (susceptible to call stack limits).\n            stack.set(object, other);\n            const result = equalArrays(convert(object), convert(other), true, equalFunc, stack);\n            stack['delete'](object);\n            return result;\n        case symbolTag:\n            return Symbol.prototype.valueOf.call(object) == Symbol.prototype.valueOf.call(other);\n    }\n\n    return false;\n};\n\nconst mapToArray = (map) => {\n    let index = -1;\n    let result = Array(map.size);\n\n    map.forEach((value, key) => {\n        result[++index] = [key, value];\n    });\n    return result;\n};\n\nconst setToArray = (set) => {\n    let index = -1;\n    const result = new Array(set.size);\n\n    set.forEach((value) => {\n        result[++index] = value;\n    });\n    return result;\n};\n\nconst isKey = (value, object) => {\n    if (Array.isArray(value)) {\n        return false;\n    }\n    const type = typeof value;\n    if (type === 'number' || type === 'boolean' || value == null || isSymbol(value)) {\n        return true;\n    }\n    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n};\n\nconst stringToPath = (string) => {\n    const result = [];\n    if (string.charCodeAt(0) === charCodeOfDot) {\n        result.push('');\n    }\n    string.replace(rePropName, (match, expression, quote, subString) => {\n        let key = match;\n        if (quote) {\n            key = subString.replace(reEscapeChar, '$1');\n        }\n        else if (expression) {\n            key = expression.trim();\n        }\n        result.push(key);\n    });\n    return result;\n};\n\nconst castPath = (path, object) => {\n    if (Array.isArray(path)) {\n        return path;\n    }\n\n    return isKey(path, object) ? [path] : stringToPath(`${path}`);\n};\n\nconst get = (object, path) => {\n    path = castPath(path, object);\n\n    let index = 0;\n    const length = path.length;\n\n    while (object != null && index < length) {\n        object = object[toKey(path[index])];\n        index++;\n    }\n\n    return (index && index == length) ? object : undefined;\n};\n\nfunction compareAscending(value, other) {\n    if (value !== other) {\n        const valIsDefined = value !== undefined;\n        const valIsNull = value === null;\n        const valIsReflexive = value === value;\n        const valIsSymbol = isSymbol(value);\n\n        const othIsDefined = other !== undefined;\n        const othIsNull = other === null;\n        const othIsReflexive = other === other;\n        const othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n            return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n            return -1;\n        }\n    }\n    return 0;\n}\n\nfunction compareMultiple(object, other, orders) {\n    let index = -1;\n    const objCriteria = object.criteria;\n    const othCriteria = other.criteria;\n    const length = objCriteria.length;\n    const ordersLength = orders.length;\n\n    while (++index < length) {\n        const order = index < ordersLength ? orders[index] : null;\n        const cmpFn = (order && typeof order === 'function') ? order : compareAscending;\n        const result = cmpFn(objCriteria[index], othCriteria[index]);\n        if (result) {\n            if (order && typeof order !== 'function') {\n                return result * (order == 'desc' ? -1 : 1);\n            }\n            return result;\n        }\n    }\n\n    return object.index - other.index;\n}\n\nconst diff = (array, values) => {\n    let includes = (array, value) => {\n        const length = array == null ? 0 : array.length;\n        return !!length && array.indexOf(value) > -1;\n    };\n    let isCommon = true;\n    const result = [];\n    const valuesLength = values.length;\n\n    if (!array.length) {\n        return result;\n    }\n\n    if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = (cache, key) => cache.has(key);\n        isCommon = false;\n        values = new SetCache(values);\n    }\n\n    outer:\n    for (let key in array) {\n        let value = array[key];\n        const computed = value;\n\n        value = (value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n            let valuesIndex = valuesLength;\n            while (valuesIndex--) {\n                if (values[valuesIndex] === computed) {\n                    continue outer;\n                }\n            }\n            result.push(value);\n        }\n        else if (!includes(values, computed)) {\n            result.push(value);\n        }\n    }\n\n    return result;\n};\n\nconst intersect = (arrays) => {\n    const includes = (array, value) => {\n        const length = array == null ? 0 : array.length;\n        return !!length && array.indexOf(value) > -1;\n    };\n    const cacheHas = (cache, key) => cache.has(key);\n    const length = arrays[0].length;\n    const othLength = arrays.length;\n    const caches = new Array(othLength);\n    const result = [];\n\n    let array;\n    let maxLength = Infinity;\n    let othIndex = othLength;\n\n    while (othIndex--) {\n        array = arrays[othIndex];\n\n        maxLength = Math.min(array.length, maxLength);\n        caches[othIndex] = length >= 120 && array.length >= 120\n            ? new SetCache(othIndex && array)\n            : undefined;\n    }\n    array = arrays[0];\n\n    let index = -1;\n    const seen = caches[0];\n\n    outer:\n    while (++index < length && result.length < maxLength) {\n        let value = array[index];\n        const computed = value;\n\n        value = (value !== 0) ? value : 0;\n        if (!(seen\n            ? cacheHas(seen, computed)\n            : includes(result, computed)\n        )) {\n            othIndex = othLength;\n            while (--othIndex) {\n                const cache = caches[othIndex];\n                if (!(cache\n                    ? cacheHas(cache, computed)\n                    : includes(arrays[othIndex], computed))\n                ) {\n                    continue outer;\n                }\n            }\n            if (seen) {\n                seen.push(computed);\n            }\n            result.push(value);\n        }\n    }\n    return result;\n};\n\nconst toKey = (value) => {\n    if (typeof value === 'string' || isSymbol(value)) {\n        return value;\n    }\n    const result = `${value}`;\n    return (result == '0' && (1 / value) == -Infinity) ? '-0' : result;\n};\n\nconst baseClone = (value, isDeep = false, isFlat = false, isFull = true, customizer, key, object, stack) => {\n    let result;\n\n    if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n    }\n\n    if (result !== undefined) {\n        return result;\n    }\n\n    if (!isObject(value)) {\n        return value;\n    }\n\n    const isArr = Array.isArray(value);\n    const tag = getTag(value);\n\n    if (isArr) {\n        result = initCloneArray(value);\n\n        if (!isDeep) {\n            return copyArray(value, result);\n        }\n    } else {\n        const isFunc = typeof value === 'function';\n\n        if (tag === objectTag || tag === argsTag || (isFunc && !object)) {\n            result = (isFlat || isFunc) ? {} : initCloneObject(value);\n            if (!isDeep) {\n                return isFlat ?\n                    copySymbolsIn(value, copyObject(value, Object.keys(value), result)) :\n                    copySymbols(value, Object.assign(result, value));\n            }\n        } else {\n            if (isFunc || !CLONEABLE_TAGS[tag]) {\n                return object ? value : {};\n            }\n            result = initCloneByTag(value, tag, isDeep);\n        }\n    }\n\n    stack || (stack = new Stack);\n    const stacked = stack.get(value);\n\n    if (stacked) {\n        return stacked;\n    }\n\n    stack.set(value, result);\n\n    if (isMap(value)) {\n        value.forEach((subValue, key) => {\n            result.set(key, baseClone(subValue, isDeep, isFlat, isFull, customizer, key, value, stack));\n        });\n\n        return result;\n    }\n\n    if (isSet(value)) {\n        value.forEach(subValue => {\n            result.add(baseClone(subValue, isDeep, isFlat, isFull, customizer, subValue, value, stack));\n        });\n\n        return result;\n    }\n\n    if(isTypedArray(value)) {\n        return result;\n    }\n\n    const keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n    const props =  isArr ? undefined : keysFunc(value);\n\n    (props || value).forEach((subValue, key) => {\n        if (props) {\n            key = subValue;\n            subValue = value[key];\n        }\n\n        assignValue(result, key, baseClone(subValue, isDeep, isFlat, isFull, customizer, key, value, stack));\n    });\n\n    return result;\n};\n\nconst copySymbolsIn = (source, object) => {\n    return copyObject(source, getSymbolsIn(source), object);\n};\n\nconst parent = (object, path) => {\n    return path.length < 2 ? object : get(object, path.slice(0, -1));\n};\n\nconst set = (object, path, value) => {\n    if (!isObject(object)) {\n        return object;\n    }\n    path = castPath(path, object);\n\n    const length = path.length;\n    const lastIndex = length - 1;\n\n    let index = -1;\n    let nested = object;\n\n    while (nested != null && ++index < length) {\n        const key = toKey(path[index]);\n        let newValue = value;\n\n        if (index != lastIndex) {\n            const objValue = nested[key];\n            newValue = undefined;\n            if (newValue === undefined) {\n                newValue = isObject(objValue)\n                    ? objValue\n                    : (isIndex(path[index + 1]) ? [] : {});\n            }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n    }\n    return object;\n};\n\nconst isIndex = (value, length) => {\n    const type = typeof value;\n    length = length == null ? Number.MAX_SAFE_INTEGER : length;\n\n    return !!length &&\n    (type === 'number' ||\n        (type !== 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n};\n\nconst unset = (object, path) => {\n    path = castPath(path, object);\n    object = parent(object, path);\n    const lastSegment = path[path.length - 1];\n    return object == null || delete object[toKey(lastSegment)];\n};\n\nconst isKeyable = (value) => {\n    const type = typeof value;\n    return (type === 'string' || type === 'number' || type === 'symbol' || type === 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n};\n\nconst keysIn = (object) => {\n    const result = [];\n    for (const key in object) {\n        result.push(key);\n    }\n    return result;\n};\n\nconst toPlainObject = (value) => {\n    value = Object(value);\n    const result = {};\n    for (const key in value) {\n        result[key] = value[key];\n    }\n    return result;\n};\n\nconst safeGet = (object, key) => {\n    if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n    }\n\n    if (key == '__proto__') {\n        return;\n    }\n\n    return object[key];\n};\n\nfunction createAssigner(assigner, isMerge = false) {\n    return (object, ...sources) => {\n        let index = -1;\n        let length = sources.length;\n        let customizer = length > 1 ? sources[length - 1] : undefined;\n        const guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer === 'function')\n            ? (length--, customizer)\n            : isMerge ? (a, b) => {\n                if (Array.isArray(a) && !Array.isArray(b)) {\n                    return b;\n                }\n            } : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n            customizer = length < 3 ? undefined : customizer;\n            length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n            const source = sources[index];\n            if (source) {\n                assigner(object, source, index, customizer);\n            }\n        }\n        return object;\n    };\n}\n\nconst baseMerge = (object, source, srcIndex, customizer, stack) => {\n    if (object === source) {\n        return;\n    }\n\n    forIn(source, (srcValue, key) => {\n        if (isObject(srcValue)) {\n            stack || (stack = new Stack);\n            baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        } else {\n            let newValue = customizer\n                ? customizer(object[key], srcValue, `${key}`, object, source, stack)\n                : undefined;\n\n            if (newValue === undefined) {\n                newValue = srcValue;\n            }\n\n            assignMergeValue(object, key, newValue);\n        }\n    }, keysIn);\n};\n\nconst baseMergeDeep = (object, source, key, srcIndex, mergeFunc, customizer, stack) => {\n    const objValue = safeGet(object, key);\n    const srcValue = safeGet(source, key);\n    const stacked = stack.get(srcValue);\n\n    if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n    }\n\n    let newValue = customizer\n        ? customizer(objValue, srcValue, `${key}`, object, source, stack)\n        : undefined;\n\n    let isCommon = newValue === undefined;\n\n    if (isCommon) {\n        const isArr = Array.isArray(srcValue);\n        const isTyped = !isArr && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isTyped) {\n            if (Array.isArray(objValue)) {\n                newValue = objValue;\n            }\n            else if (isObjectLike(objValue) && isArrayLike(objValue)) {\n                newValue = copyArray(objValue);\n            }\n            else if (isTyped) {\n                isCommon = false;\n                newValue = cloneTypedArray(srcValue, true);\n            }\n            else {\n                newValue = [];\n            }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n            newValue = objValue;\n            if (isArguments(objValue)) {\n                newValue = toPlainObject(objValue);\n            }\n            else if (typeof objValue === 'function' || !isObject(objValue)) {\n                newValue = initCloneObject(srcValue);\n            }\n        }\n        else {\n            isCommon = false;\n        }\n    }\n    if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n    }\n    assignMergeValue(object, key, newValue);\n};\n\nconst assignMergeValue = (object, key, value) => {\n    if ((value !== undefined && !eq(object[key], value)) ||\n        (value === undefined && !(key in object))) {\n        assignValue(object, key, value);\n    }\n};\n\nfunction baseFor(object, iteratee, keysFunc) {\n    const iterable = Object(object);\n    const props = keysFunc(object);\n    let { length } = props;\n    let index = -1;\n\n    while (length--) {\n        const key = props[++index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n        }\n    }\n    return object;\n}\n\nconst baseForOwn = (object, iteratee) => {\n    return object && baseFor(object, iteratee, keys);\n};\n\nconst baseEach = (collection, iteratee) => {\n    if (collection == null) {\n        return collection;\n    }\n    if (!isArrayLike(collection)) {\n        return baseForOwn(collection, iteratee);\n    }\n    const length = collection.length;\n    const iterable = Object(collection);\n    let index = -1;\n\n    while (++index < length) {\n        if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n        }\n    }\n    return collection;\n};\n\nfunction last(array) {\n    const length = array == null ? 0 : array.length;\n    return length ? array[length - 1] : undefined;\n}\n\nconst createSet = (Set && (1 / setToArray(new Set([undefined,-0]))[1]) == 1 / 0)\n    ? (values) => new Set(values)\n    : () => {};\n\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n    if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n    }\n    return objValue;\n}\n\nfunction baseOrderBy(collection, iteratees, orders) {\n    if (iteratees.length) {\n        iteratees = iteratees.map((iteratee) => {\n            if (Array.isArray(iteratee)) {\n                return (value) => get(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n\n            return iteratee;\n        });\n    } else {\n        iteratees = [(value) => value];\n    }\n\n    let criteriaIndex = -1;\n    let eachIndex = -1;\n\n    const result = isArrayLike(collection) ? new Array(collection.length) : [];\n\n    baseEach(collection, (value) => {\n        const criteria = iteratees.map((iteratee) => iteratee(value));\n\n        result[++eachIndex] = {\n            criteria,\n            index: ++criteriaIndex,\n            value\n        };\n    });\n\n    return baseSortBy(result, (object, other) => compareMultiple(object, other, orders));\n}\n\nfunction baseSortBy(array, comparer) {\n    let { length } = array;\n\n    array.sort(comparer);\n    while (length--) {\n        array[length] = array[length].value;\n    }\n    return array;\n}\n\nfunction isStrictComparable(value) {\n    return value === value && !isObject(value);\n}\n\nfunction matchesStrictComparable(key, srcValue) {\n    return (object) => {\n        if (object == null) {\n            return false;\n        }\n        return object[key] === srcValue &&\n            (srcValue !== undefined || (key in Object(object)));\n    };\n}\n\nfunction hasIn(object, path) {\n    return object != null && hasPath(object, path, baseHasIn);\n}\n\nfunction baseMatchesProperty(path, srcValue) {\n    if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n    }\n    return (object) => {\n        const objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n            ? hasIn(object, path)\n            : baseIsEqual(srcValue, objValue);\n    };\n}\n\nfunction baseMatches(source) {\n    const matchData = getMatchData(source);\n    if (matchData.length === 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n    }\n    return (object) => object === source || baseIsMatch(object, source, matchData);\n}\n\nfunction getMatchData(object) {\n    const result = keys(object);\n    let length = result.length;\n\n    while (length--) {\n        const key = result[length];\n        const value = object[key];\n        result[length] = [key, value, isStrictComparable(value)];\n    }\n    return result;\n}\n\nfunction baseIsMatch(object, source, matchData, customizer) {\n    let index = matchData.length;\n    const length = index;\n    const noCustomizer = !customizer;\n\n    if (object == null) {\n        return !length;\n    }\n    let data;\n    let result;\n    object = Object(object);\n    while (index--) {\n        data = matchData[index];\n        if ((noCustomizer && data[2])\n            ? data[1] !== object[data[0]]\n            : !(data[0] in object)\n        ) {\n            return false;\n        }\n    }\n    while (++index < length) {\n        data = matchData[index];\n        const key = data[0];\n        const objValue = object[key];\n        const srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n            if (objValue === undefined && !(key in object)) {\n                return false;\n            }\n        } else {\n            const stack = new Stack;\n            if (customizer) {\n                result = customizer(objValue, srcValue, key, object, source, stack);\n            }\n            if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, stack)\n                : result\n            )) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nfunction property(path) {\n    return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nfunction baseProperty(key) {\n    return (object) => object == null ? undefined : object[key];\n}\n\nfunction basePropertyDeep(path) {\n    return (object) => get(object, path);\n}\n\nfunction baseIteratee(value) {\n    if (typeof value == 'function') {\n        return value;\n    }\n    if (value == null) {\n        return (val) => val;\n    }\n    if (typeof value == 'object') {\n        return Array.isArray(value)\n            ? baseMatchesProperty(value[0], value[1])\n            : baseMatches(value);\n    }\n    return property(value);\n}\n\nfunction getIteratee() {\n    const result = baseIteratee;\n    return arguments.length ? result(arguments[0], arguments[1]) : result;\n}\n\nconst arrayReduce = (array, iteratee, accumulator, initAccum) => {\n    let index = -1;\n    const length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n        accumulator = array[++index];\n    }\n    while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n};\n\nconst baseReduce = (collection, iteratee, accumulator, initAccum, eachFunc) => {\n    eachFunc(collection, (value, index, collection) => {\n        accumulator = initAccum\n            ? (initAccum = false, value)\n            : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n};\n\nfunction reduce(collection, iteratee, accumulator) {\n    const func = Array.isArray(collection) ? arrayReduce : baseReduce;\n    const initAccum = arguments.length < 3;\n    return func(collection, iteratee, accumulator, initAccum, baseEach);\n}\n\nconst isFlattenable = (value) => {\n    return Array.isArray(value) || isArguments(value) ||\n    !!(value && value[Symbol.isConcatSpreadable]);\n};\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n    let index = -1;\n    const length = array.length;\n\n    predicate || (predicate = isFlattenable);\n    result || (result = []);\n\n    while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n            if (depth > 1) {\n                // Recursively flatten arrays (susceptible to call stack limits).\n                baseFlatten(value, depth - 1, predicate, isStrict, result);\n            } else {\n                result.push(...value);\n            }\n        } else if (!isStrict) {\n            result[result.length] = value;\n        }\n    }\n    return result;\n}\n\nconst isArguments = (value) => {\n    return isObjectLike(value) && getTag(value) == '[object Arguments]';\n};\n\nconst basePick = (object, paths) => {\n    return basePickBy(object, paths, (value, path) => hasIn(object, path));\n};\n\nconst basePickBy = (object, paths, predicate) => {\n    let index = -1;\n    const length = paths.length;\n    const result = {};\n\n    while (++index < length) {\n        const path = paths[index];\n        const value = get(object, path);\n        if (predicate(value, path)) {\n            set(result, castPath(path, object), value);\n        }\n    }\n    return result;\n};\n\nconst isLength = (value) => {\n    return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= Number.MAX_SAFE_INTEGER;\n};\n\nconst baseHasIn = (object, key) =>{\n    return object != null && key in Object(object);\n};\n\nconst hasPath = (object, path, hasFunc) => {\n    path = castPath(path, object);\n\n    var index = -1,\n        length = path.length,\n        result = false;\n\n    while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n            break;\n        }\n        object = object[key];\n    }\n    if (result || ++index != length) {\n        return result;\n    }\n    length = object == null ? 0 : object.length;\n    return !!length && isLength(length) && isIndex(key, length) &&\n        (Array.isArray(object) || isArguments(object));\n};\n\nconst asciiWords = (string) => {\n    return string.match(reAsciiWord);\n};\n\nconst unicodeWords = (string) => {\n    return string.match(reUnicodeWords);\n};\n\nconst words = (string, pattern) => {\n    if (pattern === undefined) {\n        const result = hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n        return result || [];\n    }\n    return string.match(pattern) || [];\n};\n\nconst castSlice = (array, start, end) => {\n    const { length } = array;\n    end = end === undefined ? length : end;\n    return (!start && end >= length) ? array : array.slice(start, end);\n};\n\nconst upperFirst = createCaseFirst('toUpperCase');\n\nfunction createCaseFirst(methodName) {\n    return (string) => {\n        if (!string) {\n            return '';\n        }\n\n        const strSymbols = hasUnicode(string)\n            ? stringToArray(string)\n            : undefined;\n\n        const chr = strSymbols\n            ? strSymbols[0]\n            : string[0];\n\n        const trailing = strSymbols\n            ? castSlice(strSymbols, 1).join('')\n            : string.slice(1);\n\n        return chr[methodName]() + trailing;\n    };\n}\n\n// -- helper classes\nclass Stack {\n    constructor(entries) {\n        const data = this.__data__ = new ListCache(entries);\n        this.size = data.size;\n    }\n\n    clear() {\n        this.__data__ = new ListCache;\n        this.size = 0;\n    }\n\n    delete(key) {\n        const data = this.__data__;\n        const result = data['delete'](key);\n\n        this.size = data.size;\n        return result;\n    }\n\n    get(key) {\n        return this.__data__.get(key);\n    }\n\n    has(key) {\n        return this.__data__.has(key);\n    }\n\n    set(key, value) {\n        let data = this.__data__;\n        if (data instanceof ListCache) {\n            const pairs = data.__data__;\n            if (pairs.length < LARGE_ARRAY_SIZE - 1) {\n                pairs.push([key, value]);\n                this.size = ++data.size;\n                return this;\n            }\n            data = this.__data__ = new MapCache(pairs);\n        }\n        data.set(key, value);\n        this.size = data.size;\n        return this;\n    }\n}\n\nclass ListCache {\n    constructor(entries) {\n        let index = -1;\n        const length = entries == null ? 0 : entries.length;\n\n        this.clear();\n        while (++index < length) {\n            const entry = entries[index];\n            this.set(entry[0], entry[1]);\n        }\n    }\n\n    clear() {\n        this.__data__ = [];\n        this.size = 0;\n    }\n\n    delete(key) {\n        const data = this.__data__;\n        const index = assocIndexOf(data, key);\n\n        if (index < 0) {\n            return false;\n        }\n        const lastIndex = data.length - 1;\n        if (index == lastIndex) {\n            data.pop();\n        } else {\n            data.splice(index, 1);\n        }\n        --this.size;\n        return true;\n    }\n\n    get(key) {\n        const data = this.__data__;\n        const index = assocIndexOf(data, key);\n        return index < 0 ? undefined : data[index][1];\n    }\n\n    has(key) {\n        return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    set(key, value) {\n        const data = this.__data__;\n        const index = assocIndexOf(data, key);\n\n        if (index < 0) {\n            ++this.size;\n            data.push([key, value]);\n        } else {\n            data[index][1] = value;\n        }\n        return this;\n    }\n}\n\nclass MapCache {\n    constructor(entries) {\n        let index = -1;\n        const length = entries == null ? 0 : entries.length;\n\n        this.clear();\n        while (++index < length) {\n            const entry = entries[index];\n            this.set(entry[0], entry[1]);\n        }\n    }\n\n    clear() {\n        this.size = 0;\n        this.__data__ = {\n            'hash': new Hash,\n            'map': new Map,\n            'string': new Hash\n        };\n    }\n\n    delete(key) {\n        const result = getMapData(this, key)['delete'](key);\n        this.size -= result ? 1 : 0;\n        return result;\n    }\n\n    get(key) {\n        return getMapData(this, key).get(key);\n    }\n\n    has(key) {\n        return getMapData(this, key).has(key);\n    }\n\n    set(key, value) {\n        const data = getMapData(this, key);\n        const size = data.size;\n\n        data.set(key, value);\n        this.size += data.size == size ? 0 : 1;\n        return this;\n    }\n}\n\nclass Hash {\n    constructor(entries) {\n        let index = -1;\n        const length = entries == null ? 0 : entries.length;\n\n        this.clear();\n        while (++index < length) {\n            const entry = entries[index];\n            this.set(entry[0], entry[1]);\n        }\n    }\n\n    clear() {\n        this.__data__ = Object.create(null);\n        this.size = 0;\n    }\n\n    delete(key) {\n        const result = this.has(key) && delete this.__data__[key];\n        this.size -= result ? 1 : 0;\n        return result;\n    }\n\n    get(key) {\n        const data = this.__data__;\n        const result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n    }\n\n    has(key) {\n        const data = this.__data__;\n        return data[key] !== undefined;\n    }\n\n    set(key, value) {\n        const data = this.__data__;\n        this.size += this.has(key) ? 0 : 1;\n        data[key] = value === undefined ? HASH_UNDEFINED : value;\n        return this;\n    }\n}\n\nclass SetCache {\n    constructor(values) {\n        let index = -1;\n        const length = values == null ? 0 : values.length;\n\n        this.__data__ = new MapCache;\n        while (++index < length) {\n            this.add(values[index]);\n        }\n    }\n\n    add(value) {\n        this.__data__.set(value, HASH_UNDEFINED);\n        return this;\n    }\n\n    has(value) {\n        return this.__data__.has(value);\n    }\n}\n\nSetCache.prototype.push = SetCache.prototype.add;\n\n// -- top level functions\n\nexport const isBoolean = function(value) {\n    var toString = Object.prototype.toString;\n    return value === true || value === false || (!!value && typeof value === 'object' && toString.call(value) === boolTag);\n};\n\nexport const isObject = function(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function');\n};\n\nexport const isNumber = function(value) {\n    var toString = Object.prototype.toString;\n    return typeof value === 'number' || (!!value && typeof value === 'object' && toString.call(value) === numberTag);\n};\n\nexport const isString = function(value) {\n    var toString = Object.prototype.toString;\n    return typeof value === 'string' || (!!value && typeof value === 'object' && toString.call(value) === stringTag);\n};\n\nexport const assign = createAssigner((object, source) => {\n    if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n    }\n    for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n            assignValue(object, key, source[key]);\n        }\n    }\n});\n\nexport const mixin = assign;\n\nexport const deepMixin = mixin;\n\nexport const supplement = (object, ...sources) => {\n    let index = -1;\n    let length = sources.length;\n    const guard = length > 2 ? sources[2] : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n    }\n\n    while (++index < length) {\n        const source = sources[index];\n\n        if (source == null) {\n            continue;\n        }\n\n        const props = Object.keys(source);\n        const propsLength = props.length;\n        let propsIndex = -1;\n\n        while (++propsIndex < propsLength) {\n            const key = props[propsIndex];\n            const value = object[key];\n\n            if (value === undefined ||\n                (eq(value, Object.prototype[key]) && !hasOwnProperty.call(object, key))) {\n                object[key] = source[key];\n            }\n        }\n    }\n\n    return object;\n};\n\nexport const defaults = supplement;\n\nexport const deepSupplement = function defaultsDeep(...args) {\n    args.push(undefined, customDefaultsMerge);\n    return merge.apply(undefined, args);\n};\n\nexport const defaultsDeep = deepSupplement;\n\n// _.invokeMap\nexport const invoke = (collection, path, ...args) => {\n    let index = -1;\n    const isFunc = typeof path === 'function';\n    const result = isArrayLike(collection) ? new Array(collection.length) : [];\n\n    baseEach(collection, (value) => {\n        result[++index] = isFunc ? path.apply(value, args) : invokeProperty(value, path, ...args);\n    });\n\n    return result;\n};\n\n// _.invoke\nexport const invokeProperty = (object, path, ...args) => {\n    path = castPath(path, object);\n    object = parent(object, path);\n    const func = object == null ? object : object[toKey(last(path))];\n    return func == null ? undefined : func.apply(object, args);\n};\n\nexport const sortedIndex = (array, value, iteratee) => {\n    let low = 0;\n    let high = array == null ? 0 : array.length;\n    if (high == 0) {\n        return 0;\n    }\n\n    iteratee = getIteratee(iteratee, 2);\n    value = iteratee(value);\n\n    const valIsNaN = value !== value;\n    const valIsNull = value === null;\n    const valIsSymbol = isSymbol(value);\n    const valIsUndefined = value === undefined;\n\n    while (low < high) {\n        let setLow;\n        const mid = Math.floor((low + high) / 2);\n        const computed = iteratee(array[mid]);\n        const othIsDefined = computed !== undefined;\n        const othIsNull = computed === null;\n        const othIsReflexive = computed === computed;\n        const othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n            setLow = othIsReflexive;\n        } else if (valIsUndefined) {\n            setLow = othIsReflexive &&othIsDefined;\n        } else if (valIsNull) {\n            setLow = othIsReflexive && othIsDefined && !othIsNull;\n        } else if (valIsSymbol) {\n            setLow = othIsReflexive && othIsDefined && !othIsNull && !othIsSymbol;\n        } else if (othIsNull || othIsSymbol) {\n            setLow = false;\n        } else {\n            setLow = computed < value;\n        }\n        if (setLow) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n    return Math.min(high, MAX_ARRAY_INDEX);\n};\n\nexport const uniq = (array, iteratee) => {\n    let index = -1;\n    let includes = (array, value) => {\n        const length = array == null ? 0 : array.length;\n        return !!length && array.indexOf(value) > -1;\n    };\n    iteratee = getIteratee(iteratee, 2);\n    let isCommon = true;\n\n    const { length } = array;\n    const result = [];\n    let seen = result;\n\n    if (length >= LARGE_ARRAY_SIZE) {\n        const set = iteratee ? null : createSet(array);\n        if (set) {\n            return setToArray(set);\n        }\n        isCommon = false;\n        includes = (cache, key) => cache.has(key);\n        seen = new SetCache;\n    } else {\n        seen = iteratee ? [] : result;\n    }\n    outer:\n    while (++index < length) {\n        let value = array[index];\n        const computed = iteratee ? iteratee(value) : value;\n\n        value = (value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n            let seenIndex = seen.length;\n            while (seenIndex--) {\n                if (seen[seenIndex] === computed) {\n                    continue outer;\n                }\n            }\n            if (iteratee) {\n                seen.push(computed);\n            }\n            result.push(value);\n        }\n        else if (!includes(seen, computed)) {\n            if (seen !== result) {\n                seen.push(computed);\n            }\n            result.push(value);\n        }\n    }\n    return result;\n};\n\nexport const clone = (value) => baseClone(value);\n\nexport const cloneDeep = (value) => baseClone(value, true);\n\nexport const isEmpty = (value) => {\n    if (value == null) {\n        return true;\n    }\n    if (isArrayLike(value) &&\n        (Array.isArray(value) || typeof value === 'string' || typeof value.splice === 'function' ||\n            isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n    }\n    const tag = getTag(value);\n    if (tag == '[object Map]' || tag == '[object Set]') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !baseKeys(value).length;\n    }\n    for (const key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n};\nexport const isEqual = (object, other) => baseIsEqual(object, other);\n\nexport const isFunction = (value) => typeof value === 'function';\n\nexport const isPlainObject = (value) => {\n    if (!isObjectLike(value) || getTag(value) != '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    let proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\n\nexport const toArray = (value) => {\n    if (!value) {\n        return [];\n    }\n\n    if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n    }\n\n    if (Symbol.iterator && Symbol.iterator in Object(value)) {\n        const iterator = value[Symbol.iterator]();\n        let data;\n        const result = [];\n\n        while (!(data = iterator.next()).done) {\n            result.push(data.value);\n        }\n        return result;\n    }\n\n    const tag = getTag(value);\n    const func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n    return func(value);\n};\n\nexport function debounce(func, wait, opt) {\n    if (typeof func !== 'function') {\n        throw new TypeError('Expected a function');\n    }\n\n    let lastArgs;\n    let lastThis;\n    let maxWait;\n    let result;\n    let timerId;\n    let lastCallTime;\n    let lastInvokeTime = 0;\n    let leading = false;\n    let maxing = false;\n    let trailing = true;\n\n    const useRaf = (!wait && wait !== 0 && window && typeof window.requestAnimationFrame === 'function');\n\n    wait = +wait || 0;\n\n    if (isObject(opt)) {\n        leading = !!opt.leading;\n        maxing = 'maxWait' in opt;\n        maxWait = maxing ? Math.max(+opt.maxWait || 0, wait) : maxWait;\n        trailing = 'trailing' in opt ? !!opt.trailing : trailing;\n    }\n\n    function invokeFunc(time) {\n        const args = lastArgs;\n        const thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n    }\n\n    function startTimer(pendingFunc, wait) {\n        if (useRaf) {\n            window.cancelAnimationFrame(timerId);\n            return window.requestAnimationFrame(pendingFunc);\n        }\n        return setTimeout(pendingFunc, wait);\n    }\n\n    function cancelTimer(id) {\n        if (useRaf) {\n            return window.cancelAnimationFrame(id);\n        }\n        clearTimeout(id);\n    }\n\n    function leadingEdge(time) {\n        lastInvokeTime = time;\n        timerId = startTimer(timerExpired, wait);\n        return leading ? invokeFunc(time) : result;\n    }\n\n    function remainingWait(time) {\n        const timeSinceLastCall = time - lastCallTime;\n        const timeSinceLastInvoke = time - lastInvokeTime;\n        const timeWaiting = wait - timeSinceLastCall;\n\n        return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n    }\n\n    function shouldInvoke(time) {\n        const timeSinceLastCall = time - lastCallTime;\n        const timeSinceLastInvoke = time - lastInvokeTime;\n\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) || (timeSinceLastCall < 0) ||\n            (maxing && timeSinceLastInvoke >= maxWait));\n    }\n\n    function timerExpired() {\n        const time = Date.now();\n        if (shouldInvoke(time)) {\n            return trailingEdge(time);\n        }\n        timerId = startTimer(timerExpired, remainingWait(time));\n    }\n\n    function trailingEdge(time) {\n        timerId = undefined;\n\n        if (trailing && lastArgs) {\n            return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n    }\n\n    function debounced(...args) {\n        const time = Date.now();\n        const isInvoking = shouldInvoke(time);\n\n        lastArgs = args;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n            if (timerId === undefined) {\n                return leadingEdge(lastCallTime);\n            }\n            if (maxing) {\n                timerId = startTimer(timerExpired, wait);\n                return invokeFunc(lastCallTime);\n            }\n        }\n        if (timerId === undefined) {\n            timerId = startTimer(timerExpired, wait);\n        }\n        return result;\n    }\n\n    debounced.cancel = () => {\n        if (timerId !== undefined) {\n            cancelTimer(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n    };\n    debounced.flush = () => timerId === undefined ? result : trailingEdge(Date.now());\n    debounced.pending = () => timerId !== undefined;\n\n    return debounced;\n}\n\nexport const groupBy = (collection, iteratee) => {\n    iteratee = getIteratee(iteratee, 2);\n\n    return reduce(collection, (result, value, key) => {\n        key = iteratee(value);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(value);\n        } else {\n            assignValue(result, key, [value]);\n        }\n        return result;\n    }, {});\n};\n\nexport const sortBy = (collection, iteratees = []) => {\n    if (collection == null) {\n        return [];\n    }\n\n    const length = iteratees.length;\n    if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n    } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n    }\n\n    if (!Array.isArray(iteratees)) {\n        iteratees = [getIteratee(iteratees, 2)];\n    }\n\n    return baseOrderBy(collection, iteratees.flat(1), []);\n};\n\nexport const flattenDeep = (array) => {\n    const length = array == null ? 0 : array.length;\n    return length ? baseFlatten(array, Infinity) : [];\n};\n\nexport const without = (array, ...values) => isArrayLike(array) ? diff(array, values) : [];\n\nexport const difference = (array, ...values) =>\n    isObjectLike(array) && isArrayLike(array) ?\n        diff(array, values.flat(1)) : [];\n\nexport const intersection = (...arrays) => {\n    const mapped = arrays.map((array) =>\n        isObjectLike(array) && isArrayLike(array) ?\n            array : []\n    );\n\n    return mapped.length && mapped[0] === arrays[0] ?\n        intersect(mapped) : [];\n};\n\nexport const union = (...arrays) => {\n    const array = arrays.flat(1);\n    return uniq(array);\n};\n\nexport const has = (object, key) => {\n    if (object == null) {\n        return false;\n    }\n\n    if (typeof key === 'string') {\n        key = key.split('.');\n    }\n\n    let index = -1;\n    let value = object;\n\n    while (++index < key.length) {\n        if (!value || !hasOwnProperty.call(value, key[index])) {\n            return false;\n        }\n        value = value[key[index]];\n    }\n\n    return true;\n};\n\nexport const result = (object, path, defaultValue) => {\n    path = castPath(path, object);\n\n    let index = -1;\n    let length = path.length;\n\n    if (!length) {\n        length = 1;\n        object = undefined;\n    }\n    while (++index < length) {\n        let value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n            index = length;\n            value = defaultValue;\n        }\n        object = typeof value === 'function' ? value.call(object) : value;\n    }\n    return object;\n};\n\nexport const omit = (object, ...paths) => {\n    let result = {};\n    if (object == null) {\n        return result;\n    }\n    let isDeep = false;\n    paths = paths.flat(1).map((path) => {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n    });\n    copyObject(object, getAllKeysIn(object), result);\n    if (isDeep) {\n        result = baseClone(result, true, true, true, (value) => isPlainObject(value) ? undefined : value);\n    }\n    let length = paths.length;\n    while (length--) {\n        unset(result, paths[length]);\n    }\n    return result;\n};\n\nexport const pick = (object, ...paths) => {\n    return object == null ? {} : basePick(object, paths.flat(Infinity));\n};\n\nexport const bindAll = (object, ...methodNames) => {\n    methodNames.flat(1).forEach((key) => {\n        key = toKey(key);\n        assignValue(object, key, object[key].bind(object));\n    });\n    return object;\n};\n\nexport const forIn = (object, iteratee = (value) => value) => {\n    let index = -1;\n    const iterable = Object(object);\n    const props = isArrayLike(object) ? arrayLikeKeys(object, true) : keysIn(object);\n    let length = props.length;\n\n    while(length--) {\n        const key = props[++index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n        }\n    }\n};\n\nexport const camelCase = (string = '') => (\n    words(`${string}`.replace(/['\\u2019]/g, ''))\n        .reduce((result, word, index) => {\n            word = word.toLowerCase();\n            return result + (index ? upperFirst(word) : word);\n        }, '')\n);\n\nlet idCounter = 0;\n\nexport const uniqueId = (prefix = '') => {\n    const id = ++idCounter;\n    return `${prefix}` + id;\n};\n\nexport const merge = createAssigner((object, source, srcIndex, customizer) => {\n    baseMerge(object, source, srcIndex, customizer);\n}, true);\n", "import { uniq, toArray, isEmpty } from './util.mjs';\n\n// Clone `cells` returning an object that maps the original cell ID to the clone. The number\n// of clones is exactly the same as the `cells.length`.\n// This function simply clones all the `cells`. However, it also reconstructs\n// all the `source/target` and `parent/embed` references within the `cells`.\n// This is the main difference from the `cell.clone()` method. The\n// `cell.clone()` method works on one single cell only.\n// For example, for a graph: `A --- L ---> B`, `cloneCells([A, L, B])`\n// returns `[A2, L2, B2]` resulting to a graph: `A2 --- L2 ---> B2`, i.e.\n// the source and target of the link `L2` is changed to point to `A2` and `B2`.\nexport function cloneCells(cells) {\n\n    cells = uniq(cells);\n\n    // A map of the form [original cell ID] -> [clone] helping\n    // us to reconstruct references for source/target and parent/embeds.\n    // This is also the returned value.\n    const cloneMap = toArray(cells).reduce(function(map, cell) {\n        map[cell.id] = cell.clone();\n        return map;\n    }, {});\n\n    toArray(cells).forEach(function(cell) {\n\n        const clone = cloneMap[cell.id];\n        // assert(clone exists)\n\n        if (clone.isLink()) {\n            const source = clone.source();\n            const target = clone.target();\n            if (source.id && cloneMap[source.id]) {\n                // Source points to an element and the element is among the clones.\n                // => Update the source of the cloned link.\n                clone.prop('source/id', cloneMap[source.id].id);\n            }\n            if (target.id && cloneMap[target.id]) {\n                // Target points to an element and the element is among the clones.\n                // => Update the target of the cloned link.\n                clone.prop('target/id', cloneMap[target.id].id);\n            }\n        }\n\n        // Find the parent of the original cell\n        const parent = cell.get('parent');\n        if (parent && cloneMap[parent]) {\n            clone.set('parent', cloneMap[parent].id);\n        }\n\n        // Find the embeds of the original cell\n        const embeds = toArray(cell.get('embeds')).reduce(function(newEmbeds, embed) {\n            // Embedded cells that are not being cloned can not be carried\n            // over with other embedded cells.\n            if (cloneMap[embed]) {\n                newEmbeds.push(cloneMap[embed].id);\n            }\n            return newEmbeds;\n        }, []);\n\n        if (!isEmpty(embeds)) {\n            clone.set('embeds', embeds);\n        }\n    });\n\n    return cloneMap;\n}\n\n", "import { isPlainObject } from '../../util/util.mjs';\n\nconst validPropertiesList = ['checked', 'selected', 'disabled', 'readOnly', 'contentEditable', 'value', 'indeterminate'];\n\nconst validProperties = validPropertiesList.reduce((acc, key) => {\n    acc[key] = true;\n    return acc;\n}, {});\n\nconst props = {\n    qualify: function(properties) {\n        return isPlainObject(properties);\n    },\n    set: function(properties, _, node) {\n        Object.keys(properties).forEach(function(key) {\n            if (validProperties[key] && key in node) {\n                const value = properties[key];\n                if (node.tagName === 'SELECT' && Array.isArray(value)) {\n                    Array.from(node.options).forEach(function(option, index) {\n                        option.selected = value.includes(option.value);\n                    });\n                } else {\n                    node[key] = value;\n                }\n            }\n        });\n    }\n};\n\nexport default props;\n", "import { Point, Path, Polyline } from '../../g/index.mjs';\nimport { assign, isPlainObject, isObject, isPercentage, breakText } from '../../util/util.mjs';\nimport { isCalcAttribute, evalCalcAttribute } from './calc.mjs';\nimport props from './props.mjs';\nimport $ from 'jquery';\nimport V from '../../V/index.mjs';\n\nfunction setWrapper(attrName, dimension) {\n    return function(value, refBBox) {\n        var isValuePercentage = isPercentage(value);\n        value = parseFloat(value);\n        if (isValuePercentage) {\n            value /= 100;\n        }\n\n        var attrs = {};\n        if (isFinite(value)) {\n            var attrValue = (isValuePercentage || value >= 0 && value <= 1)\n                ? value * refBBox[dimension]\n                : Math.max(value + refBBox[dimension], 0);\n            attrs[attrName] = attrValue;\n        }\n\n        return attrs;\n    };\n}\n\nfunction positionWrapper(axis, dimension, origin) {\n    return function(value, refBBox) {\n        var valuePercentage = isPercentage(value);\n        value = parseFloat(value);\n        if (valuePercentage) {\n            value /= 100;\n        }\n\n        var delta;\n        if (isFinite(value)) {\n            var refOrigin = refBBox[origin]();\n            if (valuePercentage || value > 0 && value < 1) {\n                delta = refOrigin[axis] + refBBox[dimension] * value;\n            } else {\n                delta = refOrigin[axis] + value;\n            }\n        }\n\n        var point = Point();\n        point[axis] = delta || 0;\n        return point;\n    };\n}\n\nfunction offsetWrapper(axis, dimension, corner) {\n    return function(value, nodeBBox) {\n        var delta;\n        if (value === 'middle') {\n            delta = nodeBBox[dimension] / 2;\n        } else if (value === corner) {\n            delta = nodeBBox[dimension];\n        } else if (isFinite(value)) {\n            // TODO: or not to do a breaking change?\n            delta = (value > -1 && value < 1) ? (-nodeBBox[dimension] * value) : -value;\n        } else if (isPercentage(value)) {\n            delta = nodeBBox[dimension] * parseFloat(value) / 100;\n        } else {\n            delta = 0;\n        }\n\n        var point = Point();\n        point[axis] = -(nodeBBox[axis] + delta);\n        return point;\n    };\n}\n\nfunction shapeWrapper(shapeConstructor, opt) {\n    var cacheName = 'joint-shape';\n    var resetOffset = opt && opt.resetOffset;\n    return function(value, refBBox, node) {\n        var $node = $(node);\n        var cache = $node.data(cacheName);\n        if (!cache || cache.value !== value) {\n            // only recalculate if value has changed\n            var cachedShape = shapeConstructor(value);\n            cache = {\n                value: value,\n                shape: cachedShape,\n                shapeBBox: cachedShape.bbox()\n            };\n            $node.data(cacheName, cache);\n        }\n\n        var shape = cache.shape.clone();\n        var shapeBBox = cache.shapeBBox.clone();\n        var shapeOrigin = shapeBBox.origin();\n        var refOrigin = refBBox.origin();\n\n        shapeBBox.x = refOrigin.x;\n        shapeBBox.y = refOrigin.y;\n\n        var fitScale = refBBox.maxRectScaleToFit(shapeBBox, refOrigin);\n        // `maxRectScaleToFit` can give Infinity if width or height is 0\n        var sx = (shapeBBox.width === 0 || refBBox.width === 0) ? 1 : fitScale.sx;\n        var sy = (shapeBBox.height === 0 || refBBox.height === 0) ? 1 : fitScale.sy;\n\n        shape.scale(sx, sy, shapeOrigin);\n        if (resetOffset) {\n            shape.translate(-shapeOrigin.x, -shapeOrigin.y);\n        }\n\n        return shape;\n    };\n}\n\n// `d` attribute for SVGPaths\nfunction dWrapper(opt) {\n    function pathConstructor(value) {\n        return new Path(V.normalizePathData(value));\n    }\n\n    var shape = shapeWrapper(pathConstructor, opt);\n    return function(value, refBBox, node) {\n        var path = shape(value, refBBox, node);\n        return {\n            d: path.serialize()\n        };\n    };\n}\n\n// `points` attribute for SVGPolylines and SVGPolygons\nfunction pointsWrapper(opt) {\n    var shape = shapeWrapper(Polyline, opt);\n    return function(value, refBBox, node) {\n        var polyline = shape(value, refBBox, node);\n        return {\n            points: polyline.serialize()\n        };\n    };\n}\n\nfunction atConnectionWrapper(method, opt) {\n    var zeroVector = new Point(1, 0);\n    return function(value) {\n        var p, angle;\n        var tangent = this[method](value);\n        if (tangent) {\n            angle = (opt.rotate) ? tangent.vector().vectorAngle(zeroVector) : 0;\n            p = tangent.start;\n        } else {\n            p = this.path.start;\n            angle = 0;\n        }\n        if (angle === 0) return { transform: 'translate(' + p.x + ',' + p.y + ')' };\n        return { transform: 'translate(' + p.x + ',' + p.y + ') rotate(' + angle + ')' };\n    };\n}\n\nfunction setIfChangedWrapper(attribute) {\n    return function setIfChanged(value, _, node) {\n        const vel = V(node);\n        if (vel.attr(attribute) === value) return;\n        vel.attr(attribute, value);\n    };\n}\n\nfunction isTextInUse(_value, _node, attrs) {\n    return (attrs.text !== undefined);\n}\n\nfunction isLinkView() {\n    return this.model.isLink();\n}\n\nfunction contextMarker(context) {\n    var marker = {};\n    // Stroke\n    // The context 'fill' is disregared here. The usual case is to use the marker with a connection\n    // (for which 'fill' attribute is set to 'none').\n    var stroke = context.stroke;\n    if (typeof stroke === 'string') {\n        marker['stroke'] = stroke;\n        marker['fill'] = stroke;\n    }\n    // Opacity\n    // Again the context 'fill-opacity' is ignored.\n    var strokeOpacity = context.strokeOpacity;\n    if (strokeOpacity === undefined) strokeOpacity = context['stroke-opacity'];\n    if (strokeOpacity === undefined) strokeOpacity = context.opacity;\n    if (strokeOpacity !== undefined) {\n        marker['stroke-opacity'] = strokeOpacity;\n        marker['fill-opacity'] = strokeOpacity;\n    }\n    return marker;\n}\n\nfunction setPaintURL(def) {\n    const { paper } = this;\n    const url = (def.type === 'pattern')\n        ? paper.definePattern(def)\n        : paper.defineGradient(def);\n    return `url(#${url})`;\n}\n\nconst attributesNS = {\n\n    xlinkShow: {\n        set: 'xlink:show'\n    },\n\n    xlinkRole: {\n        set: 'xlink:role'\n    },\n\n    xlinkType: {\n        set: 'xlink:type'\n    },\n\n    xlinkArcrole: {\n        set: 'xlink:arcrole'\n    },\n\n    xlinkTitle: {\n        set: 'xlink:title'\n    },\n\n    xlinkActuate: {\n        set: 'xlink:actuate'\n    },\n\n    xmlSpace: {\n        set: 'xml:space'\n    },\n\n    xmlBase: {\n        set: 'xml:base'\n    },\n\n    xmlLang: {\n        set: 'xml:lang'\n    },\n\n    preserveAspectRatio: {\n        set: 'preserveAspectRatio'\n    },\n\n    requiredExtension: {\n        set: 'requiredExtension'\n    },\n\n    requiredFeatures: {\n        set: 'requiredFeatures'\n    },\n\n    systemLanguage: {\n        set: 'systemLanguage'\n    },\n\n    externalResourcesRequired: {\n        set: 'externalResourceRequired'\n    },\n\n    href: {\n        set: setIfChangedWrapper('href')\n    },\n\n    xlinkHref: {\n        set: setIfChangedWrapper('xlink:href')\n    },\n\n    filter: {\n        qualify: isPlainObject,\n        set: function(filter) {\n            return 'url(#' + this.paper.defineFilter(filter) + ')';\n        }\n    },\n\n    fill: {\n        qualify: isPlainObject,\n        set: setPaintURL\n    },\n\n    stroke: {\n        qualify: isPlainObject,\n        set: setPaintURL\n    },\n\n    sourceMarker: {\n        qualify: isPlainObject,\n        set: function(marker, refBBox, node, attrs) {\n            marker = assign(contextMarker(attrs), marker);\n            return { 'marker-start': 'url(#' + this.paper.defineMarker(marker) + ')' };\n        }\n    },\n\n    targetMarker: {\n        qualify: isPlainObject,\n        set: function(marker, refBBox, node, attrs) {\n            marker = assign(contextMarker(attrs), { 'transform': 'rotate(180)' }, marker);\n            return { 'marker-end': 'url(#' + this.paper.defineMarker(marker) + ')' };\n        }\n    },\n\n    vertexMarker: {\n        qualify: isPlainObject,\n        set: function(marker, refBBox, node, attrs) {\n            marker = assign(contextMarker(attrs), marker);\n            return { 'marker-mid': 'url(#' + this.paper.defineMarker(marker) + ')' };\n        }\n    },\n\n    text: {\n        qualify: function(_text, _node, attrs) {\n            return !attrs.textWrap || !isPlainObject(attrs.textWrap);\n        },\n        set: function(text, refBBox, node, attrs) {\n            const $node = $(node);\n            const cacheName = 'joint-text';\n            const cache = $node.data(cacheName);\n            const {\n                lineHeight,\n                annotations,\n                textVerticalAnchor,\n                eol,\n                displayEmpty\n            } = attrs;\n            let textPath = attrs.textPath;\n            // eval `x` if using calc()\n            let x = attrs.x;\n            if (isCalcAttribute(x)) {\n                x = evalCalcAttribute(x, refBBox);\n            }\n            // eval `font-size` if using calc()\n            let fontSize = attrs['font-size'] || attrs['fontSize'];\n            if (isCalcAttribute(fontSize)) {\n                fontSize = evalCalcAttribute(fontSize, refBBox);\n            }\n            // Update the text only if there was a change in the string\n            // or any of its attributes.\n            const textHash = JSON.stringify([text, lineHeight, annotations, textVerticalAnchor, eol, displayEmpty, textPath, x, fontSize]);\n            if (cache === undefined || cache !== textHash) {\n                // Chrome bug:\n                // <tspan> positions defined as `em` are not updated\n                // when container `font-size` change.\n                if (fontSize) node.setAttribute('font-size', fontSize);\n                // Text Along Path Selector\n                if (isObject(textPath)) {\n                    const pathSelector = textPath.selector;\n                    if (typeof pathSelector === 'string') {\n                        const [pathNode] = this.findBySelector(pathSelector);\n                        if (pathNode instanceof SVGPathElement) {\n                            textPath = assign({ 'xlink:href': '#' + pathNode.id }, textPath);\n                        }\n                    }\n                }\n                V(node).text('' + text, {\n                    lineHeight,\n                    annotations,\n                    textPath,\n                    x,\n                    textVerticalAnchor,\n                    eol,\n                    displayEmpty\n                });\n                $node.data(cacheName, textHash);\n            }\n        }\n    },\n\n    textWrap: {\n        qualify: isPlainObject,\n        set: function(value, refBBox, node, attrs) {\n            var size = {};\n            // option `width`\n            var width = value.width || 0;\n            if (isPercentage(width)) {\n                size.width = refBBox.width * parseFloat(width) / 100;\n            } else if (isCalcAttribute(width)) {\n                size.width = Number(evalCalcAttribute(width, refBBox));\n            } else {\n                if (value.width === null) {\n                    // breakText() requires width to be specified.\n                    size.width = Infinity;\n                } else if (width <= 0) {\n                    size.width = refBBox.width + width;\n                } else {\n                    size.width = width;\n                }\n            }\n            // option `height`\n            var height = value.height || 0;\n            if (isPercentage(height)) {\n                size.height = refBBox.height * parseFloat(height) / 100;\n            } else if (isCalcAttribute(height)) {\n                size.height = Number(evalCalcAttribute(height, refBBox));\n            } else {\n                if (value.height === null) {\n                    // if height is not specified breakText() does not\n                    // restrict the height of the text.\n                } else if (height <= 0) {\n                    size.height = refBBox.height + height;\n                } else {\n                    size.height = height;\n                }\n            }\n            // option `text`\n            var wrappedText;\n            var text = value.text;\n            if (text === undefined) text = attrs.text;\n            if (text !== undefined) {\n                const breakTextFn = value.breakText || breakText;\n                const fontSizeAttr = attrs['font-size'] || attrs.fontSize;\n                wrappedText = breakTextFn('' + text, size, {\n                    'font-weight': attrs['font-weight'] || attrs.fontWeight,\n                    'font-size': isCalcAttribute(fontSizeAttr) ? evalCalcAttribute(fontSizeAttr, refBBox) : fontSizeAttr,\n                    'font-family': attrs['font-family'] || attrs.fontFamily,\n                    'lineHeight': attrs.lineHeight,\n                    'letter-spacing': 'letter-spacing' in attrs ? attrs['letter-spacing'] : attrs.letterSpacing\n                }, {\n                    // Provide an existing SVG Document here\n                    // instead of creating a temporary one over again.\n                    svgDocument: this.paper.svg,\n                    ellipsis: value.ellipsis,\n                    hyphen: value.hyphen,\n                    separator: value.separator,\n                    maxLineCount: value.maxLineCount,\n                    preserveSpaces: value.preserveSpaces\n                });\n            } else {\n                wrappedText = '';\n            }\n            attributesNS.text.set.call(this, wrappedText, refBBox, node, attrs);\n        }\n    },\n\n    title: {\n        qualify: function(title, node) {\n            // HTMLElement title is specified via an attribute (i.e. not an element)\n            return node instanceof SVGElement;\n        },\n        set: function(title, refBBox, node) {\n            var $node = $(node);\n            var cacheName = 'joint-title';\n            var cache = $node.data(cacheName);\n            if (cache === undefined || cache !== title) {\n                $node.data(cacheName, title);\n                if (node.tagName === 'title') {\n                    // The target node is a <title> element.\n                    node.textContent = title;\n                    return;\n                }\n                // Generally <title> element should be the first child element of its parent.\n                var firstChild = node.firstElementChild;\n                if (firstChild && firstChild.tagName === 'title') {\n                    // Update an existing title\n                    firstChild.textContent = title;\n                } else {\n                    // Create a new title\n                    var titleNode = document.createElementNS(node.namespaceURI, 'title');\n                    titleNode.textContent = title;\n                    node.insertBefore(titleNode, firstChild);\n                }\n            }\n        }\n    },\n\n    lineHeight: {\n        qualify: isTextInUse\n    },\n\n    textVerticalAnchor: {\n        qualify: isTextInUse\n    },\n\n    textPath: {\n        qualify: isTextInUse\n    },\n\n    annotations: {\n        qualify: isTextInUse\n    },\n\n    eol: {\n        qualify: isTextInUse\n    },\n\n    displayEmpty: {\n        qualify: isTextInUse\n    },\n\n    // `port` attribute contains the `id` of the port that the underlying magnet represents.\n    port: {\n        set: function(port) {\n            return (port === null || port.id === undefined) ? port : port.id;\n        }\n    },\n\n    // `style` attribute is special in the sense that it sets the CSS style of the subelement.\n    style: {\n        qualify: isPlainObject,\n        set: function(styles, refBBox, node) {\n            $(node).css(styles);\n        }\n    },\n\n    html: {\n        set: function(html, refBBox, node) {\n            $(node).html(html + '');\n        }\n    },\n\n    // Properties setter (set various properties on the node)\n    props,\n\n    ref: {\n        // We do not set `ref` attribute directly on an element.\n        // The attribute itself does not qualify for relative positioning.\n    },\n\n    // if `refX` is in [0, 1] then `refX` is a fraction of bounding box width\n    // if `refX` is < 0 then `refX`'s absolute values is the right coordinate of the bounding box\n    // otherwise, `refX` is the left coordinate of the bounding box\n\n    refX: {\n        position: positionWrapper('x', 'width', 'origin')\n    },\n\n    refY: {\n        position: positionWrapper('y', 'height', 'origin')\n    },\n\n    // `ref-dx` and `ref-dy` define the offset of the subelement relative to the right and/or bottom\n    // coordinate of the reference element.\n\n    refDx: {\n        position: positionWrapper('x', 'width', 'corner')\n    },\n\n    refDy: {\n        position: positionWrapper('y', 'height', 'corner')\n    },\n\n    // 'ref-width'/'ref-height' defines the width/height of the subelement relatively to\n    // the reference element size\n    // val in 0..1         ref-width = 0.75 sets the width to 75% of the ref. el. width\n    // val < 0 || val > 1  ref-height = -20 sets the height to the ref. el. height shorter by 20\n\n    refWidth: {\n        set: setWrapper('width', 'width')\n    },\n\n    refHeight: {\n        set: setWrapper('height', 'height')\n    },\n\n    refRx: {\n        set: setWrapper('rx', 'width')\n    },\n\n    refRy: {\n        set: setWrapper('ry', 'height')\n    },\n\n    refRInscribed: {\n        set: (function(attrName) {\n            var widthFn = setWrapper(attrName, 'width');\n            var heightFn = setWrapper(attrName, 'height');\n            return function(value, refBBox) {\n                var fn = (refBBox.height > refBBox.width) ? widthFn : heightFn;\n                return fn(value, refBBox);\n            };\n        })('r')\n    },\n\n    refRCircumscribed: {\n        set: function(value, refBBox) {\n            var isValuePercentage = isPercentage(value);\n            value = parseFloat(value);\n            if (isValuePercentage) {\n                value /= 100;\n            }\n\n            var diagonalLength = Math.sqrt((refBBox.height * refBBox.height) + (refBBox.width * refBBox.width));\n\n            var rValue;\n            if (isFinite(value)) {\n                if (isValuePercentage || value >= 0 && value <= 1) rValue = value * diagonalLength;\n                else rValue = Math.max(value + diagonalLength, 0);\n            }\n\n            return { r: rValue };\n        }\n    },\n\n    refCx: {\n        set: setWrapper('cx', 'width')\n    },\n\n    refCy: {\n        set: setWrapper('cy', 'height')\n    },\n\n    // `x-alignment` when set to `middle` causes centering of the subelement around its new x coordinate.\n    // `x-alignment` when set to `right` uses the x coordinate as referenced to the right of the bbox.\n\n    xAlignment: {\n        offset: offsetWrapper('x', 'width', 'right')\n    },\n\n    // `y-alignment` when set to `middle` causes centering of the subelement around its new y coordinate.\n    // `y-alignment` when set to `bottom` uses the y coordinate as referenced to the bottom of the bbox.\n\n    yAlignment: {\n        offset: offsetWrapper('y', 'height', 'bottom')\n    },\n\n    resetOffset: {\n        offset: function(val, nodeBBox) {\n            return (val)\n                ? { x: -nodeBBox.x, y: -nodeBBox.y }\n                : { x: 0, y: 0 };\n        }\n\n    },\n\n    refDResetOffset: {\n        set: dWrapper({ resetOffset: true })\n    },\n\n    refDKeepOffset: {\n        set: dWrapper({ resetOffset: false })\n    },\n\n    refPointsResetOffset: {\n        set: pointsWrapper({ resetOffset: true })\n    },\n\n    refPointsKeepOffset: {\n        set: pointsWrapper({ resetOffset: false })\n    },\n\n    // LinkView Attributes\n\n    connection: {\n        qualify: isLinkView,\n        set: function({ stubs = 0 }) {\n            let d;\n            if (isFinite(stubs) && stubs !== 0) {\n                let offset;\n                if (stubs < 0) {\n                    offset = (this.getConnectionLength() + stubs) / 2;\n                } else {\n                    offset = stubs;\n                }\n                const path = this.getConnection();\n                const segmentSubdivisions = this.getConnectionSubdivisions();\n                const sourceParts = path.divideAtLength(offset, { segmentSubdivisions });\n                const targetParts = path.divideAtLength(-offset, { segmentSubdivisions });\n                if (sourceParts && targetParts) {\n                    d = `${sourceParts[0].serialize()} ${targetParts[1].serialize()}`;\n                }\n            }\n\n            return { d: d || this.getSerializedConnection() };\n        }\n    },\n\n    atConnectionLengthKeepGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtLength', { rotate: true })\n    },\n\n    atConnectionLengthIgnoreGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtLength', { rotate: false })\n    },\n\n    atConnectionRatioKeepGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtRatio', { rotate: true })\n    },\n\n    atConnectionRatioIgnoreGradient: {\n        qualify: isLinkView,\n        set: atConnectionWrapper('getTangentAtRatio', { rotate: false })\n    }\n};\n\nattributesNS['xlink:href'] = attributesNS.xlinkHref;\n\n// Support `calc()` with the following SVG attributes\n[\n    'transform', // g\n    'd', // path\n    'points', // polyline / polygon\n    'cx', 'cy', // circle / ellipse\n    'x1', 'x2', 'y1', 'y2', // line\n    'x', 'y', // rect / text / image\n    'dx', 'dy' // text\n].forEach(attribute => {\n    attributesNS[attribute] = {\n        qualify: isCalcAttribute,\n        set: function setCalcAttribute(value, refBBox) {\n            return { [attribute]: evalCalcAttribute(value, refBBox) };\n        }\n    };\n});\n\n// Prevent \"A negative value is not valid\" error.\n[\n    'width', 'height', // rect / image\n    'r', // circle\n    'rx', 'ry', // rect / ellipse\n    'font-size', // text\n    'stroke-width' // elements\n].forEach(attribute => {\n    attributesNS[attribute] = {\n        qualify: isCalcAttribute,\n        set: function setCalcAttribute(value, refBBox) {\n            return { [attribute]: Math.max(0, evalCalcAttribute(value, refBBox)) };\n        }\n    };\n});\n\n// Aliases\nattributesNS.refR = attributesNS.refRInscribed;\nattributesNS.refD = attributesNS.refDResetOffset;\nattributesNS.refPoints = attributesNS.refPointsResetOffset;\nattributesNS.atConnectionLength = attributesNS.atConnectionLengthKeepGradient;\nattributesNS.atConnectionRatio = attributesNS.atConnectionRatioKeepGradient;\nattributesNS.fontSize = attributesNS['font-size'];\nattributesNS.strokeWidth = attributesNS['stroke-width'];\n\n// This allows to combine both absolute and relative positioning\n// refX: 50%, refX2: 20\nattributesNS.refX2 = attributesNS.refX;\nattributesNS.refY2 = attributesNS.refY;\nattributesNS.refWidth2 = attributesNS.refWidth;\nattributesNS.refHeight2 = attributesNS.refHeight;\n\n// Aliases for backwards compatibility\nattributesNS['ref-x'] = attributesNS.refX;\nattributesNS['ref-y'] = attributesNS.refY;\nattributesNS['ref-dy'] = attributesNS.refDy;\nattributesNS['ref-dx'] = attributesNS.refDx;\nattributesNS['ref-width'] = attributesNS.refWidth;\nattributesNS['ref-height'] = attributesNS.refHeight;\nattributesNS['x-alignment'] = attributesNS.xAlignment;\nattributesNS['y-alignment'] = attributesNS.yAlignment;\n\nexport const attributes = attributesNS;\n\n", "import { Cell } from '../dia/Cell.mjs';\nimport { isFunction, isString, toArray } from './util.mjs';\n\nexport const wrapWith = function(object, methods, wrapper) {\n\n    if (isString(wrapper)) {\n\n        if (!wrappers[wrapper]) {\n            throw new Error('Unknown wrapper: \"' + wrapper + '\"');\n        }\n\n        wrapper = wrappers[wrapper];\n    }\n\n    if (!isFunction(wrapper)) {\n        throw new Error('Wrapper must be a function.');\n    }\n\n    toArray(methods).forEach(function(method) {\n        object[method] = wrapper(object[method]);\n    });\n};\n\nexport const wrappers = {\n\n    cells: function(fn) {\n\n        return function() {\n\n            var args = Array.from(arguments);\n            var n = args.length;\n            var cells = n > 0 && args[0] || [];\n            var opt = n > 1 && args[n - 1] || {};\n\n            if (!Array.isArray(cells)) {\n\n                if (opt instanceof Cell) {\n                    cells = args;\n                } else if (cells instanceof Cell) {\n                    if (args.length > 1) {\n                        args.pop();\n                    }\n                    cells = args;\n                }\n            }\n\n            if (opt instanceof Cell) {\n                opt = {};\n            }\n\n            return fn.call(this, cells, opt);\n        };\n    }\n\n};\n\n", "import V from '../V/index.mjs';\n\nexport function svg(strings, ...expressions) {\n    const svgParts = [];\n    strings.forEach((part, index) => {\n        svgParts.push(part);\n        if (index in expressions) {\n            svgParts.push(expressions[index]);\n        }\n    });\n    const markup = parseFromSVGString(svgParts.join(''));\n    return markup;\n}\n\nfunction parseFromSVGString(str) {\n    const parser = new DOMParser();\n    const markupString = `<svg>${str.trim()}</svg>`;\n    const xmldocument = parser.parseFromString(markupString.replace(/@/g, ''), 'application/xml');\n    if (xmldocument.getElementsByTagName('parsererror')[0]) {\n        throw new Error('Invalid SVG markup');\n    }\n    const document = parser.parseFromString(markupString, 'text/html');\n    const svg = document.querySelector('svg');\n    return build(svg);\n}\n\nfunction buildNode(node) {\n    const markupNode = {};\n    const { tagName, attributes, namespaceURI, style, childNodes } = node;\n\n    markupNode.namespaceURI = namespaceURI;\n    markupNode.tagName = (namespaceURI === V.namespace.xhtml)\n        // XHTML documents must use lower case for all HTML element and attribute names.\n        // The tagName property returns upper case value for HTML elements.\n        // e.g. <DIV> vs.<div/>\n        ? tagName.toLowerCase()\n        : tagName;\n\n    const stylesObject = {};\n    for (var i = style.length; i--;) {\n        var nameString = style[i];\n        stylesObject[nameString] = style.getPropertyValue(nameString);\n    }\n    markupNode.style = stylesObject;\n\n    // selector fallbacks to tagName\n    const selectorAttribute = attributes.getNamedItem('@selector');\n    if (selectorAttribute) {\n        markupNode.selector = selectorAttribute.value;\n        attributes.removeNamedItem('@selector');\n    }\n\n    const groupSelectorAttribute = attributes.getNamedItem('@group-selector');\n    if (groupSelectorAttribute) {\n        const groupSelectors = groupSelectorAttribute.value.split(',');\n        markupNode.groupSelector = groupSelectors.map(s => s.trim());\n\n        attributes.removeNamedItem('@group-selector');\n    }\n\n    const className = attributes.getNamedItem('class');\n    if (className) {\n        markupNode.className = className.value;\n    }\n\n    const children = [];\n    childNodes.forEach(node => {\n        switch (node.nodeType) {\n            case Node.TEXT_NODE: {\n                const trimmedText = node.data.replace(/\\s\\s+/g, ' ');\n                if (trimmedText.trim()) {\n                    children.push(trimmedText);\n                }\n                break;\n            }\n            case Node.ELEMENT_NODE: {\n                children.push(buildNode(node));\n                break;\n            }\n            default:\n                break;\n        }\n    });\n    if (children.length) {\n        markupNode.children = children;\n    }\n\n    const nodeAttrs = {};\n\n    Array.from(attributes).forEach(nodeAttribute => {\n        const { name, value } = nodeAttribute;\n        nodeAttrs[name] = value;\n    });\n\n    if (Object.keys(nodeAttrs).length > 0) {\n        markupNode.attributes = nodeAttrs;\n    }\n\n    return markupNode;\n}\n\nfunction build(root) {\n    const markup = [];\n\n    Array.from(root.children).forEach(node => {\n        markup.push(buildNode(node));\n    });\n\n    return markup;\n}\n", "import * as g from '../g/index.mjs';\n\nexport const Positions = {\n    TOP: 'top',\n    RIGHT: 'right',\n    BOTTOM: 'bottom',\n    LEFT: 'left',\n    TOP_LEFT: 'top-left',\n    TOP_RIGHT: 'top-right',\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_RIGHT: 'bottom-right',\n    CENTER: 'center',\n};\n\nexport function getRectPoint(rect, position) {\n    const r = new g.Rect(rect);\n    switch (position) {\n        case undefined:\n            throw new Error('Position required');\n\n        // Middle Points\n        case Positions.LEFT:\n        case 'leftMiddle':\n            return r.leftMiddle();\n\n        case Positions.RIGHT:\n        case 'rightMiddle':\n            return r.rightMiddle();\n\n        case Positions.TOP:\n        case 'topMiddle':\n            return r.topMiddle();\n\n        case Positions.BOTTOM:\n        case 'bottomMiddle':\n            return r.bottomMiddle();\n\n        // Corners\n        case Positions.TOP_LEFT:\n        case 'topLeft':\n        case 'origin':\n            return r.topLeft();\n\n        case Positions.TOP_RIGHT:\n        case 'topRight':\n            return r.topRight();\n\n        case Positions.BOTTOM_LEFT:\n        case 'bottomLeft':\n            return r.bottomLeft();\n\n        case Positions.BOTTOM_RIGHT:\n        case 'bottomRight':\n        case 'corner':\n            return r.bottomRight();\n\n        // Center\n        case Positions.CENTER:\n            return r.center();\n\n        // TODO: calc(), percentage etc.\n        default:\n            throw new Error(`Unknown position: ${position}`);\n    }\n}\n", "import * as g from '../../g/index.mjs';\nimport * as util from '../../util/index.mjs';\n\nfunction labelAttributes(opt1, opt2) {\n\n    // use value from `opt2` if it is missing in `opt1`\n    // use value from this object if it is missing in `opt2` as well\n    return util.defaultsDeep({}, opt1, opt2, {\n        x: 0,\n        y: 0,\n        angle: 0,\n        attrs: {}\n    });\n}\n\nfunction getBBoxAngles(elBBox) {\n\n    var center = elBBox.center();\n\n    var tl = center.theta(elBBox.origin());\n    var bl = center.theta(elBBox.bottomLeft());\n    var br = center.theta(elBBox.corner());\n    var tr = center.theta(elBBox.topRight());\n\n    return [tl, tr, br, bl];\n}\n\nfunction outsideLayout(portPosition, elBBox, autoOrient, opt) {\n\n    opt = util.defaults({}, opt, { offset: 15 });\n    var angle = elBBox.center().theta(portPosition);\n\n    var tx, ty, y, textAnchor;\n    var offset = opt.offset;\n    var orientAngle = 0;\n\n    const [topLeftAngle, bottomLeftAngle, bottomRightAngle, topRightAngle] = getBBoxAngles(elBBox);\n    if ((angle < bottomLeftAngle) || (angle > bottomRightAngle)) {\n        y = '.3em';\n        tx = offset;\n        ty = 0;\n        textAnchor = 'start';\n    } else if (angle < topLeftAngle) {\n        tx = 0;\n        ty = -offset;\n        if (autoOrient) {\n            orientAngle = -90;\n            textAnchor = 'start';\n            y = '.3em';\n        } else {\n            textAnchor = 'middle';\n            y = '0';\n        }\n    } else if (angle < topRightAngle) {\n        y = '.3em';\n        tx = -offset;\n        ty = 0;\n        textAnchor = 'end';\n    } else {\n        tx = 0;\n        ty = offset;\n        if (autoOrient) {\n            orientAngle = 90;\n            textAnchor = 'start';\n            y = '.3em';\n        } else {\n            textAnchor = 'middle';\n            y = '.6em';\n        }\n    }\n\n    var round = Math.round;\n    return labelAttributes(opt, {\n        x: round(tx),\n        y: round(ty),\n        angle: orientAngle,\n        attrs: { labelText: { y, textAnchor }}\n    });\n}\n\nfunction insideLayout(portPosition, elBBox, autoOrient, opt) {\n\n    opt = util.defaults({}, opt, { offset: 15 });\n    var angle = elBBox.center().theta(portPosition);\n\n    var tx, ty, y, textAnchor;\n    var offset = opt.offset;\n    var orientAngle = 0;\n\n    const [topLeftAngle, bottomLeftAngle, bottomRightAngle, topRightAngle] = getBBoxAngles(elBBox);\n    if ((angle < bottomLeftAngle) || (angle > bottomRightAngle)) {\n        y = '.3em';\n        tx = -offset;\n        ty = 0;\n        textAnchor = 'end';\n    } else if (angle < topLeftAngle) {\n        tx = 0;\n        ty = offset;\n        if (autoOrient) {\n            orientAngle = 90;\n            textAnchor = 'start';\n            y = '.3em';\n        } else {\n            textAnchor = 'middle';\n            y = '.6em';\n        }\n    } else if (angle < topRightAngle) {\n        y = '.3em';\n        tx = offset;\n        ty = 0;\n        textAnchor = 'start';\n    } else {\n        tx = 0;\n        ty = -offset;\n        if (autoOrient) {\n            orientAngle = -90;\n            textAnchor = 'start';\n            y = '.3em';\n        } else {\n            textAnchor = 'middle';\n            y = '0';\n        }\n    }\n\n    var round = Math.round;\n    return labelAttributes(opt, {\n        x: round(tx),\n        y: round(ty),\n        angle: orientAngle,\n        attrs: { labelText: { y, textAnchor }}\n    });\n}\n\nfunction radialLayout(portCenterOffset, autoOrient, opt) {\n\n    opt = util.defaults({}, opt, { offset: 20 });\n\n    var origin = g.point(0, 0);\n    var angle = -portCenterOffset.theta(origin);\n    var orientAngle = angle;\n    var offset = portCenterOffset.clone()\n        .move(origin, opt.offset)\n        .difference(portCenterOffset)\n        .round();\n\n    var y = '.3em';\n    var textAnchor;\n\n    if ((angle + 90) % 180 === 0) {\n        textAnchor = autoOrient ? 'end' : 'middle';\n        if (!autoOrient && angle === -270) {\n            y = '0em';\n        }\n    } else if (angle > -270 && angle < -90) {\n        textAnchor = 'start';\n        orientAngle = angle - 180;\n    } else {\n        textAnchor = 'end';\n    }\n\n    var round = Math.round;\n    return labelAttributes(opt, {\n        x: round(offset.x),\n        y: round(offset.y),\n        angle: ((autoOrient) ? orientAngle : 0),\n        attrs: { labelText: { y, textAnchor }}\n    });\n}\n\nexport const manual = function(_portPosition, _elBBox, opt) {\n    return labelAttributes(opt);\n};\n\nexport const left = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, {\n        x: -15,\n        attrs: { labelText: { y: '.3em', textAnchor: 'end' }},\n    });\n};\n\nexport const right = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, {\n        x: 15,\n        attrs: { labelText: { y: '.3em', textAnchor: 'start' }},\n    });\n};\n\nexport const top = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, {\n        y: -15,\n        attrs: { labelText: { y: '0', textAnchor: 'middle' }},\n    });\n};\n\nexport const bottom = function(portPosition, elBBox, opt) {\n    return labelAttributes(opt, {\n        y: 15,\n        attrs: { labelText: { y: '.6em', textAnchor: 'middle' }},\n    });\n};\n\nexport const outsideOriented = function(portPosition, elBBox, opt) {\n    return outsideLayout(portPosition, elBBox, true, opt);\n};\n\nexport const outside = function(portPosition, elBBox, opt) {\n    return outsideLayout(portPosition, elBBox, false, opt);\n};\n\nexport const insideOriented = function(portPosition, elBBox, opt) {\n    return insideLayout(portPosition, elBBox, true, opt);\n};\n\nexport const inside = function(portPosition, elBBox, opt) {\n    return insideLayout(portPosition, elBBox, false, opt);\n};\n\nexport const radial = function(portPosition, elBBox, opt) {\n    return radialLayout(portPosition.difference(elBBox.center()), false, opt);\n};\n\nexport const radialOriented = function(portPosition, elBBox, opt) {\n    return radialLayout(portPosition.difference(elBBox.center()), true, opt);\n};\n", "export * from './Graph.mjs';\nexport * from './attributes/index.mjs';\nexport * from './PaperLayer.mjs';\nexport * from './Cell.mjs';\nexport * from './CellView.mjs';\nexport * from './Element.mjs';\nexport * from './ElementView.mjs';\nexport * from './Link.mjs';\nexport * from './LinkView.mjs';\nexport * from './Paper.mjs';\nexport * from './ToolView.mjs';\nexport * from './ToolsView.mjs';\nexport * from './HighlighterView.mjs';\n", "import Backbone from 'backbone';\nimport * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\nimport { Link } from './Link.mjs';\nimport { Element } from './Element.mjs';\nimport { wrappers, wrapWith } from '../util/wrappers.mjs';\nimport { cloneCells } from '../util/index.mjs';\n\nconst GraphCells = Backbone.Collection.extend({\n\n    initialize: function(models, opt) {\n\n        // Set the optional namespace where all model classes are defined.\n        if (opt.cellNamespace) {\n            this.cellNamespace = opt.cellNamespace;\n        } else {\n            /* eslint-disable no-undef */\n            this.cellNamespace = typeof joint !== 'undefined' && util.has(joint, 'shapes') ? joint.shapes : null;\n            /* eslint-enable no-undef */\n        }\n\n\n        this.graph = opt.graph;\n    },\n\n    model: function(attrs, opt) {\n\n        var collection = opt.collection;\n        var namespace = collection.cellNamespace;\n\n        // Find the model class in the namespace or use the default one.\n        var ModelClass = (attrs.type === 'link')\n            ? Link\n            : util.getByPath(namespace, attrs.type, '.') || Element;\n\n        var cell = new ModelClass(attrs, opt);\n        // Add a reference to the graph. It is necessary to do this here because this is the earliest place\n        // where a new model is created from a plain JS object. For other objects, see `joint.dia.Graph>>_prepareCell()`.\n        if (!opt.dry) {\n            cell.graph = collection.graph;\n        }\n\n        return cell;\n    },\n\n    // `comparator` makes it easy to sort cells based on their `z` index.\n    comparator: function(model) {\n\n        return model.get('z') || 0;\n    }\n});\n\n\nexport const Graph = Backbone.Model.extend({\n\n    initialize: function(attrs, opt) {\n\n        opt = opt || {};\n\n        // Passing `cellModel` function in the options object to graph allows for\n        // setting models based on attribute objects. This is especially handy\n        // when processing JSON graphs that are in a different than JointJS format.\n        var cells = new GraphCells([], {\n            model: opt.cellModel,\n            cellNamespace: opt.cellNamespace,\n            graph: this\n        });\n        Backbone.Model.prototype.set.call(this, 'cells', cells);\n\n        // Make all the events fired in the `cells` collection available.\n        // to the outside world.\n        cells.on('all', this.trigger, this);\n\n        // Backbone automatically doesn't trigger re-sort if models attributes are changed later when\n        // they're already in the collection. Therefore, we're triggering sort manually here.\n        this.on('change:z', this._sortOnChangeZ, this);\n\n        // `joint.dia.Graph` keeps an internal data structure (an adjacency list)\n        // for fast graph queries. All changes that affect the structure of the graph\n        // must be reflected in the `al` object. This object provides fast answers to\n        // questions such as \"what are the neighbours of this node\" or \"what\n        // are the sibling links of this link\".\n\n        // Outgoing edges per node. Note that we use a hash-table for the list\n        // of outgoing edges for a faster lookup.\n        // [nodeId] -> Object [edgeId] -> true\n        this._out = {};\n        // Ingoing edges per node.\n        // [nodeId] -> Object [edgeId] -> true\n        this._in = {};\n        // `_nodes` is useful for quick lookup of all the elements in the graph, without\n        // having to go through the whole cells array.\n        // [node ID] -> true\n        this._nodes = {};\n        // `_edges` is useful for quick lookup of all the links in the graph, without\n        // having to go through the whole cells array.\n        // [edgeId] -> true\n        this._edges = {};\n\n        this._batches = {};\n\n        cells.on('add', this._restructureOnAdd, this);\n        cells.on('remove', this._restructureOnRemove, this);\n        cells.on('reset', this._restructureOnReset, this);\n        cells.on('change:source', this._restructureOnChangeSource, this);\n        cells.on('change:target', this._restructureOnChangeTarget, this);\n        cells.on('remove', this._removeCell, this);\n    },\n\n    _sortOnChangeZ: function() {\n\n        this.get('cells').sort();\n    },\n\n    _restructureOnAdd: function(cell) {\n\n        if (cell.isLink()) {\n            this._edges[cell.id] = true;\n            var { source, target } = cell.attributes;\n            if (source.id) {\n                (this._out[source.id] || (this._out[source.id] = {}))[cell.id] = true;\n            }\n            if (target.id) {\n                (this._in[target.id] || (this._in[target.id] = {}))[cell.id] = true;\n            }\n        } else {\n            this._nodes[cell.id] = true;\n        }\n    },\n\n    _restructureOnRemove: function(cell) {\n\n        if (cell.isLink()) {\n            delete this._edges[cell.id];\n            var { source, target } = cell.attributes;\n            if (source.id && this._out[source.id] && this._out[source.id][cell.id]) {\n                delete this._out[source.id][cell.id];\n            }\n            if (target.id && this._in[target.id] && this._in[target.id][cell.id]) {\n                delete this._in[target.id][cell.id];\n            }\n        } else {\n            delete this._nodes[cell.id];\n        }\n    },\n\n    _restructureOnReset: function(cells) {\n\n        // Normalize into an array of cells. The original `cells` is GraphCells Backbone collection.\n        cells = cells.models;\n\n        this._out = {};\n        this._in = {};\n        this._nodes = {};\n        this._edges = {};\n\n        cells.forEach(this._restructureOnAdd, this);\n    },\n\n    _restructureOnChangeSource: function(link) {\n\n        var prevSource = link.previous('source');\n        if (prevSource.id && this._out[prevSource.id]) {\n            delete this._out[prevSource.id][link.id];\n        }\n        var source = link.attributes.source;\n        if (source.id) {\n            (this._out[source.id] || (this._out[source.id] = {}))[link.id] = true;\n        }\n    },\n\n    _restructureOnChangeTarget: function(link) {\n\n        var prevTarget = link.previous('target');\n        if (prevTarget.id && this._in[prevTarget.id]) {\n            delete this._in[prevTarget.id][link.id];\n        }\n        var target = link.get('target');\n        if (target.id) {\n            (this._in[target.id] || (this._in[target.id] = {}))[link.id] = true;\n        }\n    },\n\n    // Return all outbound edges for the node. Return value is an object\n    // of the form: [edgeId] -> true\n    getOutboundEdges: function(node) {\n\n        return (this._out && this._out[node]) || {};\n    },\n\n    // Return all inbound edges for the node. Return value is an object\n    // of the form: [edgeId] -> true\n    getInboundEdges: function(node) {\n\n        return (this._in && this._in[node]) || {};\n    },\n\n    toJSON: function() {\n\n        // Backbone does not recursively call `toJSON()` on attributes that are themselves models/collections.\n        // It just clones the attributes. Therefore, we must call `toJSON()` on the cells collection explicitly.\n        var json = Backbone.Model.prototype.toJSON.apply(this, arguments);\n        json.cells = this.get('cells').toJSON();\n        return json;\n    },\n\n    fromJSON: function(json, opt) {\n\n        if (!json.cells) {\n\n            throw new Error('Graph JSON must contain cells array.');\n        }\n\n        return this.set(json, opt);\n    },\n\n    set: function(key, val, opt) {\n\n        var attrs;\n\n        // Handle both `key`, value and {key: value} style arguments.\n        if (typeof key === 'object') {\n            attrs = key;\n            opt = val;\n        } else {\n            (attrs = {})[key] = val;\n        }\n\n        // Make sure that `cells` attribute is handled separately via resetCells().\n        if (attrs.hasOwnProperty('cells')) {\n            this.resetCells(attrs.cells, opt);\n            attrs = util.omit(attrs, 'cells');\n        }\n\n        // The rest of the attributes are applied via original set method.\n        return Backbone.Model.prototype.set.call(this, attrs, opt);\n    },\n\n    clear: function(opt) {\n\n        opt = util.assign({}, opt, { clear: true });\n\n        var collection = this.get('cells');\n\n        if (collection.length === 0) return this;\n\n        this.startBatch('clear', opt);\n\n        // The elements come after the links.\n        var cells = collection.sortBy(function(cell) {\n            return cell.isLink() ? 1 : 2;\n        });\n\n        do {\n\n            // Remove all the cells one by one.\n            // Note that all the links are removed first, so it's\n            // safe to remove the elements without removing the connected\n            // links first.\n            cells.shift().remove(opt);\n\n        } while (cells.length > 0);\n\n        this.stopBatch('clear');\n\n        return this;\n    },\n\n    _prepareCell: function(cell, opt) {\n\n        var attrs;\n        if (cell instanceof Backbone.Model) {\n            attrs = cell.attributes;\n            if (!cell.graph && (!opt || !opt.dry)) {\n                // An element can not be member of more than one graph.\n                // A cell stops being the member of the graph after it's explicitly removed.\n                cell.graph = this;\n            }\n        } else {\n            // In case we're dealing with a plain JS object, we have to set the reference\n            // to the `graph` right after the actual model is created. This happens in the `model()` function\n            // of `joint.dia.GraphCells`.\n            attrs = cell;\n        }\n\n        if (!util.isString(attrs.type)) {\n            throw new TypeError('dia.Graph: cell type must be a string.');\n        }\n\n        return cell;\n    },\n\n    minZIndex: function() {\n\n        var firstCell = this.get('cells').first();\n        return firstCell ? (firstCell.get('z') || 0) : 0;\n    },\n\n    maxZIndex: function() {\n\n        var lastCell = this.get('cells').last();\n        return lastCell ? (lastCell.get('z') || 0) : 0;\n    },\n\n    addCell: function(cell, opt) {\n\n        if (Array.isArray(cell)) {\n\n            return this.addCells(cell, opt);\n        }\n\n        if (cell instanceof Backbone.Model) {\n\n            if (!cell.has('z')) {\n                cell.set('z', this.maxZIndex() + 1);\n            }\n\n        } else if (cell.z === undefined) {\n\n            cell.z = this.maxZIndex() + 1;\n        }\n\n        this.get('cells').add(this._prepareCell(cell, opt), opt || {});\n\n        return this;\n    },\n\n    addCells: function(cells, opt) {\n\n        if (cells.length === 0) return this;\n\n        cells = util.flattenDeep(cells);\n        opt.maxPosition = opt.position = cells.length - 1;\n\n        this.startBatch('add', opt);\n        cells.forEach(function(cell) {\n            this.addCell(cell, opt);\n            opt.position--;\n        }, this);\n        this.stopBatch('add', opt);\n\n        return this;\n    },\n\n    // When adding a lot of cells, it is much more efficient to\n    // reset the entire cells collection in one go.\n    // Useful for bulk operations and optimizations.\n    resetCells: function(cells, opt) {\n\n        var preparedCells = util.toArray(cells).map(function(cell) {\n            return this._prepareCell(cell, opt);\n        }, this);\n        this.get('cells').reset(preparedCells, opt);\n\n        return this;\n    },\n\n    removeCells: function(cells, opt) {\n\n        if (cells.length) {\n\n            this.startBatch('remove');\n            util.invoke(cells, 'remove', opt);\n            this.stopBatch('remove');\n        }\n\n        return this;\n    },\n\n    _removeCell: function(cell, collection, options) {\n\n        options = options || {};\n\n        if (!options.clear) {\n            // Applications might provide a `disconnectLinks` option set to `true` in order to\n            // disconnect links when a cell is removed rather then removing them. The default\n            // is to remove all the associated links.\n            if (options.disconnectLinks) {\n\n                this.disconnectLinks(cell, options);\n\n            } else {\n\n                this.removeLinks(cell, options);\n            }\n        }\n        // Silently remove the cell from the cells collection. Silently, because\n        // `joint.dia.Cell.prototype.remove` already triggers the `remove` event which is\n        // then propagated to the graph model. If we didn't remove the cell silently, two `remove` events\n        // would be triggered on the graph model.\n        this.get('cells').remove(cell, { silent: true });\n\n        if (cell.graph === this) {\n            // Remove the element graph reference only if the cell is the member of this graph.\n            cell.graph = null;\n        }\n    },\n\n    // Get a cell by `id`.\n    getCell: function(id) {\n\n        return this.get('cells').get(id);\n    },\n\n    getCells: function() {\n\n        return this.get('cells').toArray();\n    },\n\n    getElements: function() {\n\n        return this.get('cells').filter(cell => cell.isElement());\n    },\n\n    getLinks: function() {\n\n        return this.get('cells').filter(cell => cell.isLink());\n    },\n\n    getFirstCell: function() {\n\n        return this.get('cells').first();\n    },\n\n    getLastCell: function() {\n\n        return this.get('cells').last();\n    },\n\n    // Get all inbound and outbound links connected to the cell `model`.\n    getConnectedLinks: function(model, opt) {\n\n        opt = opt || {};\n\n        var indirect = opt.indirect;\n        var inbound = opt.inbound;\n        var outbound = opt.outbound;\n        if ((inbound === undefined) && (outbound === undefined)) {\n            inbound = outbound = true;\n        }\n\n        // the final array of connected link models\n        var links = [];\n        // a hash table of connected edges of the form: [edgeId] -> true\n        // used for quick lookups to check if we already added a link\n        var edges = {};\n\n        if (outbound) {\n            addOutbounds(this, model);\n        }\n        if (inbound) {\n            addInbounds(this, model);\n        }\n\n        function addOutbounds(graph, model) {\n            util.forIn(graph.getOutboundEdges(model.id), function(_, edge) {\n                // skip links that were already added\n                // (those must be self-loop links)\n                // (because they are inbound and outbound edges of the same two elements)\n                if (edges[edge]) return;\n                var link = graph.getCell(edge);\n                links.push(link);\n                edges[edge] = true;\n                if (indirect) {\n                    if (inbound) addInbounds(graph, link);\n                    if (outbound) addOutbounds(graph, link);\n                }\n            }.bind(graph));\n            if (indirect && model.isLink()) {\n                var outCell = model.getTargetCell();\n                if (outCell && outCell.isLink()) {\n                    if (!edges[outCell.id]) {\n                        links.push(outCell);\n                        addOutbounds(graph, outCell);\n                    }\n                }\n            }\n        }\n\n        function addInbounds(graph, model) {\n            util.forIn(graph.getInboundEdges(model.id), function(_, edge) {\n                // skip links that were already added\n                // (those must be self-loop links)\n                // (because they are inbound and outbound edges of the same two elements)\n                if (edges[edge]) return;\n                var link = graph.getCell(edge);\n                links.push(link);\n                edges[edge] = true;\n                if (indirect) {\n                    if (inbound) addInbounds(graph, link);\n                    if (outbound) addOutbounds(graph, link);\n                }\n            }.bind(graph));\n            if (indirect && model.isLink()) {\n                var inCell = model.getSourceCell();\n                if (inCell && inCell.isLink()) {\n                    if (!edges[inCell.id]) {\n                        links.push(inCell);\n                        addInbounds(graph, inCell);\n                    }\n                }\n            }\n        }\n\n        // if `deep` option is `true`, check also all the links that are connected to any of the descendant cells\n        if (opt.deep) {\n\n            var embeddedCells = model.getEmbeddedCells({ deep: true });\n\n            // in the first round, we collect all the embedded elements\n            var embeddedElements = {};\n            embeddedCells.forEach(function(cell) {\n                if (cell.isElement()) {\n                    embeddedElements[cell.id] = true;\n                }\n            });\n\n            embeddedCells.forEach(function(cell) {\n                if (cell.isLink()) return;\n                if (outbound) {\n                    util.forIn(this.getOutboundEdges(cell.id), function(exists, edge) {\n                        if (!edges[edge]) {\n                            var edgeCell = this.getCell(edge);\n                            var { source, target } = edgeCell.attributes;\n                            var sourceId = source.id;\n                            var targetId = target.id;\n\n                            // if `includeEnclosed` option is falsy, skip enclosed links\n                            if (!opt.includeEnclosed\n                                && (sourceId && embeddedElements[sourceId])\n                                && (targetId && embeddedElements[targetId])) {\n                                return;\n                            }\n\n                            links.push(this.getCell(edge));\n                            edges[edge] = true;\n                        }\n                    }.bind(this));\n                }\n                if (inbound) {\n                    util.forIn(this.getInboundEdges(cell.id), function(exists, edge) {\n                        if (!edges[edge]) {\n                            var edgeCell = this.getCell(edge);\n                            var { source, target } = edgeCell.attributes;\n                            var sourceId = source.id;\n                            var targetId = target.id;\n\n                            // if `includeEnclosed` option is falsy, skip enclosed links\n                            if (!opt.includeEnclosed\n                                && (sourceId && embeddedElements[sourceId])\n                                && (targetId && embeddedElements[targetId])) {\n                                return;\n                            }\n\n                            links.push(this.getCell(edge));\n                            edges[edge] = true;\n                        }\n                    }.bind(this));\n                }\n            }, this);\n        }\n\n        return links;\n    },\n\n    getNeighbors: function(model, opt) {\n\n        opt || (opt = {});\n\n        var inbound = opt.inbound;\n        var outbound = opt.outbound;\n        if (inbound === undefined && outbound === undefined) {\n            inbound = outbound = true;\n        }\n\n        var neighbors = this.getConnectedLinks(model, opt).reduce(function(res, link) {\n\n            var { source, target } = link.attributes;\n            var loop = link.hasLoop(opt);\n\n            // Discard if it is a point, or if the neighbor was already added.\n            if (inbound && util.has(source, 'id') && !res[source.id]) {\n\n                var sourceElement = this.getCell(source.id);\n                if (sourceElement.isElement()) {\n                    if (loop || (sourceElement && sourceElement !== model && (!opt.deep || !sourceElement.isEmbeddedIn(model)))) {\n                        res[source.id] = sourceElement;\n                    }\n                }\n            }\n\n            // Discard if it is a point, or if the neighbor was already added.\n            if (outbound && util.has(target, 'id') && !res[target.id]) {\n\n                var targetElement = this.getCell(target.id);\n                if (targetElement.isElement()) {\n                    if (loop || (targetElement && targetElement !== model && (!opt.deep || !targetElement.isEmbeddedIn(model)))) {\n                        res[target.id] = targetElement;\n                    }\n                }\n            }\n\n            return res;\n        }.bind(this), {});\n\n        if (model.isLink()) {\n            if (inbound) {\n                var sourceCell = model.getSourceCell();\n                if (sourceCell && sourceCell.isElement() && !neighbors[sourceCell.id]) {\n                    neighbors[sourceCell.id] = sourceCell;\n                }\n            }\n            if (outbound) {\n                var targetCell = model.getTargetCell();\n                if (targetCell && targetCell.isElement() && !neighbors[targetCell.id]) {\n                    neighbors[targetCell.id] = targetCell;\n                }\n            }\n        }\n\n        return util.toArray(neighbors);\n    },\n\n    getCommonAncestor: function(/* cells */) {\n\n        var cellsAncestors = Array.from(arguments).map(function(cell) {\n\n            var ancestors = [];\n            var parentId = cell.get('parent');\n\n            while (parentId) {\n\n                ancestors.push(parentId);\n                parentId = this.getCell(parentId).get('parent');\n            }\n\n            return ancestors;\n\n        }, this);\n\n        cellsAncestors = cellsAncestors.sort(function(a, b) {\n            return a.length - b.length;\n        });\n\n        var commonAncestor = util.toArray(cellsAncestors.shift()).find(function(ancestor) {\n            return cellsAncestors.every(function(cellAncestors) {\n                return cellAncestors.includes(ancestor);\n            });\n        });\n\n        return this.getCell(commonAncestor);\n    },\n\n    // Find the whole branch starting at `element`.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.breadthFirst` is `true`, use the Breadth-first search algorithm, otherwise use Depth-first search.\n    getSuccessors: function(element, opt) {\n\n        opt = opt || {};\n        var res = [];\n        // Modify the options so that it includes the `outbound` neighbors only. In other words, search forwards.\n        this.search(element, function(el) {\n            if (el !== element) {\n                res.push(el);\n            }\n        }, util.assign({}, opt, { outbound: true }));\n        return res;\n    },\n\n    cloneCells: cloneCells,\n    // Clone the whole subgraph (including all the connected links whose source/target is in the subgraph).\n    // If `opt.deep` is `true`, also take into account all the embedded cells of all the subgraph cells.\n    // Return a map of the form: [original cell ID] -> [clone].\n    cloneSubgraph: function(cells, opt) {\n\n        var subgraph = this.getSubgraph(cells, opt);\n        return this.cloneCells(subgraph);\n    },\n\n    // Return `cells` and all the connected links that connect cells in the `cells` array.\n    // If `opt.deep` is `true`, return all the cells including all their embedded cells\n    // and all the links that connect any of the returned cells.\n    // For example, for a single shallow element, the result is that very same element.\n    // For two elements connected with a link: `A --- L ---> B`, the result for\n    // `getSubgraph([A, B])` is `[A, L, B]`. The same goes for `getSubgraph([L])`, the result is again `[A, L, B]`.\n    getSubgraph: function(cells, opt) {\n\n        opt = opt || {};\n\n        var subgraph = [];\n        // `cellMap` is used for a quick lookup of existence of a cell in the `cells` array.\n        var cellMap = {};\n        var elements = [];\n        var links = [];\n\n        util.toArray(cells).forEach(function(cell) {\n            if (!cellMap[cell.id]) {\n                subgraph.push(cell);\n                cellMap[cell.id] = cell;\n                if (cell.isLink()) {\n                    links.push(cell);\n                } else {\n                    elements.push(cell);\n                }\n            }\n\n            if (opt.deep) {\n                var embeds = cell.getEmbeddedCells({ deep: true });\n                embeds.forEach(function(embed) {\n                    if (!cellMap[embed.id]) {\n                        subgraph.push(embed);\n                        cellMap[embed.id] = embed;\n                        if (embed.isLink()) {\n                            links.push(embed);\n                        } else {\n                            elements.push(embed);\n                        }\n                    }\n                });\n            }\n        });\n\n        links.forEach(function(link) {\n            // For links, return their source & target (if they are elements - not points).\n            var { source, target } = link.attributes;\n            if (source.id && !cellMap[source.id]) {\n                var sourceElement = this.getCell(source.id);\n                subgraph.push(sourceElement);\n                cellMap[sourceElement.id] = sourceElement;\n                elements.push(sourceElement);\n            }\n            if (target.id && !cellMap[target.id]) {\n                var targetElement = this.getCell(target.id);\n                subgraph.push(this.getCell(target.id));\n                cellMap[targetElement.id] = targetElement;\n                elements.push(targetElement);\n            }\n        }, this);\n\n        elements.forEach(function(element) {\n            // For elements, include their connected links if their source/target is in the subgraph;\n            var links = this.getConnectedLinks(element, opt);\n            links.forEach(function(link) {\n                var { source, target } = link.attributes;\n                if (!cellMap[link.id] && source.id && cellMap[source.id] && target.id && cellMap[target.id]) {\n                    subgraph.push(link);\n                    cellMap[link.id] = link;\n                }\n            });\n        }, this);\n\n        return subgraph;\n    },\n\n    // Find all the predecessors of `element`. This is a reverse operation of `getSuccessors()`.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.breadthFirst` is `true`, use the Breadth-first search algorithm, otherwise use Depth-first search.\n    getPredecessors: function(element, opt) {\n\n        opt = opt || {};\n        var res = [];\n        // Modify the options so that it includes the `inbound` neighbors only. In other words, search backwards.\n        this.search(element, function(el) {\n            if (el !== element) {\n                res.push(el);\n            }\n        }, util.assign({}, opt, { inbound: true }));\n        return res;\n    },\n\n    // Perform search on the graph.\n    // If `opt.breadthFirst` is `true`, use the Breadth-first Search algorithm, otherwise use Depth-first search.\n    // By setting `opt.inbound` to `true`, you can reverse the direction of the search.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // `iteratee` is a function of the form `function(element) {}`.\n    // If `iteratee` explicitly returns `false`, the searching stops.\n    search: function(element, iteratee, opt) {\n\n        opt = opt || {};\n        if (opt.breadthFirst) {\n            this.bfs(element, iteratee, opt);\n        } else {\n            this.dfs(element, iteratee, opt);\n        }\n    },\n\n    // Breadth-first search.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.inbound` is `true`, reverse the search direction (it's like reversing all the link directions).\n    // `iteratee` is a function of the form `function(element, distance) {}`.\n    // where `element` is the currently visited element and `distance` is the distance of that element\n    // from the root `element` passed the `bfs()`, i.e. the element we started the search from.\n    // Note that the `distance` is not the shortest or longest distance, it is simply the number of levels\n    // crossed till we visited the `element` for the first time. It is especially useful for tree graphs.\n    // If `iteratee` explicitly returns `false`, the searching stops.\n    bfs: function(element, iteratee, opt = {}) {\n\n        const visited = {};\n        const distance = {};\n        const queue = [];\n\n        queue.push(element);\n        distance[element.id] = 0;\n\n        while (queue.length > 0) {\n            var next = queue.shift();\n            if (visited[next.id]) continue;\n            visited[next.id] = true;\n            if (iteratee.call(this, next, distance[next.id]) === false) continue;\n            const neighbors = this.getNeighbors(next, opt);\n            for (let i = 0, n = neighbors.length; i < n; i++) {\n                const neighbor = neighbors[i];\n                distance[neighbor.id] = distance[next.id] + 1;\n                queue.push(neighbor);\n            }\n        }\n    },\n\n    // Depth-first search.\n    // If `opt.deep` is `true`, take into account embedded elements too.\n    // If `opt.inbound` is `true`, reverse the search direction (it's like reversing all the link directions).\n    // `iteratee` is a function of the form `function(element, distance) {}`.\n    // If `iteratee` explicitly returns `false`, the search stops.\n    dfs: function(element, iteratee, opt = {}) {\n\n        const visited = {};\n        const distance = {};\n        const queue = [];\n\n        queue.push(element);\n        distance[element.id] = 0;\n\n        while (queue.length > 0) {\n            const next = queue.pop();\n            if (visited[next.id]) continue;\n            visited[next.id] = true;\n            if (iteratee.call(this, next, distance[next.id]) === false) continue;\n            const neighbors = this.getNeighbors(next, opt);\n            const lastIndex = queue.length;\n            for (let i = 0, n = neighbors.length; i < n; i++) {\n                const neighbor = neighbors[i];\n                distance[neighbor.id] = distance[next.id] + 1;\n                queue.splice(lastIndex, 0, neighbor);\n            }\n        }\n    },\n\n    // Get all the roots of the graph. Time complexity: O(|V|).\n    getSources: function() {\n\n        var sources = [];\n        util.forIn(this._nodes, function(exists, node) {\n            if (!this._in[node] || util.isEmpty(this._in[node])) {\n                sources.push(this.getCell(node));\n            }\n        }.bind(this));\n        return sources;\n    },\n\n    // Get all the leafs of the graph. Time complexity: O(|V|).\n    getSinks: function() {\n\n        var sinks = [];\n        util.forIn(this._nodes, function(exists, node) {\n            if (!this._out[node] || util.isEmpty(this._out[node])) {\n                sinks.push(this.getCell(node));\n            }\n        }.bind(this));\n        return sinks;\n    },\n\n    // Return `true` if `element` is a root. Time complexity: O(1).\n    isSource: function(element) {\n\n        return !this._in[element.id] || util.isEmpty(this._in[element.id]);\n    },\n\n    // Return `true` if `element` is a leaf. Time complexity: O(1).\n    isSink: function(element) {\n\n        return !this._out[element.id] || util.isEmpty(this._out[element.id]);\n    },\n\n    // Return `true` is `elementB` is a successor of `elementA`. Return `false` otherwise.\n    isSuccessor: function(elementA, elementB) {\n\n        var isSuccessor = false;\n        this.search(elementA, function(element) {\n            if (element === elementB && element !== elementA) {\n                isSuccessor = true;\n                return false;\n            }\n        }, { outbound: true });\n        return isSuccessor;\n    },\n\n    // Return `true` is `elementB` is a predecessor of `elementA`. Return `false` otherwise.\n    isPredecessor: function(elementA, elementB) {\n\n        var isPredecessor = false;\n        this.search(elementA, function(element) {\n            if (element === elementB && element !== elementA) {\n                isPredecessor = true;\n                return false;\n            }\n        }, { inbound: true });\n        return isPredecessor;\n    },\n\n    // Return `true` is `elementB` is a neighbor of `elementA`. Return `false` otherwise.\n    // `opt.deep` controls whether to take into account embedded elements as well. See `getNeighbors()`\n    // for more details.\n    // If `opt.outbound` is set to `true`, return `true` only if `elementB` is a successor neighbor.\n    // Similarly, if `opt.inbound` is set to `true`, return `true` only if `elementB` is a predecessor neighbor.\n    isNeighbor: function(elementA, elementB, opt) {\n\n        opt = opt || {};\n\n        var inbound = opt.inbound;\n        var outbound = opt.outbound;\n        if ((inbound === undefined) && (outbound === undefined)) {\n            inbound = outbound = true;\n        }\n\n        var isNeighbor = false;\n\n        this.getConnectedLinks(elementA, opt).forEach(function(link) {\n\n            var { source, target } = link.attributes;\n\n            // Discard if it is a point.\n            if (inbound && util.has(source, 'id') && (source.id === elementB.id)) {\n                isNeighbor = true;\n                return false;\n            }\n\n            // Discard if it is a point, or if the neighbor was already added.\n            if (outbound && util.has(target, 'id') && (target.id === elementB.id)) {\n                isNeighbor = true;\n                return false;\n            }\n        });\n\n        return isNeighbor;\n    },\n\n    // Disconnect links connected to the cell `model`.\n    disconnectLinks: function(model, opt) {\n\n        this.getConnectedLinks(model).forEach(function(link) {\n\n            link.set((link.attributes.source.id === model.id ? 'source' : 'target'), { x: 0, y: 0 }, opt);\n        });\n    },\n\n    // Remove links connected to the cell `model` completely.\n    removeLinks: function(model, opt) {\n\n        util.invoke(this.getConnectedLinks(model), 'remove', opt);\n    },\n\n    // Find all elements at given point\n    findModelsFromPoint: function(p) {\n        return this.getElements().filter(el => el.getBBox({ rotate: true }).containsPoint(p));\n    },\n\n    // Find all elements in given area\n    findModelsInArea: function(rect, opt = {}) {\n        const r = new g.Rect(rect);\n        const { strict = false } = opt;\n        const method = strict ? 'containsRect' : 'intersect';\n        return this.getElements().filter(el => r[method](el.getBBox({ rotate: true })));\n    },\n\n    // Find all elements under the given element.\n    findModelsUnderElement: function(element, opt = {}) {\n        const { searchBy = 'bbox' } = opt;\n        const bbox = element.getBBox().rotateAroundCenter(element.angle());\n        const elements = (searchBy === 'bbox')\n            ? this.findModelsInArea(bbox)\n            : this.findModelsFromPoint(util.getRectPoint(bbox, searchBy));\n        // don't account element itself or any of its descendants\n        return elements.filter(el => element.id !== el.id && !el.isEmbeddedIn(element));\n    },\n\n    // Return bounding box of all elements.\n    getBBox: function() {\n\n        return this.getCellsBBox(this.getCells());\n    },\n\n    // Return the bounding box of all cells in array provided.\n    getCellsBBox: function(cells, opt = {}) {\n        const { rotate = true } = opt;\n        return util.toArray(cells).reduce(function(memo, cell) {\n            const rect = cell.getBBox({ rotate });\n            if (!rect) return memo;\n            if (memo) {\n                return memo.union(rect);\n            }\n            return rect;\n        }, null);\n    },\n\n    translate: function(dx, dy, opt) {\n\n        // Don't translate cells that are embedded in any other cell.\n        var cells = this.getCells().filter(function(cell) {\n            return !cell.isEmbedded();\n        });\n\n        util.invoke(cells, 'translate', dx, dy, opt);\n\n        return this;\n    },\n\n    resize: function(width, height, opt) {\n\n        return this.resizeCells(width, height, this.getCells(), opt);\n    },\n\n    resizeCells: function(width, height, cells, opt) {\n\n        // `getBBox` method returns `null` if no elements provided.\n        // i.e. cells can be an array of links\n        var bbox = this.getCellsBBox(cells);\n        if (bbox) {\n            var sx = Math.max(width / bbox.width, 0);\n            var sy = Math.max(height / bbox.height, 0);\n            util.invoke(cells, 'scale', sx, sy, bbox.origin(), opt);\n        }\n\n        return this;\n    },\n\n    startBatch: function(name, data) {\n\n        data = data || {};\n        this._batches[name] = (this._batches[name] || 0) + 1;\n\n        return this.trigger('batch:start', util.assign({}, data, { batchName: name }));\n    },\n\n    stopBatch: function(name, data) {\n\n        data = data || {};\n        this._batches[name] = (this._batches[name] || 0) - 1;\n\n        return this.trigger('batch:stop', util.assign({}, data, { batchName: name }));\n    },\n\n    hasActiveBatch: function(name) {\n\n        const batches = this._batches;\n        let names;\n\n        if (arguments.length === 0) {\n            names = Object.keys(batches);\n        } else if (Array.isArray(name)) {\n            names = name;\n        } else {\n            names = [name];\n        }\n\n        return names.some((batch) => batches[batch] > 0);\n    }\n\n}, {\n\n    validations: {\n\n        multiLinks: function(graph, link) {\n\n            // Do not allow multiple links to have the same source and target.\n            var { source, target } = link.attributes;\n\n            if (source.id && target.id) {\n\n                var sourceModel = link.getSourceCell();\n                if (sourceModel) {\n\n                    var connectedLinks = graph.getConnectedLinks(sourceModel, { outbound: true });\n                    var sameLinks = connectedLinks.filter(function(_link) {\n\n                        var { source: _source, target: _target } = _link.attributes;\n                        return _source && _source.id === source.id &&\n                            (!_source.port || (_source.port === source.port)) &&\n                            _target && _target.id === target.id &&\n                            (!_target.port || (_target.port === target.port));\n\n                    });\n\n                    if (sameLinks.length > 1) {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        },\n\n        linkPinning: function(_graph, link) {\n            var { source, target } = link.attributes;\n            return source.id && target.id;\n        }\n    }\n\n});\n\nwrapWith(Graph.prototype, ['resetCells', 'addCells', 'removeCells'], wrappers.cells);\n", "import { Cell } from './Cell.mjs';\nimport { clone, isPlainObject, isFunction, isString, isNumber } from '../util/index.mjs';\nimport { Point, Polyline } from '../g/index.mjs';\n\n// Link base model.\n// --------------------------\n\nexport const Link = Cell.extend({\n\n    // The default markup for links.\n    markup: [\n        '<path class=\"connection\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"marker-source\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"marker-target\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"connection-wrap\" d=\"M 0 0 0 0\"/>',\n        '<g class=\"labels\"/>',\n        '<g class=\"marker-vertices\"/>',\n        '<g class=\"marker-arrowheads\"/>',\n        '<g class=\"link-tools\"/>'\n    ].join(''),\n\n    toolMarkup: [\n        '<g class=\"link-tool\">',\n        '<g class=\"tool-remove\" event=\"remove\">',\n        '<circle r=\"11\" />',\n        '<path transform=\"scale(.8) translate(-16, -16)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\" />',\n        '<title>Remove link.</title>',\n        '</g>',\n        '<g class=\"tool-options\" event=\"link:options\">',\n        '<circle r=\"11\" transform=\"translate(25)\"/>',\n        '<path fill=\"white\" transform=\"scale(.55) translate(29, -16)\" d=\"M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z\"/>',\n        '<title>Link options.</title>',\n        '</g>',\n        '</g>'\n    ].join(''),\n\n    doubleToolMarkup: undefined,\n\n    // The default markup for showing/removing vertices. These elements are the children of the .marker-vertices element (see `this.markup`).\n    // Only .marker-vertex and .marker-vertex-remove element have special meaning. The former is used for\n    // dragging vertices (changing their position). The latter is used for removing vertices.\n    vertexMarkup: [\n        '<g class=\"marker-vertex-group\" transform=\"translate(<%= x %>, <%= y %>)\">',\n        '<circle class=\"marker-vertex\" idx=\"<%= idx %>\" r=\"10\" />',\n        '<path class=\"marker-vertex-remove-area\" idx=\"<%= idx %>\" d=\"M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z\" transform=\"translate(5, -33)\"/>',\n        '<path class=\"marker-vertex-remove\" idx=\"<%= idx %>\" transform=\"scale(.8) translate(9.5, -37)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\">',\n        '<title>Remove vertex.</title>',\n        '</path>',\n        '</g>'\n    ].join(''),\n\n    arrowheadMarkup: [\n        '<g class=\"marker-arrowhead-group marker-arrowhead-group-<%= end %>\">',\n        '<path class=\"marker-arrowhead\" end=\"<%= end %>\" d=\"M 26 0 L 0 13 L 26 26 z\" />',\n        '</g>'\n    ].join(''),\n\n    // may be overwritten by user to change default label (its markup, size, attrs, position)\n    defaultLabel: undefined,\n\n    // deprecated\n    // may be overwritten by user to change default label markup\n    // lower priority than defaultLabel.markup\n    labelMarkup: undefined,\n\n    // private\n    _builtins: {\n        defaultLabel: {\n            // builtin default markup:\n            // used if neither defaultLabel.markup\n            // nor label.markup is set\n            markup: [\n                {\n                    tagName: 'rect',\n                    selector: 'rect' // faster than tagName CSS selector\n                }, {\n                    tagName: 'text',\n                    selector: 'text' // faster than tagName CSS selector\n                }\n            ],\n            // builtin default attributes:\n            // applied only if builtin default markup is used\n            attrs: {\n                text: {\n                    fill: '#000000',\n                    fontSize: 14,\n                    textAnchor: 'middle',\n                    yAlignment: 'middle',\n                    pointerEvents: 'none'\n                },\n                rect: {\n                    ref: 'text',\n                    fill: '#ffffff',\n                    rx: 3,\n                    ry: 3,\n                    refWidth: 1,\n                    refHeight: 1,\n                    refX: 0,\n                    refY: 0\n                }\n            },\n            // builtin default position:\n            // used if neither defaultLabel.position\n            // nor label.position is set\n            position: {\n                distance: 0.5\n            }\n        }\n    },\n\n    defaults: {\n        type: 'link',\n        source: {},\n        target: {}\n    },\n\n    isLink: function() {\n\n        return true;\n    },\n\n    disconnect: function(opt) {\n\n        return this.set({\n            source: { x: 0, y: 0 },\n            target: { x: 0, y: 0 }\n        }, opt);\n    },\n\n    source: function(source, args, opt) {\n\n        // getter\n        if (source === undefined) {\n            return clone(this.get('source'));\n        }\n\n        // setter\n        var setSource;\n        var setOpt;\n\n        // `source` is a cell\n        // take only its `id` and combine with `args`\n        var isCellProvided = source instanceof Cell;\n        if (isCellProvided) { // three arguments\n            setSource = clone(args) || {};\n            setSource.id = source.id;\n            setOpt = opt;\n            return this.set('source', setSource, setOpt);\n        }\n\n        // `source` is a point-like object\n        // for example, a g.Point\n        // take only its `x` and `y` and combine with `args`\n        var isPointProvided = !isPlainObject(source);\n        if (isPointProvided) { // three arguments\n            setSource = clone(args) || {};\n            setSource.x = source.x;\n            setSource.y = source.y;\n            setOpt = opt;\n            return this.set('source', setSource, setOpt);\n        }\n\n        // `source` is an object\n        // no checking\n        // two arguments\n        setSource = source;\n        setOpt = args;\n        return this.set('source', setSource, setOpt);\n    },\n\n    target: function(target, args, opt) {\n\n        // getter\n        if (target === undefined) {\n            return clone(this.get('target'));\n        }\n\n        // setter\n        var setTarget;\n        var setOpt;\n\n        // `target` is a cell\n        // take only its `id` argument and combine with `args`\n        var isCellProvided = target instanceof Cell;\n        if (isCellProvided) { // three arguments\n            setTarget = clone(args) || {};\n            setTarget.id = target.id;\n            setOpt = opt;\n            return this.set('target', setTarget, setOpt);\n        }\n\n        // `target` is a point-like object\n        // for example, a g.Point\n        // take only its `x` and `y` and combine with `args`\n        var isPointProvided = !isPlainObject(target);\n        if (isPointProvided) { // three arguments\n            setTarget = clone(args) || {};\n            setTarget.x = target.x;\n            setTarget.y = target.y;\n            setOpt = opt;\n            return this.set('target', setTarget, setOpt);\n        }\n\n        // `target` is an object\n        // no checking\n        // two arguments\n        setTarget = target;\n        setOpt = args;\n        return this.set('target', setTarget, setOpt);\n    },\n\n    router: function(name, args, opt) {\n\n        // getter\n        if (name === undefined) {\n            var router = this.get('router');\n            if (!router) {\n                if (this.get('manhattan')) return { name: 'orthogonal' }; // backwards compatibility\n                return null;\n            }\n            if (typeof router === 'object') return clone(router);\n            return router; // e.g. a function\n        }\n\n        // setter\n        var isRouterProvided = ((typeof name === 'object') || (typeof name === 'function'));\n        var localRouter = isRouterProvided ? name : { name: name, args: args };\n        var localOpt = isRouterProvided ? args : opt;\n\n        return this.set('router', localRouter, localOpt);\n    },\n\n    connector: function(name, args, opt) {\n\n        // getter\n        if (name === undefined) {\n            var connector = this.get('connector');\n            if (!connector) {\n                if (this.get('smooth')) return { name: 'smooth' }; // backwards compatibility\n                return null;\n            }\n            if (typeof connector === 'object') return clone(connector);\n            return connector; // e.g. a function\n        }\n\n        // setter\n        var isConnectorProvided = ((typeof name === 'object' || typeof name === 'function'));\n        var localConnector = isConnectorProvided ? name : { name: name, args: args };\n        var localOpt = isConnectorProvided ? args : opt;\n\n        return this.set('connector', localConnector, localOpt);\n    },\n\n    // Labels API\n\n    // A convenient way to set labels. Currently set values will be mixined with `value` if used as a setter.\n    label: function(idx, label, opt) {\n\n        var labels = this.labels();\n\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : 0;\n        if (idx < 0) idx = labels.length + idx;\n\n        // getter\n        if (arguments.length <= 1) return this.prop(['labels', idx]);\n        // setter\n        return this.prop(['labels', idx], label, opt);\n    },\n\n    labels: function(labels, opt) {\n\n        // getter\n        if (arguments.length === 0) {\n            labels = this.get('labels');\n            if (!Array.isArray(labels)) return [];\n            return labels.slice();\n        }\n        // setter\n        if (!Array.isArray(labels)) labels = [];\n        return this.set('labels', labels, opt);\n    },\n\n    hasLabels: function() {\n        const { labels } = this.attributes;\n        return Array.isArray(labels) && labels.length > 0;\n    },\n\n    insertLabel: function(idx, label, opt) {\n\n        if (!label) throw new Error('dia.Link: no label provided');\n\n        var labels = this.labels();\n        var n = labels.length;\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : n;\n        if (idx < 0) idx = n + idx + 1;\n\n        labels.splice(idx, 0, label);\n        return this.labels(labels, opt);\n    },\n\n    // convenience function\n    // add label to end of labels array\n    appendLabel: function(label, opt) {\n\n        return this.insertLabel(-1, label, opt);\n    },\n\n    removeLabel: function(idx, opt) {\n\n        var labels = this.labels();\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : -1;\n\n        labels.splice(idx, 1);\n        return this.labels(labels, opt);\n    },\n\n    // Vertices API\n\n    vertex: function(idx, vertex, opt) {\n\n        var vertices = this.vertices();\n\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : 0;\n        if (idx < 0) idx = vertices.length + idx;\n\n        // getter\n        if (arguments.length <= 1) return this.prop(['vertices', idx]);\n\n        // setter\n        var setVertex = this._normalizeVertex(vertex);\n        return this.prop(['vertices', idx], setVertex, opt);\n    },\n\n    vertices: function(vertices, opt) {\n\n        // getter\n        if (arguments.length === 0) {\n            vertices = this.get('vertices');\n            if (!Array.isArray(vertices)) return [];\n            return vertices.slice();\n        }\n\n        // setter\n        if (!Array.isArray(vertices)) vertices = [];\n        var setVertices = [];\n        for (var i = 0; i < vertices.length; i++) {\n            var vertex = vertices[i];\n            var setVertex = this._normalizeVertex(vertex);\n            setVertices.push(setVertex);\n        }\n        return this.set('vertices', setVertices, opt);\n    },\n\n    insertVertex: function(idx, vertex, opt) {\n\n        if (!vertex) throw new Error('dia.Link: no vertex provided');\n\n        var vertices = this.vertices();\n        var n = vertices.length;\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : n;\n        if (idx < 0) idx = n + idx + 1;\n\n        var setVertex = this._normalizeVertex(vertex);\n        vertices.splice(idx, 0, setVertex);\n        return this.vertices(vertices, opt);\n    },\n\n    removeVertex: function(idx, opt) {\n\n        var vertices = this.vertices();\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : -1;\n\n        vertices.splice(idx, 1);\n        return this.vertices(vertices, opt);\n    },\n\n    _normalizeVertex: function(vertex) {\n\n        // is vertex a point-like object?\n        // for example, a g.Point\n        var isPointProvided = !isPlainObject(vertex);\n        if (isPointProvided) return { x: vertex.x, y: vertex.y };\n\n        // else: return vertex unchanged\n        return vertex;\n    },\n\n    // Transformations\n\n    translate: function(tx, ty, opt) {\n\n        // enrich the option object\n        opt = opt || {};\n        opt.translateBy = opt.translateBy || this.id;\n        opt.tx = tx;\n        opt.ty = ty;\n\n        return this.applyToPoints(function(p) {\n            return { x: (p.x || 0) + tx, y: (p.y || 0) + ty };\n        }, opt);\n    },\n\n    scale: function(sx, sy, origin, opt) {\n\n        return this.applyToPoints(function(p) {\n            return Point(p).scale(sx, sy, origin).toJSON();\n        }, opt);\n    },\n\n    applyToPoints: function(fn, opt) {\n\n        if (!isFunction(fn)) {\n            throw new TypeError('dia.Link: applyToPoints expects its first parameter to be a function.');\n        }\n\n        var attrs = {};\n\n        var { source, target } = this.attributes;\n        if (!source.id) {\n            attrs.source = fn(source);\n        }\n        if (!target.id) {\n            attrs.target = fn(target);\n        }\n\n        var vertices = this.vertices();\n        if (vertices.length > 0) {\n            attrs.vertices = vertices.map(fn);\n        }\n\n        return this.set(attrs, opt);\n    },\n\n    getSourcePoint: function() {\n        var sourceCell = this.getSourceCell();\n        if (!sourceCell) return new Point(this.source());\n        return sourceCell.getPointFromConnectedLink(this, 'source');\n    },\n\n    getTargetPoint: function() {\n        var targetCell = this.getTargetCell();\n        if (!targetCell) return new Point(this.target());\n        return targetCell.getPointFromConnectedLink(this, 'target');\n    },\n\n    getPointFromConnectedLink: function(/* link, endType */) {\n        return this.getPolyline().pointAt(0.5);\n    },\n\n    getPolyline: function() {\n        const points = [\n            this.getSourcePoint(),\n            ...this.vertices().map(Point),\n            this.getTargetPoint()\n        ];\n        return new Polyline(points);\n    },\n\n    getBBox: function() {\n        return this.getPolyline().bbox();\n    },\n\n    reparent: function(opt) {\n\n        var newParent;\n\n        if (this.graph) {\n\n            var source = this.getSourceElement();\n            var target = this.getTargetElement();\n            var prevParent = this.getParentCell();\n\n            if (source && target) {\n                if (source === target || source.isEmbeddedIn(target)) {\n                    newParent = target;\n                } else if (target.isEmbeddedIn(source)) {\n                    newParent = source;\n                } else {\n                    newParent = this.graph.getCommonAncestor(source, target);\n                }\n            }\n\n            if (prevParent && (!newParent || newParent.id !== prevParent.id)) {\n                // Unembed the link if source and target has no common ancestor\n                // or common ancestor changed\n                prevParent.unembed(this, opt);\n            }\n\n            if (newParent) {\n                newParent.embed(this, opt);\n            }\n        }\n\n        return newParent;\n    },\n\n    hasLoop: function(opt) {\n\n        opt = opt || {};\n\n        var { source, target } = this.attributes;\n        var sourceId = source.id;\n        var targetId = target.id;\n\n        if (!sourceId || !targetId) {\n            // Link \"pinned\" to the paper does not have a loop.\n            return false;\n        }\n\n        var loop = sourceId === targetId;\n\n        // Note that there in the deep mode a link can have a loop,\n        // even if it connects only a parent and its embed.\n        // A loop \"target equals source\" is valid in both shallow and deep mode.\n        if (!loop && opt.deep && this.graph) {\n\n            var sourceElement = this.getSourceCell();\n            var targetElement = this.getTargetCell();\n\n            loop = sourceElement.isEmbeddedIn(targetElement) || targetElement.isEmbeddedIn(sourceElement);\n        }\n\n        return loop;\n    },\n\n    // unlike source(), this method returns null if source is a point\n    getSourceCell: function() {\n\n        const { graph, attributes } = this;\n        var source = attributes.source;\n        return (source && source.id && graph && graph.getCell(source.id)) || null;\n    },\n\n    getSourceElement: function() {\n        var cell = this;\n        var visited = {};\n        do {\n            if (visited[cell.id]) return null;\n            visited[cell.id] = true;\n            cell = cell.getSourceCell();\n        } while (cell && cell.isLink());\n        return cell;\n    },\n\n    // unlike target(), this method returns null if target is a point\n    getTargetCell: function() {\n\n        const { graph, attributes } = this;\n        var target = attributes.target;\n        return (target && target.id && graph && graph.getCell(target.id)) || null;\n    },\n\n    getTargetElement: function() {\n        var cell = this;\n        var visited = {};\n        do {\n            if (visited[cell.id]) return null;\n            visited[cell.id] = true;\n            cell = cell.getTargetCell();\n        } while (cell && cell.isLink());\n        return cell;\n    },\n\n    // Returns the common ancestor for the source element,\n    // target element and the link itself.\n    getRelationshipAncestor: function() {\n\n        var connectionAncestor;\n\n        if (this.graph) {\n\n            var cells = [\n                this,\n                this.getSourceElement(), // null if source is a point\n                this.getTargetElement() // null if target is a point\n            ].filter(function(item) {\n                return !!item;\n            });\n\n            connectionAncestor = this.graph.getCommonAncestor.apply(this.graph, cells);\n        }\n\n        return connectionAncestor || null;\n    },\n\n    // Is source, target and the link itself embedded in a given cell?\n    isRelationshipEmbeddedIn: function(cell) {\n\n        var cellId = (isString(cell) || isNumber(cell)) ? cell : cell.id;\n        var ancestor = this.getRelationshipAncestor();\n\n        return !!ancestor && (ancestor.id === cellId || ancestor.isEmbeddedIn(cellId));\n    },\n\n    // Get resolved default label.\n    _getDefaultLabel: function() {\n\n        var defaultLabel = this.get('defaultLabel') || this.defaultLabel || {};\n\n        var label = {};\n        label.markup = defaultLabel.markup || this.get('labelMarkup') || this.labelMarkup;\n        label.position = defaultLabel.position;\n        label.attrs = defaultLabel.attrs;\n        label.size = defaultLabel.size;\n\n        return label;\n    }\n}, {\n\n    endsEqual: function(a, b) {\n\n        var portsEqual = a.port === b.port || !a.port && !b.port;\n        return a.id === b.id && portsEqual;\n    }\n});\n\n", "import * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { Rect, Point } from '../g/index.mjs';\nimport * as Port from '../layout/ports/port.mjs';\nimport * as PortLabel from '../layout/ports/portLabel.mjs';\n\nvar PortData = function(data) {\n\n    var clonedData = util.cloneDeep(data) || {};\n    this.ports = [];\n    this.groups = {};\n    this.portLayoutNamespace = Port;\n    this.portLabelLayoutNamespace = PortLabel;\n\n    this._init(clonedData);\n};\n\nPortData.prototype = {\n\n    getPorts: function() {\n        return this.ports;\n    },\n\n    getGroup: function(name) {\n        return this.groups[name] || {};\n    },\n\n    getPortsByGroup: function(groupName) {\n\n        return this.ports.filter(function(port) {\n            return port.group === groupName;\n        });\n    },\n\n    getGroupPortsMetrics: function(groupName, elBBox) {\n\n        var group = this.getGroup(groupName);\n        var ports = this.getPortsByGroup(groupName);\n\n        var groupPosition = group.position || {};\n        var groupPositionName = groupPosition.name;\n        var namespace = this.portLayoutNamespace;\n        if (!namespace[groupPositionName]) {\n            groupPositionName = 'left';\n        }\n\n        var groupArgs = groupPosition.args || {};\n        var portsArgs = ports.map(function(port) {\n            return port && port.position && port.position.args;\n        });\n        var groupPortTransformations = namespace[groupPositionName](portsArgs, elBBox, groupArgs);\n\n        var accumulator = {\n            ports: ports,\n            result: []\n        };\n\n        util.toArray(groupPortTransformations).reduce(function(res, portTransformation, index) {\n            var port = res.ports[index];\n            res.result.push({\n                portId: port.id,\n                portTransformation: portTransformation,\n                labelTransformation: this._getPortLabelLayout(port, Point(portTransformation), elBBox),\n                portAttrs: port.attrs,\n                portSize: port.size,\n                labelSize: port.label.size\n            });\n            return res;\n        }.bind(this), accumulator);\n\n        return accumulator.result;\n    },\n\n    _getPortLabelLayout: function(port, portPosition, elBBox) {\n\n        var namespace = this.portLabelLayoutNamespace;\n        var labelPosition = port.label.position.name || 'left';\n\n        if (namespace[labelPosition]) {\n            return namespace[labelPosition](portPosition, elBBox, port.label.position.args);\n        }\n\n        return null;\n    },\n\n    _init: function(data) {\n\n        // prepare groups\n        if (util.isObject(data.groups)) {\n            var groups = Object.keys(data.groups);\n            for (var i = 0, n = groups.length; i < n; i++) {\n                var key = groups[i];\n                this.groups[key] = this._evaluateGroup(data.groups[key]);\n            }\n        }\n\n        // prepare ports\n        var ports = util.toArray(data.items);\n        for (var j = 0, m = ports.length; j < m; j++) {\n            this.ports.push(this._evaluatePort(ports[j]));\n        }\n    },\n\n    _evaluateGroup: function(group) {\n\n        return util.merge(group, {\n            position: this._getPosition(group.position, true),\n            label: this._getLabel(group, true)\n        });\n    },\n\n    _evaluatePort: function(port) {\n\n        var evaluated = util.assign({}, port);\n\n        var group = this.getGroup(port.group);\n\n        evaluated.markup = evaluated.markup || group.markup;\n        evaluated.attrs = util.merge({}, group.attrs, evaluated.attrs);\n        evaluated.position = this._createPositionNode(group, evaluated);\n        evaluated.label = util.merge({}, group.label, this._getLabel(evaluated));\n        evaluated.z = this._getZIndex(group, evaluated);\n        evaluated.size = util.assign({}, group.size, evaluated.size);\n\n        return evaluated;\n    },\n\n    _getZIndex: function(group, port) {\n\n        if (util.isNumber(port.z)) {\n            return port.z;\n        }\n        if (util.isNumber(group.z) || group.z === 'auto') {\n            return group.z;\n        }\n        return 'auto';\n    },\n\n    _createPositionNode: function(group, port) {\n\n        return util.merge({\n            name: 'left',\n            args: {}\n        }, group.position, { args: port.args });\n    },\n\n    _getPosition: function(position, setDefault) {\n\n        var args = {};\n        var positionName;\n\n        if (util.isFunction(position)) {\n            positionName = 'fn';\n            args.fn = position;\n        } else if (util.isString(position)) {\n            positionName = position;\n        } else if (position === undefined) {\n            positionName = setDefault ? 'left' : null;\n        } else if (Array.isArray(position)) {\n            positionName = 'absolute';\n            args.x = position[0];\n            args.y = position[1];\n        } else if (util.isObject(position)) {\n            positionName = position.name;\n            util.assign(args, position.args);\n        }\n\n        var result = { args: args };\n\n        if (positionName) {\n            result.name = positionName;\n        }\n        return result;\n    },\n\n    _getLabel: function(item, setDefaults) {\n\n        var label = item.label || {};\n\n        var ret = label;\n        ret.position = this._getPosition(label.position, setDefaults);\n\n        return ret;\n    }\n};\n\nexport const elementPortPrototype = {\n\n    _initializePorts: function() {\n\n        this._createPortData();\n        this.on('change:ports', function() {\n\n            this._processRemovedPort();\n            this._createPortData();\n        }, this);\n    },\n\n    /**\n     * remove links tied wiht just removed element\n     * @private\n     */\n    _processRemovedPort: function() {\n\n        var current = this.get('ports') || {};\n        var currentItemsMap = {};\n\n        util.toArray(current.items).forEach(function(item) {\n            currentItemsMap[item.id] = true;\n        });\n\n        var previous = this.previous('ports') || {};\n        var removed = {};\n\n        util.toArray(previous.items).forEach(function(item) {\n            if (!currentItemsMap[item.id]) {\n                removed[item.id] = true;\n            }\n        });\n\n        var graph = this.graph;\n        if (graph && !util.isEmpty(removed)) {\n\n            var inboundLinks = graph.getConnectedLinks(this, { inbound: true });\n            inboundLinks.forEach(function(link) {\n\n                if (removed[link.get('target').port]) link.remove();\n            });\n\n            var outboundLinks = graph.getConnectedLinks(this, { outbound: true });\n            outboundLinks.forEach(function(link) {\n\n                if (removed[link.get('source').port]) link.remove();\n            });\n        }\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    hasPorts: function() {\n\n        var ports = this.prop('ports/items');\n        return Array.isArray(ports) && ports.length > 0;\n    },\n\n    /**\n     * @param {string} id\n     * @returns {boolean}\n     */\n    hasPort: function(id) {\n\n        return this.getPortIndex(id) !== -1;\n    },\n\n    /**\n     * @returns {Array<object>}\n     */\n    getPorts: function() {\n\n        return util.cloneDeep(this.prop('ports/items')) || [];\n    },\n\n    /**\n     * @returns {Array<object>}\n     */\n    getGroupPorts: function(groupName) {\n        const groupPorts = util.toArray(this.prop(['ports','items'])).filter(port => port.group === groupName);\n        return util.cloneDeep(groupPorts);\n    },\n\n    /**\n     * @param {string} id\n     * @returns {object}\n     */\n    getPort: function(id) {\n\n        return util.cloneDeep(util.toArray(this.prop('ports/items')).find(function(port) {\n            return port.id && port.id === id;\n        }));\n    },\n\n    /**\n     * @param {string} groupName\n     * @returns {Object<portId, {x: number, y: number, angle: number}>}\n     */\n    getPortsPositions: function(groupName) {\n\n        var portsMetrics = this._portSettingsData.getGroupPortsMetrics(groupName, Rect(this.size()));\n\n        return portsMetrics.reduce(function(positions, metrics) {\n            var transformation = metrics.portTransformation;\n            positions[metrics.portId] = {\n                x: transformation.x,\n                y: transformation.y,\n                angle: transformation.angle\n            };\n            return positions;\n        }, {});\n    },\n\n    /**\n     * @param {string|Port} port port id or port\n     * @returns {number} port index\n     */\n    getPortIndex: function(port) {\n\n        var id = util.isObject(port) ? port.id : port;\n\n        if (!this._isValidPortId(id)) {\n            return -1;\n        }\n\n        return util.toArray(this.prop('ports/items')).findIndex(function(item) {\n            return item.id === id;\n        });\n    },\n\n    /**\n     * @param {object} port\n     * @param {object} [opt]\n     * @returns {joint.dia.Element}\n     */\n    addPort: function(port, opt) {\n\n        if (!util.isObject(port) || Array.isArray(port)) {\n            throw new Error('Element: addPort requires an object.');\n        }\n\n        var ports = util.assign([], this.prop('ports/items'));\n        ports.push(port);\n        this.prop('ports/items', ports, opt);\n\n        return this;\n    },\n\n    /**\n     * @param {string|Port|number} before\n     * @param {object} port\n     * @param {object} [opt]\n     * @returns {joint.dia.Element}\n     */\n    insertPort: function(before, port, opt) {\n        const index = (typeof before === 'number') ? before : this.getPortIndex(before);\n\n        if (!util.isObject(port) || Array.isArray(port)) {\n            throw new Error('dia.Element: insertPort requires an object.');\n        }\n\n        const ports = util.assign([], this.prop('ports/items'));\n        ports.splice(index, 0, port);\n        this.prop('ports/items', ports, opt);\n\n        return this;\n    },\n\n    /**\n     * @param {string} portId\n     * @param {string|object=} path\n     * @param {*=} value\n     * @param {object=} opt\n     * @returns {joint.dia.Element}\n     */\n    portProp: function(portId, path, value, opt) {\n\n        var index = this.getPortIndex(portId);\n\n        if (index === -1) {\n            throw new Error('Element: unable to find port with id ' + portId);\n        }\n\n        var args = Array.prototype.slice.call(arguments, 1);\n        if (Array.isArray(path)) {\n            args[0] = ['ports', 'items', index].concat(path);\n        } else if (util.isString(path)) {\n\n            // Get/set an attribute by a special path syntax that delimits\n            // nested objects by the colon character.\n            args[0] = ['ports/items/', index, '/', path].join('');\n\n        } else {\n\n            args = ['ports/items/' + index];\n            if (util.isPlainObject(path)) {\n                args.push(path);\n                args.push(value);\n            }\n        }\n\n        return this.prop.apply(this, args);\n    },\n\n    _validatePorts: function() {\n\n        var portsAttr = this.get('ports') || {};\n\n        var errorMessages = [];\n        portsAttr = portsAttr || {};\n        var ports = util.toArray(portsAttr.items);\n\n        ports.forEach(function(p) {\n\n            if (typeof p !== 'object') {\n                errorMessages.push('Element: invalid port ', p);\n            }\n\n            if (!this._isValidPortId(p.id)) {\n                p.id = this.generatePortId();\n            }\n        }, this);\n\n        if (util.uniq(ports, 'id').length !== ports.length) {\n            errorMessages.push('Element: found id duplicities in ports.');\n        }\n\n        return errorMessages;\n    },\n\n    generatePortId: function() {\n        return this.generateId();\n    },\n\n    /**\n     * @param {string} id port id\n     * @returns {boolean}\n     * @private\n     */\n    _isValidPortId: function(id) {\n\n        return id !== null && id !== undefined && !util.isObject(id);\n    },\n\n    addPorts: function(ports, opt) {\n\n        if (ports.length) {\n            this.prop('ports/items', util.assign([], this.prop('ports/items')).concat(ports), opt);\n        }\n\n        return this;\n    },\n\n    removePort: function(port, opt) {\n        const options = opt || {};\n        const index = this.getPortIndex(port);\n        if (index !== -1) {\n            const ports = util.assign([], this.prop(['ports', 'items']));\n            ports.splice(index, 1);\n            options.rewrite = true;\n            this.startBatch('port-remove');\n            this.prop(['ports', 'items'], ports, options);\n            this.stopBatch('port-remove');\n        }\n        return this;\n    },\n\n    removePorts: function(portsForRemoval, opt) {\n        let options, newPorts;\n        if (Array.isArray(portsForRemoval)) {\n            options = opt || {};\n            if (portsForRemoval.length === 0) return this.this;\n            const currentPorts = util.assign([], this.prop(['ports', 'items']));\n            newPorts = currentPorts.filter(function(cp) {\n                return !portsForRemoval.some(function(rp) {\n                    const rpId = util.isObject(rp) ? rp.id : rp;\n                    return cp.id === rpId;\n                });\n            });\n        } else {\n            options = portsForRemoval || {};\n            newPorts = [];\n        }\n        this.startBatch('port-remove');\n        options.rewrite = true;\n        this.prop(['ports', 'items'], newPorts, options);\n        this.stopBatch('port-remove');\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    _createPortData: function() {\n\n        var err = this._validatePorts();\n\n        if (err.length > 0) {\n            this.set('ports', this.previous('ports'));\n            throw new Error(err.join(' '));\n        }\n\n        var prevPortData;\n\n        if (this._portSettingsData) {\n\n            prevPortData = this._portSettingsData.getPorts();\n        }\n\n        this._portSettingsData = new PortData(this.get('ports'));\n\n        var curPortData = this._portSettingsData.getPorts();\n\n        if (prevPortData) {\n\n            var added = curPortData.filter(function(item) {\n                if (!prevPortData.find(function(prevPort) {\n                    return prevPort.id === item.id;\n                })) {\n                    return item;\n                }\n            });\n\n            var removed = prevPortData.filter(function(item) {\n                if (!curPortData.find(function(curPort) {\n                    return curPort.id === item.id;\n                })) {\n                    return item;\n                }\n            });\n\n            if (removed.length > 0) {\n                this.trigger('ports:remove', this, removed);\n            }\n\n            if (added.length > 0) {\n                this.trigger('ports:add', this, added);\n            }\n        }\n    }\n};\n\nexport const elementViewPortPrototype = {\n\n    portContainerMarkup: 'g',\n    portMarkup: [{\n        tagName: 'circle',\n        selector: 'circle',\n        attributes: {\n            'r': 10,\n            'fill': '#FFFFFF',\n            'stroke': '#000000'\n        }\n    }],\n    portLabelMarkup: [{\n        tagName: 'text',\n        selector: 'text',\n        attributes: {\n            'fill': '#000000'\n        }\n    }],\n    /** @type {Object<string, {portElement: Vectorizer, portLabelElement: Vectorizer}>} */\n    _portElementsCache: null,\n\n    /**\n     * @private\n     */\n    _initializePorts: function() {\n        this._cleanPortsCache();\n    },\n\n    /**\n     * @typedef {Object} Port\n     *\n     * @property {string} id\n     * @property {Object} position\n     * @property {Object} label\n     * @property {Object} attrs\n     * @property {string} markup\n     * @property {string} group\n     */\n\n    /**\n     * @private\n     */\n    _refreshPorts: function() {\n\n        this._removePorts();\n        this._cleanPortsCache();\n        this._renderPorts();\n    },\n\n    _cleanPortsCache: function() {\n        this._portElementsCache = {};\n    },\n\n    /**\n     * @private\n     */\n    _renderPorts: function() {\n\n        // references to rendered elements without z-index\n        var elementReferences = [];\n        var elem = this._getContainerElement();\n\n        for (var i = 0, count = elem.node.childNodes.length; i < count; i++) {\n            elementReferences.push(elem.node.childNodes[i]);\n        }\n\n        var portsGropsByZ = util.groupBy(this.model._portSettingsData.getPorts(), 'z');\n        var withoutZKey = 'auto';\n\n        // render non-z first\n        util.toArray(portsGropsByZ[withoutZKey]).forEach(function(port) {\n            var portElement = this._getPortElement(port);\n            elem.append(portElement);\n            elementReferences.push(portElement);\n        }, this);\n\n        var groupNames = Object.keys(portsGropsByZ);\n        for (var k = 0; k < groupNames.length; k++) {\n            var groupName = groupNames[k];\n            if (groupName !== withoutZKey) {\n                var z = parseInt(groupName, 10);\n                this._appendPorts(portsGropsByZ[groupName], z, elementReferences);\n            }\n        }\n\n        this._updatePorts();\n    },\n\n    /**\n     * @returns {V}\n     * @private\n     */\n    _getContainerElement: function() {\n\n        return this.rotatableNode || this.vel;\n    },\n\n    /**\n     * @param {Array<Port>}ports\n     * @param {number} z\n     * @param refs\n     * @private\n     */\n    _appendPorts: function(ports, z, refs) {\n\n        var containerElement = this._getContainerElement();\n        var portElements = util.toArray(ports).map(this._getPortElement, this);\n\n        if (refs[z] || z < 0) {\n            V(refs[Math.max(z, 0)]).before(portElements);\n        } else {\n            containerElement.append(portElements);\n        }\n    },\n\n    /**\n     * Try to get element from cache,\n     * @param port\n     * @returns {*}\n     * @private\n     */\n    _getPortElement: function(port) {\n\n        if (this._portElementsCache[port.id]) {\n            return this._portElementsCache[port.id].portElement;\n        }\n        return this._createPortElement(port);\n    },\n\n    findPortNode: function(portId, selector) {\n        const portCache = this._portElementsCache[portId];\n        if (!portCache) return null;\n        if (!selector) return portCache.portContentElement.node;\n        const portRoot = portCache.portElement.node;\n        const portSelectors = portCache.portSelectors;\n        const [node = null] = this.findBySelector(selector, portRoot, portSelectors);\n        return node;\n    },\n\n    /**\n     * @private\n     */\n    _updatePorts: function() {\n\n        // layout ports without group\n        this._updatePortGroup(undefined);\n        // layout ports with explicit group\n        var groupsNames = Object.keys(this.model._portSettingsData.groups);\n        groupsNames.forEach(this._updatePortGroup, this);\n    },\n\n    /**\n     * @private\n     */\n    _removePorts: function() {\n        util.invoke(this._portElementsCache, 'portElement.remove');\n    },\n\n    /**\n     * @param {Port} port\n     * @returns {V}\n     * @private\n     */\n    _createPortElement: function(port) {\n\n        let portElement;\n        let labelElement;\n        let labelSelectors;\n        let portSelectors;\n\n        var portContainerElement = V(this.portContainerMarkup).addClass('joint-port');\n\n        var portMarkup = this._getPortMarkup(port);\n        if (Array.isArray(portMarkup)) {\n            var portDoc = this.parseDOMJSON(portMarkup, portContainerElement.node);\n            var portFragment = portDoc.fragment;\n            if (portFragment.childNodes.length > 1) {\n                portElement = V('g').append(portFragment);\n            } else {\n                portElement = V(portFragment.firstChild);\n            }\n            portSelectors = portDoc.selectors;\n        } else {\n            portElement = V(portMarkup);\n            if (Array.isArray(portElement)) {\n                portElement = V('g').append(portElement);\n            }\n        }\n\n        if (!portElement) {\n            throw new Error('ElementView: Invalid port markup.');\n        }\n\n        portElement.attr({\n            'port': port.id,\n            'port-group': port.group\n        });\n\n        const labelMarkupDef = this._getPortLabelMarkup(port.label);\n        if (Array.isArray(labelMarkupDef)) {\n            // JSON Markup\n            const { fragment, selectors } = this.parseDOMJSON(labelMarkupDef, portContainerElement.node);\n            const childCount = fragment.childNodes.length;\n            if (childCount > 0) {\n                labelSelectors = selectors;\n                labelElement = (childCount === 1) ? V(fragment.firstChild) : V('g').append(fragment);\n            }\n        } else {\n            // String Markup\n            labelElement = V(labelMarkupDef);\n            if (Array.isArray(labelElement)) {\n                labelElement = V('g').append(labelElement);\n            }\n        }\n\n        var portContainerSelectors;\n        if (portSelectors && labelSelectors) {\n            for (var key in labelSelectors) {\n                if (portSelectors[key] && key !== this.selector) throw new Error('ElementView: selectors within port must be unique.');\n            }\n            portContainerSelectors = util.assign({}, portSelectors, labelSelectors);\n        } else {\n            portContainerSelectors = portSelectors || labelSelectors || {};\n        }\n\n        // The `portRootSelector` points to the root SVGNode of the port.\n        // Either the implicit wrapping group <g/> in case the port consist of multiple SVGNodes.\n        // Or the single SVGNode of the port.\n        const portRootSelector = 'portRoot';\n        // The `labelRootSelector` points to the root SVGNode of the label.\n        const labelRootSelector = 'labelRoot';\n        // The `labelTextSelector` points to all text SVGNodes of the label.\n        const labelTextSelector = 'labelText';\n\n        if (!(portRootSelector in portContainerSelectors)) {\n            portContainerSelectors[portRootSelector] = portElement.node;\n        }\n\n        if (labelElement) {\n            const labelNode = labelElement.node;\n            if (!(labelRootSelector in portContainerSelectors)) {\n                portContainerSelectors[labelRootSelector] = labelNode;\n            }\n            if (!(labelTextSelector in portContainerSelectors)) {\n                // If the label is a <text> element, we can use it directly.\n                // Otherwise, we need to find the <text> element within the label.\n                const labelTextNode = (labelElement.tagName() === 'TEXT')\n                    ? labelNode\n                    : Array.from(labelNode.querySelectorAll('text'));\n                portContainerSelectors[labelTextSelector] = labelTextNode;\n                if (!labelSelectors) labelSelectors = {};\n                labelSelectors[labelTextSelector] = labelTextNode;\n            }\n        }\n\n        portContainerElement.append(portElement.addClass('joint-port-body'));\n        if (labelElement) {\n            portContainerElement.append(labelElement.addClass('joint-port-label'));\n        }\n\n        this._portElementsCache[port.id] = {\n            portElement: portContainerElement,\n            portLabelElement: labelElement,\n            portSelectors: portContainerSelectors,\n            portLabelSelectors: labelSelectors,\n            portContentElement: portElement,\n            portContentSelectors: portSelectors\n        };\n\n        return portContainerElement;\n    },\n\n    /**\n     * @param {string=} groupName\n     * @private\n     */\n    _updatePortGroup: function(groupName) {\n\n        var elementBBox = Rect(this.model.size());\n        var portsMetrics = this.model._portSettingsData.getGroupPortsMetrics(groupName, elementBBox);\n\n        for (var i = 0, n = portsMetrics.length; i < n; i++) {\n            var metrics = portsMetrics[i];\n            var portId = metrics.portId;\n            var cached = this._portElementsCache[portId] || {};\n            var portTransformation = metrics.portTransformation;\n            var labelTransformation = metrics.labelTransformation;\n            if (labelTransformation && cached.portLabelElement) {\n                this.updateDOMSubtreeAttributes(cached.portLabelElement.node, labelTransformation.attrs, {\n                    rootBBox: new Rect(metrics.labelSize),\n                    selectors: cached.portLabelSelectors\n                });\n                this.applyPortTransform(cached.portLabelElement, labelTransformation, (-portTransformation.angle || 0));\n            }\n            this.updateDOMSubtreeAttributes(cached.portElement.node, metrics.portAttrs, {\n                rootBBox: new Rect(metrics.portSize),\n                selectors: cached.portSelectors\n            });\n            this.applyPortTransform(cached.portElement, portTransformation);\n        }\n    },\n\n    /**\n     * @param {Vectorizer} element\n     * @param {{dx:number, dy:number, angle: number, attrs: Object, x:number: y:number}} transformData\n     * @param {number=} initialAngle\n     * @constructor\n     */\n    applyPortTransform: function(element, transformData, initialAngle) {\n\n        var matrix = V.createSVGMatrix()\n            .rotate(initialAngle || 0)\n            .translate(transformData.x || 0, transformData.y || 0)\n            .rotate(transformData.angle || 0);\n\n        element.transform(matrix, { absolute: true });\n    },\n\n    /**\n     * @param {Port} port\n     * @returns {string}\n     * @private\n     */\n    _getPortMarkup: function(port) {\n\n        return port.markup || this.model.get('portMarkup') || this.model.portMarkup || this.portMarkup;\n    },\n\n    /**\n     * @param {Object} label\n     * @returns {string}\n     * @private\n     */\n    _getPortLabelMarkup: function(label) {\n\n        return label.markup || this.model.get('portLabelMarkup') || this.model.portLabelMarkup || this.portLabelMarkup;\n    }\n};\n\n", "import { Cell } from './Cell.mjs';\nimport { Point, toRad, normalizeAngle, Rect } from '../g/index.mjs';\nimport { isNumber, isObject, interpolate, assign, invoke, normalizeSides } from '../util/index.mjs';\nimport { elementPortPrototype } from './ports.mjs';\n\n// Element base model.\n// -----------------------------\n\nexport const Element = Cell.extend({\n\n    defaults: {\n        position: { x: 0, y: 0 },\n        size: { width: 1, height: 1 },\n        angle: 0\n    },\n\n    initialize: function() {\n\n        this._initializePorts();\n        Cell.prototype.initialize.apply(this, arguments);\n    },\n\n    /**\n     * @abstract\n     */\n    _initializePorts: function() {\n        // implemented in ports.js\n    },\n\n    _refreshPorts: function() {\n        // implemented in ports.js\n    },\n\n    isElement: function() {\n\n        return true;\n    },\n\n    position: function(x, y, opt) {\n\n        const isSetter = isNumber(y);\n        opt = (isSetter ? opt : x) || {};\n        const { parentRelative, deep, restrictedArea } = opt;\n\n\n        // option `parentRelative` for setting the position relative to the element's parent.\n        let parentPosition;\n        if (parentRelative) {\n\n            // Getting the parent's position requires the collection.\n            // Cell.parent() holds cell id only.\n            if (!this.graph) throw new Error('Element must be part of a graph.');\n\n            const parent = this.getParentCell();\n            if (parent && !parent.isLink()) {\n                parentPosition = parent.get('position');\n            }\n        }\n\n        if (isSetter) {\n\n            if (parentPosition) {\n                x += parentPosition.x;\n                y += parentPosition.y;\n            }\n\n            if (deep || restrictedArea) {\n                const { x: x0, y: y0 } = this.get('position');\n                this.translate(x - x0, y - y0, opt);\n            } else {\n                this.set('position', { x, y }, opt);\n            }\n\n            return this;\n\n        } else { // Getter returns a geometry point.\n\n            const elementPosition = Point(this.get('position'));\n            return parentRelative\n                ? elementPosition.difference(parentPosition)\n                : elementPosition;\n        }\n    },\n\n    translate: function(tx, ty, opt) {\n\n        tx = tx || 0;\n        ty = ty || 0;\n\n        if (tx === 0 && ty === 0) {\n            // Like nothing has happened.\n            return this;\n        }\n\n        opt = opt || {};\n        // Pass the initiator of the translation.\n        opt.translateBy = opt.translateBy || this.id;\n\n        var position = this.get('position') || { x: 0, y: 0 };\n        var ra = opt.restrictedArea;\n        if (ra && opt.translateBy === this.id) {\n\n            if (typeof ra === 'function') {\n\n                var newPosition = ra.call(this, position.x + tx, position.y + ty, opt);\n\n                tx = newPosition.x - position.x;\n                ty = newPosition.y - position.y;\n\n            } else  {\n                // We are restricting the translation for the element itself only. We get\n                // the bounding box of the element including all its embeds.\n                // All embeds have to be translated the exact same way as the element.\n                var bbox = this.getBBox({ deep: true });\n                //- - - - - - - - - - - - -> ra.x + ra.width\n                // - - - -> position.x      |\n                // -> bbox.x\n                //                ▓▓▓▓▓▓▓   |\n                //         ░░░░░░░▓▓▓▓▓▓▓\n                //         ░░░░░░░░░        |\n                //   ▓▓▓▓▓▓▓▓░░░░░░░\n                //   ▓▓▓▓▓▓▓▓               |\n                //   <-dx->                     | restricted area right border\n                //         <-width->        |   ░ translated element\n                //   <- - bbox.width - ->       ▓ embedded element\n                var dx = position.x - bbox.x;\n                var dy = position.y - bbox.y;\n                // Find the maximal/minimal coordinates that the element can be translated\n                // while complies the restrictions.\n                var x = Math.max(ra.x + dx, Math.min(ra.x + ra.width + dx - bbox.width, position.x + tx));\n                var y = Math.max(ra.y + dy, Math.min(ra.y + ra.height + dy - bbox.height, position.y + ty));\n                // recalculate the translation taking the restrictions into account.\n                tx = x - position.x;\n                ty = y - position.y;\n            }\n        }\n\n        var translatedPosition = {\n            x: position.x + tx,\n            y: position.y + ty\n        };\n\n        // To find out by how much an element was translated in event 'change:position' handlers.\n        opt.tx = tx;\n        opt.ty = ty;\n\n        if (opt.transition) {\n\n            if (!isObject(opt.transition)) opt.transition = {};\n\n            this.transition('position', translatedPosition, assign({}, opt.transition, {\n                valueFunction: interpolate.object\n            }));\n\n            // Recursively call `translate()` on all the embeds cells.\n            invoke(this.getEmbeddedCells(), 'translate', tx, ty, opt);\n\n        } else {\n\n            this.startBatch('translate', opt);\n            this.set('position', translatedPosition, opt);\n            invoke(this.getEmbeddedCells(), 'translate', tx, ty, opt);\n            this.stopBatch('translate', opt);\n        }\n\n        return this;\n    },\n\n    size: function(width, height, opt) {\n\n        var currentSize = this.get('size');\n        // Getter\n        // () signature\n        if (width === undefined) {\n            return {\n                width: currentSize.width,\n                height: currentSize.height\n            };\n        }\n        // Setter\n        // (size, opt) signature\n        if (isObject(width)) {\n            opt = height;\n            height = isNumber(width.height) ? width.height : currentSize.height;\n            width = isNumber(width.width) ? width.width : currentSize.width;\n        }\n\n        return this.resize(width, height, opt);\n    },\n\n    resize: function(width, height, opt) {\n\n        opt = opt || {};\n\n        this.startBatch('resize', opt);\n\n        if (opt.direction) {\n\n            var currentSize = this.get('size');\n\n            switch (opt.direction) {\n\n                case 'left':\n                case 'right':\n                    // Don't change height when resizing horizontally.\n                    height = currentSize.height;\n                    break;\n\n                case 'top':\n                case 'bottom':\n                    // Don't change width when resizing vertically.\n                    width = currentSize.width;\n                    break;\n            }\n\n            // Get the angle and clamp its value between 0 and 360 degrees.\n            var angle = normalizeAngle(this.get('angle') || 0);\n\n            // This is a rectangle in size of the un-rotated element.\n            var bbox = this.getBBox();\n\n            var origin;\n\n            if (angle) {\n\n                var quadrant = {\n                    'top-right': 0,\n                    'right': 0,\n                    'top-left': 1,\n                    'top': 1,\n                    'bottom-left': 2,\n                    'left': 2,\n                    'bottom-right': 3,\n                    'bottom': 3\n                }[opt.direction];\n\n                if (opt.absolute) {\n\n                    // We are taking the element's rotation into account\n                    quadrant += Math.floor((angle + 45) / 90);\n                    quadrant %= 4;\n                }\n\n                // Pick the corner point on the element, which meant to stay on its place before and\n                // after the rotation.\n                var fixedPoint = bbox[['bottomLeft', 'corner', 'topRight', 'origin'][quadrant]]();\n\n                // Find  an image of the previous indent point. This is the position, where is the\n                // point actually located on the screen.\n                var imageFixedPoint = Point(fixedPoint).rotate(bbox.center(), -angle);\n\n                // Every point on the element rotates around a circle with the centre of rotation\n                // in the middle of the element while the whole element is being rotated. That means\n                // that the distance from a point in the corner of the element (supposed its always rect) to\n                // the center of the element doesn't change during the rotation and therefore it equals\n                // to a distance on un-rotated element.\n                // We can find the distance as DISTANCE = (ELEMENTWIDTH/2)^2 + (ELEMENTHEIGHT/2)^2)^0.5.\n                var radius = Math.sqrt((width * width) + (height * height)) / 2;\n\n                // Now we are looking for an angle between x-axis and the line starting at image of fixed point\n                // and ending at the center of the element. We call this angle `alpha`.\n\n                // The image of a fixed point is located in n-th quadrant. For each quadrant passed\n                // going anti-clockwise we have to add 90 degrees. Note that the first quadrant has index 0.\n                //\n                // 3 | 2\n                // --c-- Quadrant positions around the element's center `c`\n                // 0 | 1\n                //\n                var alpha = quadrant * Math.PI / 2;\n\n                // Add an angle between the beginning of the current quadrant (line parallel with x-axis or y-axis\n                // going through the center of the element) and line crossing the indent of the fixed point and the center\n                // of the element. This is the angle we need but on the un-rotated element.\n                alpha += Math.atan(quadrant % 2 == 0 ? height / width : width / height);\n\n                // Lastly we have to deduct the original angle the element was rotated by and that's it.\n                alpha -= toRad(angle);\n\n                // With this angle and distance we can easily calculate the centre of the un-rotated element.\n                // Note that fromPolar constructor accepts an angle in radians.\n                var center = Point.fromPolar(radius, alpha, imageFixedPoint);\n\n                // The top left corner on the un-rotated element has to be half a width on the left\n                // and half a height to the top from the center. This will be the origin of rectangle\n                // we were looking for.\n                origin = Point(center).offset(width / -2, height / -2);\n\n            } else {\n                // calculation for the origin Point when there is no rotation of the element\n                origin = bbox.topLeft();\n\n                switch (opt.direction) {\n                    case 'top':\n                    case 'top-right':\n                        origin.offset(0, bbox.height - height);\n                        break;\n                    case 'left':\n                    case 'bottom-left':\n                        origin.offset(bbox.width -width, 0);\n                        break;\n                    case 'top-left':\n                        origin.offset(bbox.width - width, bbox.height - height);\n                        break;\n                }\n            }\n\n            // Resize the element (before re-positioning it).\n            this.set('size', { width: width, height: height }, opt);\n\n            // Finally, re-position the element.\n            this.position(origin.x, origin.y, opt);\n\n        } else {\n\n            // Resize the element.\n            this.set('size', { width: width, height: height }, opt);\n        }\n\n        this.stopBatch('resize', opt);\n\n        return this;\n    },\n\n    scale: function(sx, sy, origin, opt) {\n\n        var scaledBBox = this.getBBox().scale(sx, sy, origin);\n        this.startBatch('scale', opt);\n        this.position(scaledBBox.x, scaledBBox.y, opt);\n        this.resize(scaledBBox.width, scaledBBox.height, opt);\n        this.stopBatch('scale');\n        return this;\n    },\n\n    fitEmbeds: function(opt) {\n\n        return this.fitToChildren(opt);\n    },\n\n    fitToChildren: function(opt = {}) {\n\n        // Getting the children's size and position requires the collection.\n        // Cell.get('embeds') holds an array of cell ids only.\n        const { graph } = this;\n        if (!graph) throw new Error('Element must be part of a graph.');\n\n        const childElements = this.getEmbeddedCells().filter(cell => cell.isElement());\n        if (childElements.length === 0) return this;\n\n        this.startBatch('fit-embeds', opt);\n\n        if (opt.deep) {\n            // `opt.deep = true` means \"fit to all descendants\".\n            // As the first action of the fitting algorithm, recursively apply `fitToChildren()` on all descendants.\n            // - i.e. the algorithm is applied in reverse-depth order - start from deepest descendant, then go up (= this element).\n            invoke(childElements, 'fitToChildren', opt);\n        }\n\n        // Set new size and position of this element, based on:\n        // - union of bboxes of all children\n        // - inflated by given `opt.padding`\n        this._fitToElements(Object.assign({ elements: childElements }, opt));\n\n        this.stopBatch('fit-embeds');\n\n        return this;\n    },\n\n    fitParent: function(opt = {}) {\n\n        const { graph } = this;\n        if (!graph) throw new Error('Element must be part of a graph.');\n\n        // When `opt.deep = true`, we want `opt.terminator` to be the last ancestor processed.\n        // If the current element is `opt.terminator`, it means that this element has already been processed as parent so we can exit now.\n        if (opt.deep && opt.terminator && ((opt.terminator === this) || (opt.terminator === this.id))) return this;\n\n        const parentElement = this.getParentCell();\n        if (!parentElement || !parentElement.isElement()) return this;\n\n        // Get all children of parent element (i.e. this element + any sibling elements).\n        const siblingElements = parentElement.getEmbeddedCells().filter(cell => cell.isElement());\n        if (siblingElements.length === 0) return this;\n\n        this.startBatch('fit-parent', opt);\n\n        // Set new size and position of parent element, based on:\n        // - union of bboxes of all children of parent element (i.e. this element + any sibling elements)\n        // - inflated by given `opt.padding`\n        parentElement._fitToElements(Object.assign({ elements: siblingElements }, opt));\n\n        if (opt.deep) {\n            // `opt.deep = true` means \"fit all ancestors to their respective children\".\n            // As the last action of the fitting algorithm, recursively apply `fitParent()` on all ancestors.\n            // - i.e. the algorithm is applied in reverse-depth order - start from deepest descendant (= this element), then go up.\n            parentElement.fitParent(opt);\n        }\n\n        this.stopBatch('fit-parent');\n\n        return this;\n    },\n\n    // Assumption: This element is part of a graph.\n    _fitToElements: function(opt = {}) {\n\n        const elementsBBox = this.graph.getCellsBBox(opt.elements);\n        // If no `opt.elements` were provided, do nothing.\n        if (!elementsBBox) return;\n\n        const { expandOnly, shrinkOnly } = opt;\n        // This combination is meaningless, do nothing.\n        if (expandOnly && shrinkOnly) return;\n\n        // Calculate new size and position of this element based on:\n        // - union of bboxes of `opt.elements`\n        // - inflated by `opt.padding` (if not provided, all four properties = 0)\n        let { x, y, width, height } = elementsBBox;\n        const { left, right, top, bottom } = normalizeSides(opt.padding);\n        x -= left;\n        y -= top;\n        width += left + right;\n        height += bottom + top;\n        let resultBBox = new Rect(x, y, width, height);\n\n        if (expandOnly) {\n            // Non-shrinking is enforced by taking union of this element's current bbox with bbox calculated from `opt.elements`.\n            resultBBox = this.getBBox().union(resultBBox);\n\n        } else if (shrinkOnly) {\n            // Non-expansion is enforced by taking intersection of this element's current bbox with bbox calculated from `opt.elements`.\n            const intersectionBBox = this.getBBox().intersect(resultBBox);\n            // If all children are outside this element's current bbox, then `intersectionBBox` is `null` - does not make sense, do nothing.\n            if (!intersectionBBox) return;\n\n            resultBBox =  intersectionBBox;\n        }\n\n        // Set the new size and position of this element.\n        this.set({\n            position: { x: resultBBox.x, y: resultBBox.y },\n            size: { width: resultBBox.width, height: resultBBox.height }\n        }, opt);\n    },\n\n    // Rotate element by `angle` degrees, optionally around `origin` point.\n    // If `origin` is not provided, it is considered to be the center of the element.\n    // If `absolute` is `true`, the `angle` is considered is absolute, i.e. it is not\n    // the difference from the previous angle.\n    rotate: function(angle, absolute, origin, opt) {\n\n        if (origin) {\n\n            var center = this.getBBox().center();\n            var size = this.get('size');\n            var position = this.get('position');\n            center.rotate(origin, this.get('angle') - angle);\n            var dx = center.x - size.width / 2 - position.x;\n            var dy = center.y - size.height / 2 - position.y;\n            this.startBatch('rotate', { angle: angle, absolute: absolute, origin: origin });\n            this.position(position.x + dx, position.y + dy, opt);\n            this.rotate(angle, absolute, null, opt);\n            this.stopBatch('rotate');\n\n        } else {\n\n            this.set('angle', absolute ? angle : (this.get('angle') + angle) % 360, opt);\n        }\n\n        return this;\n    },\n\n    angle: function() {\n        return normalizeAngle(this.get('angle') || 0);\n    },\n\n    getBBox: function(opt = {}) {\n\n        const { graph, attributes } = this;\n        const { deep, rotate } = opt;\n\n        if (deep && graph) {\n            // Get all the embedded elements using breadth first algorithm.\n            const elements = this.getEmbeddedCells({ deep: true, breadthFirst: true });\n            // Add the model itself.\n            elements.push(this);\n            // Note: the default of getCellsBBox() is rotate=true and can't be\n            // changed without a breaking change\n            return graph.getCellsBBox(elements, opt);\n        }\n\n        const { angle = 0, position: { x, y }, size: { width, height }} = attributes;\n        const bbox = new Rect(x, y, width, height);\n        if (rotate) {\n            bbox.rotateAroundCenter(angle);\n        }\n        return bbox;\n    },\n\n    getPointFromConnectedLink: function(link, endType) {\n        // Center of the model\n        var bbox = this.getBBox();\n        var center = bbox.center();\n        // Center of a port\n        var endDef = link.get(endType);\n        if (!endDef) return center;\n        var portId = endDef.port;\n        if (!portId || !this.hasPort(portId)) return center;\n        var portGroup = this.portProp(portId, ['group']);\n        var portsPositions = this.getPortsPositions(portGroup);\n        var portCenter = new Point(portsPositions[portId]).offset(bbox.origin());\n        var angle = this.angle();\n        if (angle) portCenter.rotate(center, -angle);\n        return portCenter;\n    }\n});\n\nassign(Element.prototype, elementPortPrototype);\n\n", "export * from './View.mjs';\nexport * from './Listener.mjs';\n", "import Backbone from 'backbone';\nimport $ from 'jquery';\nimport * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { config } from '../config/index.mjs';\n\nexport const views = {};\n\nexport const View = Backbone.View.extend({\n\n    options: {},\n    theme: null,\n    themeClassNamePrefix: util.addClassNamePrefix('theme-'),\n    requireSetThemeOverride: false,\n    defaultTheme: config.defaultTheme,\n    children: null,\n    childNodes: null,\n\n    DETACHABLE: true,\n    UPDATE_PRIORITY: 2,\n    FLAG_INSERT: 1<<30,\n    FLAG_REMOVE: 1<<29,\n    FLAG_INIT: 1<<28,\n\n    constructor: function(options) {\n\n        this.requireSetThemeOverride = options && !!options.theme;\n        this.options = util.assign({}, this.options, options);\n\n        Backbone.View.call(this, options);\n    },\n\n    initialize: function() {\n\n        views[this.cid] = this;\n\n        this.setTheme(this.options.theme || this.defaultTheme);\n        this.init();\n    },\n\n    unmount: function() {\n        if (this.svgElement) {\n            this.vel.remove();\n        } else {\n            this.$el.remove();\n        }\n    },\n\n    isMounted: function() {\n        return this.el.parentNode !== null;\n    },\n\n    renderChildren: function(children) {\n        children || (children = util.result(this, 'children'));\n        if (children) {\n            var isSVG = this.svgElement;\n            var namespace = V.namespace[isSVG ? 'svg' : 'xhtml'];\n            var doc = util.parseDOMJSON(children, namespace);\n            (isSVG ? this.vel : this.$el).empty().append(doc.fragment);\n            this.childNodes = doc.selectors;\n        }\n        return this;\n    },\n\n    findAttribute: function(attributeName, node) {\n\n        var currentNode = node;\n\n        while (currentNode && currentNode.nodeType === 1) {\n            var attributeValue = currentNode.getAttribute(attributeName);\n            // attribute found\n            if (attributeValue) return attributeValue;\n            // do not climb up the DOM\n            if (currentNode === this.el) return null;\n            // try parent node\n            currentNode = currentNode.parentNode;\n        }\n\n        return null;\n    },\n\n    // Override the Backbone `_ensureElement()` method in order to create an\n    // svg element (e.g., `<g>`) node that wraps all the nodes of the Cell view.\n    // Expose class name setter as a separate method.\n    _ensureElement: function() {\n        if (!this.el) {\n            var tagName = util.result(this, 'tagName');\n            var attrs = util.assign({}, util.result(this, 'attributes'));\n            var style = util.assign({}, util.result(this, 'style'));\n            if (this.id) attrs.id = util.result(this, 'id');\n            this.setElement(this._createElement(tagName));\n            this._setAttributes(attrs);\n            this._setStyle(style);\n        } else {\n            this.setElement(util.result(this, 'el'));\n        }\n        this._ensureElClassName();\n    },\n\n    _setAttributes: function(attrs) {\n        if (this.svgElement) {\n            this.vel.attr(attrs);\n        } else {\n            this.$el.attr(attrs);\n        }\n    },\n\n    _setStyle: function(style) {\n        this.$el.css(style);\n    },\n\n    _createElement: function(tagName) {\n        if (this.svgElement) {\n            return document.createElementNS(V.namespace.svg, tagName);\n        } else {\n            return document.createElement(tagName);\n        }\n    },\n\n    // Utilize an alternative DOM manipulation API by\n    // adding an element reference wrapped in Vectorizer.\n    _setElement: function(el) {\n        this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n        this.el = this.$el[0];\n        if (this.svgElement) this.vel = V(this.el);\n    },\n\n    _ensureElClassName: function() {\n        var className = util.result(this, 'className');\n        if (!className) return;\n        var prefixedClassName = util.addClassNamePrefix(className);\n        // Note: className removal here kept for backwards compatibility only\n        if (this.svgElement) {\n            this.vel.removeClass(className).addClass(prefixedClassName);\n        } else {\n            this.$el.removeClass(className).addClass(prefixedClassName);\n        }\n    },\n\n    init: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    onRender: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    confirmUpdate: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n        return 0;\n    },\n\n    setTheme: function(theme, opt) {\n\n        opt = opt || {};\n\n        // Theme is already set, override is required, and override has not been set.\n        // Don't set the theme.\n        if (this.theme && this.requireSetThemeOverride && !opt.override) {\n            return this;\n        }\n\n        this.removeThemeClassName();\n        this.addThemeClassName(theme);\n        this.onSetTheme(this.theme/* oldTheme */, theme/* newTheme */);\n        this.theme = theme;\n\n        return this;\n    },\n\n    addThemeClassName: function(theme) {\n\n        theme = theme || this.theme;\n        if (!theme) return this;\n\n        var className = this.themeClassNamePrefix + theme;\n\n        if (this.svgElement) {\n            this.vel.addClass(className);\n        } else {\n            this.$el.addClass(className);\n        }\n\n        return this;\n    },\n\n    removeThemeClassName: function(theme) {\n\n        theme = theme || this.theme;\n\n        var className = this.themeClassNamePrefix + theme;\n\n        if (this.svgElement) {\n            this.vel.removeClass(className);\n        } else {\n            this.$el.removeClass(className);\n        }\n\n        return this;\n    },\n\n    onSetTheme: function(oldTheme, newTheme) {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    remove: function() {\n\n        this.onRemove();\n        this.undelegateDocumentEvents();\n\n        views[this.cid] = null;\n\n        Backbone.View.prototype.remove.apply(this, arguments);\n\n        return this;\n    },\n\n    onRemove: function() {\n        // Intentionally empty.\n        // This method is meant to be overridden.\n    },\n\n    getEventNamespace: function() {\n        // Returns a per-session unique namespace\n        return '.joint-event-ns-' + this.cid;\n    },\n\n    delegateElementEvents: function(element, events, data) {\n        if (!events) return this;\n        data || (data = {});\n        var eventNS = this.getEventNamespace();\n        for (var eventName in events) {\n            var method = events[eventName];\n            if (typeof method !== 'function') method = this[method];\n            if (!method) continue;\n            $(element).on(eventName + eventNS, data, method.bind(this));\n        }\n        return this;\n    },\n\n    undelegateElementEvents: function(element) {\n        $(element).off(this.getEventNamespace());\n        return this;\n    },\n\n    delegateDocumentEvents: function(events, data) {\n        events || (events = util.result(this, 'documentEvents'));\n        return this.delegateElementEvents(document, events, data);\n    },\n\n    undelegateDocumentEvents: function() {\n        return this.undelegateElementEvents(document);\n    },\n\n    eventData: function(evt, data) {\n        if (!evt) throw new Error('eventData(): event object required.');\n        var currentData = evt.data;\n        var key = '__' + this.cid + '__';\n        if (data === undefined) {\n            if (!currentData) return {};\n            return currentData[key] || {};\n        }\n        currentData || (currentData = evt.data = {});\n        currentData[key] || (currentData[key] = {});\n        util.assign(currentData[key], data);\n        return this;\n    },\n\n    stopPropagation: function(evt) {\n        this.eventData(evt, { propagationStopped: true });\n        return this;\n    },\n\n    isPropagationStopped: function(evt) {\n        return !!this.eventData(evt).propagationStopped;\n    }\n\n}, {\n\n    extend: function() {\n\n        var args = Array.from(arguments);\n\n        // Deep clone the prototype and static properties objects.\n        // This prevents unexpected behavior where some properties are overwritten outside of this function.\n        var protoProps = args[0] && util.assign({}, args[0]) || {};\n        var staticProps = args[1] && util.assign({}, args[1]) || {};\n\n        // Need the real render method so that we can wrap it and call it later.\n        var renderFn = protoProps.render || (this.prototype && this.prototype.render) || null;\n\n        /*\n            Wrap the real render method so that:\n                .. `onRender` is always called.\n                .. `this` is always returned.\n        */\n        protoProps.render = function() {\n\n            if (typeof renderFn === 'function') {\n                // Call the original render method.\n                renderFn.apply(this, arguments);\n            }\n\n            if (this.render.__render__ === renderFn) {\n                // Should always call onRender() method.\n                // Should call it only once when renderFn is actual prototype method i.e. not the wrapper\n                this.onRender();\n            }\n\n            // Should always return itself.\n            return this;\n        };\n\n        protoProps.render.__render__ = renderFn;\n\n        return Backbone.View.extend.call(this, protoProps, staticProps);\n    }\n});\n\nconst DoubleTapEventName = 'dbltap';\nif ($.event && !(DoubleTapEventName in $.event.special)) {\n    const maxDelay = config.doubleTapInterval;\n    const minDelay = 30;\n    $.event.special[DoubleTapEventName] = {\n        bindType: 'touchend',\n        delegateType: 'touchend',\n        handle: function(event, ...args) {\n            const { handleObj, target } = event;\n            const targetData  = $.data(target);\n            const now = new Date().getTime();\n            const delta = 'lastTouch' in targetData ? now - targetData.lastTouch : 0;\n            if (delta < maxDelay && delta > minDelay) {\n                targetData.lastTouch = null;\n                event.type = handleObj.origType;\n                // let jQuery handle the triggering of \"dbltap\" event handlers\n                handleObj.handler.call(this, event, ...args);\n            } else {\n                targetData.lastTouch = now;\n            }\n        }\n    };\n}\n", "import Backbone from 'backbone';\nimport V from '../V/index.mjs';\n\nexport class Listener {\n    constructor(...callbackArguments) {\n        this.callbackArguments = callbackArguments;\n    }\n\n    listenTo(object, evt, ...args) {\n        const { callbackArguments } = this;\n        // signature 1 - (object, eventHashMap, context)\n        if (V.isObject(evt)) {\n            const [context = null] = args;\n            Object.entries(evt).forEach(([eventName, cb]) => {\n                if (typeof cb !== 'function') return;\n                // Invoke the callback with callbackArguments passed first\n                if (context || callbackArguments.length > 0) cb = cb.bind(context, ...callbackArguments);\n                Backbone.Events.listenTo.call(this, object, eventName, cb);\n            });\n        }\n        // signature 2 - (object, event, callback, context)\n        else if (typeof evt === 'string' && typeof args[0] === 'function') {\n            let [cb, context = null] = args;\n            // Invoke the callback with callbackArguments passed first\n            if (context || callbackArguments.length > 0) cb = cb.bind(context, ...callbackArguments);\n            Backbone.Events.listenTo.call(this, object, evt, cb);\n        }\n    }\n\n    stopListening() {\n        Backbone.Events.stopListening.call(this);\n    }\n}\n", "import { View } from '../mvc/index.mjs';\nimport { addClassNamePrefix } from '../util/util.mjs';\n\nexport const LayersNames = {\n    CELLS: 'cells',\n    BACK: 'back',\n    FRONT: 'front',\n    TOOLS: 'tools',\n    LABELS: 'labels'\n};\n\nexport const PaperLayer = View.extend({\n\n    tagName: 'g',\n    svgElement: true,\n    pivotNodes: null,\n    defaultTheme: null,\n\n    options: {\n        name: ''\n    },\n\n    className: function() {\n        return addClassNamePrefix(`${this.options.name}-layer`);\n    },\n\n    init: function() {\n        this.pivotNodes = {};\n    },\n\n    insertSortedNode: function(node, z) {\n        this.el.insertBefore(node, this.insertPivot(z));\n    },\n\n    insertNode: function(node) {\n        const { el } = this;\n        if (node.parentNode !== el) {\n            el.appendChild(node);\n        }\n    },\n\n    insertPivot: function(z) {\n        const { el, pivotNodes } = this;\n        z = +z;\n        z || (z = 0);\n        let pivotNode = pivotNodes[z];\n        if (pivotNode) return pivotNode;\n        pivotNode = pivotNodes[z] = document.createComment('z-index:' + (z + 1));\n        let neighborZ = -Infinity;\n        for (let currentZ in pivotNodes) {\n            currentZ = +currentZ;\n            if (currentZ < z && currentZ > neighborZ) {\n                neighborZ = currentZ;\n                if (neighborZ === z - 1) continue;\n            }\n        }\n        if (neighborZ !== -Infinity) {\n            const neighborPivot = pivotNodes[neighborZ];\n            // Insert After\n            el.insertBefore(pivotNode, neighborPivot.nextSibling);\n        } else {\n            // First Child\n            el.insertBefore(pivotNode, el.firstChild);\n        }\n        return pivotNode;\n    },\n\n    removePivots: function() {\n        const { el, pivotNodes } = this;\n        for (let z in pivotNodes) el.removeChild(pivotNodes[z]);\n        this.pivotNodes = {};\n    }\n\n});\n", "import { config } from '../config/index.mjs';\nimport { View } from '../mvc/index.mjs';\nimport {\n    assign,\n    guid,\n    omit,\n    parseDOMJSON,\n    isFunction,\n    isObject,\n    isPlainObject,\n    isBoolean,\n    isEmpty,\n    isString,\n    toKebabCase,\n    result,\n    sortedIndex,\n    merge,\n    uniq\n} from '../util/index.mjs';\nimport { Point, Rect } from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport $ from 'jquery';\nimport { HighlighterView } from './HighlighterView.mjs';\n\nconst HighlightingTypes = {\n    DEFAULT: 'default',\n    EMBEDDING: 'embedding',\n    CONNECTING: 'connecting',\n    MAGNET_AVAILABILITY: 'magnetAvailability',\n    ELEMENT_AVAILABILITY: 'elementAvailability'\n};\n\nconst Flags = {\n    TOOLS: 'TOOLS',\n};\n\n// CellView base view and controller.\n// --------------------------------------------\n\n// This is the base view and controller for `ElementView` and `LinkView`.\nexport const CellView = View.extend({\n\n    tagName: 'g',\n\n    svgElement: true,\n\n    selector: 'root',\n\n    metrics: null,\n\n    className: function() {\n\n        var classNames = ['cell'];\n        var type = this.model.get('type');\n\n        if (type) {\n\n            type.toLowerCase().split('.').forEach(function(value, index, list) {\n                classNames.push('type-' + list.slice(0, index + 1).join('-'));\n            });\n        }\n\n        return classNames.join(' ');\n    },\n\n    _presentationAttributes: null,\n    _flags: null,\n\n    setFlags: function() {\n        var flags = {};\n        var attributes = {};\n        var shift = 0;\n        var i, n, label;\n        var presentationAttributes = result(this, 'presentationAttributes');\n        for (var attribute in presentationAttributes) {\n            if (!presentationAttributes.hasOwnProperty(attribute)) continue;\n            var labels = presentationAttributes[attribute];\n            if (!Array.isArray(labels)) labels = [labels];\n            for (i = 0, n = labels.length; i < n; i++) {\n                label = labels[i];\n                var flag = flags[label];\n                if (!flag) {\n                    flag = flags[label] = 1<<(shift++);\n                }\n                attributes[attribute] |= flag;\n            }\n        }\n        var initFlag = result(this, 'initFlag');\n        if (!Array.isArray(initFlag)) initFlag = [initFlag];\n        for (i = 0, n = initFlag.length; i < n; i++) {\n            label = initFlag[i];\n            if (!flags[label]) flags[label] = 1<<(shift++);\n        }\n\n        // 26 - 30 are reserved for paper flags\n        // 31+ overflows maximal number\n        if (shift > 25) throw new Error('dia.CellView: Maximum number of flags exceeded.');\n\n        this._flags = flags;\n        this._presentationAttributes = attributes;\n    },\n\n    hasFlag: function(flag, label) {\n        return flag & this.getFlag(label);\n    },\n\n    removeFlag: function(flag, label) {\n        return flag ^ (flag & this.getFlag(label));\n    },\n\n    getFlag: function(label) {\n        var flags = this._flags;\n        if (!flags) return 0;\n        var flag = 0;\n        if (Array.isArray(label)) {\n            for (var i = 0, n = label.length; i < n; i++) flag |= flags[label[i]];\n        } else {\n            flag |= flags[label];\n        }\n        return flag;\n    },\n\n    attributes: function() {\n        var cell = this.model;\n        return {\n            'model-id': cell.id,\n            'data-type': cell.attributes.type\n        };\n    },\n\n    constructor: function(options) {\n\n        // Make sure a global unique id is assigned to this view. Store this id also to the properties object.\n        // The global unique id makes sure that the same view can be rendered on e.g. different machines and\n        // still be associated to the same object among all those clients. This is necessary for real-time\n        // collaboration mechanism.\n        options.id = options.id || guid(this);\n\n        View.call(this, options);\n    },\n\n    initialize: function() {\n\n        this.setFlags();\n\n        View.prototype.initialize.apply(this, arguments);\n\n        this.cleanNodesCache();\n\n        // Store reference to this to the <g> DOM element so that the view is accessible through the DOM tree.\n        this.$el.data('view', this);\n\n        this.startListening();\n    },\n\n    startListening: function() {\n        this.listenTo(this.model, 'change', this.onAttributesChange);\n    },\n\n    onAttributesChange: function(model, opt) {\n        var flag = model.getChangeFlag(this._presentationAttributes);\n        if (opt.updateHandled || !flag) return;\n        if (opt.dirty && this.hasFlag(flag, 'UPDATE')) flag |= this.getFlag('RENDER');\n        // TODO: tool changes does not need to be sync\n        // Fix Segments tools\n        if (opt.tool) opt.async = false;\n        this.requestUpdate(flag, opt);\n    },\n\n    requestUpdate: function(flags, opt) {\n        const { paper } = this;\n        if (paper && flags > 0) {\n            paper.requestViewUpdate(this, flags, this.UPDATE_PRIORITY, opt);\n        }\n    },\n\n    parseDOMJSON: function(markup, root) {\n\n        var doc = parseDOMJSON(markup);\n        var selectors = doc.selectors;\n        var groups = doc.groupSelectors;\n        for (var group in groups) {\n            if (selectors[group]) throw new Error('dia.CellView: ambiguous group selector');\n            selectors[group] = groups[group];\n        }\n        if (root) {\n            var rootSelector = this.selector;\n            if (selectors[rootSelector]) throw new Error('dia.CellView: ambiguous root selector.');\n            selectors[rootSelector] = root;\n        }\n        return { fragment: doc.fragment, selectors: selectors };\n    },\n\n    // Return `true` if cell link is allowed to perform a certain UI `feature`.\n    // Example: `can('vertexMove')`, `can('labelMove')`.\n    can: function(feature) {\n\n        var interactive = isFunction(this.options.interactive)\n            ? this.options.interactive(this)\n            : this.options.interactive;\n\n        return (isObject(interactive) && interactive[feature] !== false) ||\n            (isBoolean(interactive) && interactive !== false);\n    },\n\n    findBySelector: function(selector, root, selectors) {\n\n        root || (root = this.el);\n        selectors || (selectors = this.selectors);\n\n        // These are either descendants of `this.$el` of `this.$el` itself.\n        // `.` is a special selector used to select the wrapping `<g>` element.\n        if (!selector || selector === '.') return [root];\n        if (selectors) {\n            var nodes = selectors[selector];\n            if (nodes) {\n                if (Array.isArray(nodes)) return nodes;\n                return [nodes];\n            }\n        }\n\n        // Maintaining backwards compatibility\n        // e.g. `circle:first` would fail with querySelector() call\n        if (config.useCSSSelectors) return $(root).find(selector).toArray();\n\n        return [];\n    },\n\n    notify: function(eventName) {\n\n        if (this.paper) {\n\n            var args = Array.prototype.slice.call(arguments, 1);\n\n            // Trigger the event on both the element itself and also on the paper.\n            this.trigger.apply(this, [eventName].concat(args));\n\n            // Paper event handlers receive the view object as the first argument.\n            this.paper.trigger.apply(this.paper, [eventName, this].concat(args));\n        }\n    },\n\n    getBBox: function(opt) {\n\n        var bbox;\n        if (opt && opt.useModelGeometry) {\n            var model = this.model;\n            bbox = model.getBBox().bbox(model.angle());\n        } else {\n            bbox = this.getNodeBBox(this.el);\n        }\n\n        return this.paper.localToPaperRect(bbox);\n    },\n\n    getNodeBBox: function(magnet) {\n\n        const rect = this.getNodeBoundingRect(magnet);\n        const transformMatrix = this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(magnet));\n        const magnetMatrix = this.getNodeMatrix(magnet);\n        return V.transformRect(rect, transformMatrix.multiply(magnetMatrix));\n    },\n\n    getNodeRotateMatrix(node) {\n        if (!this.rotatableNode || this.rotatableNode.contains(node)) {\n            // Rotate transformation is applied to all nodes when no rotatableGroup\n            // is present or to nodes inside the rotatableGroup only.\n            return this.getRootRotateMatrix();\n        }\n        // Nodes outside the rotatable group\n        return V.createSVGMatrix();\n    },\n\n    getNodeUnrotatedBBox: function(magnet) {\n\n        var rect = this.getNodeBoundingRect(magnet);\n        var magnetMatrix = this.getNodeMatrix(magnet);\n        var translateMatrix = this.getRootTranslateMatrix();\n        return V.transformRect(rect, translateMatrix.multiply(magnetMatrix));\n    },\n\n    getRootTranslateMatrix: function() {\n\n        var model = this.model;\n        var position = model.position();\n        var mt = V.createSVGMatrix().translate(position.x, position.y);\n        return mt;\n    },\n\n    getRootRotateMatrix: function() {\n\n        var mr = V.createSVGMatrix();\n        var model = this.model;\n        var angle = model.angle();\n        if (angle) {\n            var bbox = model.getBBox();\n            var cx = bbox.width / 2;\n            var cy = bbox.height / 2;\n            mr = mr.translate(cx, cy).rotate(angle).translate(-cx, -cy);\n        }\n        return mr;\n    },\n\n    _notifyHighlight: function(eventName, el, opt = {}) {\n        const { el: rootNode } = this;\n        let node;\n        if (typeof el === 'string') {\n            [node = rootNode] = this.findBySelector(el);\n        } else {\n            [node = rootNode] = this.$(el);\n        }\n        // set partial flag if the highlighted element is not the entire view.\n        opt.partial = (node !== rootNode);\n        // translate type flag into a type string\n        if (opt.type === undefined) {\n            let type;\n            switch (true) {\n                case opt.embedding:\n                    type = HighlightingTypes.EMBEDDING;\n                    break;\n                case opt.connecting:\n                    type = HighlightingTypes.CONNECTING;\n                    break;\n                case opt.magnetAvailability:\n                    type = HighlightingTypes.MAGNET_AVAILABILITY;\n                    break;\n                case opt.elementAvailability:\n                    type = HighlightingTypes.ELEMENT_AVAILABILITY;\n                    break;\n                default:\n                    type = HighlightingTypes.DEFAULT;\n                    break;\n            }\n            opt.type = type;\n        }\n        this.notify(eventName, node, opt);\n        return this;\n    },\n\n    highlight: function(el, opt) {\n        return this._notifyHighlight('cell:highlight', el, opt);\n    },\n\n    unhighlight: function(el, opt = {}) {\n        return this._notifyHighlight('cell:unhighlight', el, opt);\n    },\n\n    // Find the closest element that has the `magnet` attribute set to `true`. If there was not such\n    // an element found, return the root element of the cell view.\n    findMagnet: function(el) {\n\n        const root = this.el;\n        let magnet = this.$(el)[0];\n        if (!magnet) {\n            magnet = root;\n        }\n\n        do {\n            const magnetAttribute = magnet.getAttribute('magnet');\n            const isMagnetRoot = (magnet === root);\n            if ((magnetAttribute || isMagnetRoot) && magnetAttribute !== 'false') {\n                return magnet;\n            }\n            if (isMagnetRoot) {\n                // If the overall cell has set `magnet === false`, then return `undefined` to\n                // announce there is no magnet found for this cell.\n                // This is especially useful to set on cells that have 'ports'. In this case,\n                // only the ports have set `magnet === true` and the overall element has `magnet === false`.\n                return undefined;\n            }\n            magnet = magnet.parentNode;\n        } while (magnet);\n\n        return undefined;\n    },\n\n    findProxyNode: function(el, type) {\n        el || (el = this.el);\n        const nodeSelector = el.getAttribute(`${type}-selector`);\n        if (nodeSelector) {\n            const [proxyNode] = this.findBySelector(nodeSelector);\n            if (proxyNode) return proxyNode;\n        }\n        return el;\n    },\n\n    // Construct a unique selector for the `el` element within this view.\n    // `prevSelector` is being collected through the recursive call.\n    // No value for `prevSelector` is expected when using this method.\n    getSelector: function(el, prevSelector) {\n\n        var selector;\n\n        if (el === this.el) {\n            if (typeof prevSelector === 'string') selector = '> ' + prevSelector;\n            return selector;\n        }\n\n        if (el) {\n\n            var nthChild = V(el).index() + 1;\n            selector = el.tagName + ':nth-child(' + nthChild + ')';\n\n            if (prevSelector) {\n                selector += ' > ' + prevSelector;\n            }\n\n            selector = this.getSelector(el.parentNode, selector);\n        }\n\n        return selector;\n    },\n\n    addLinkFromMagnet: function(magnet, x, y) {\n\n        var paper = this.paper;\n        var graph = paper.model;\n\n        var link = paper.getDefaultLink(this, magnet);\n        link.set({\n            source: this.getLinkEnd(magnet, x, y, link, 'source'),\n            target: { x: x, y: y }\n        }).addTo(graph, {\n            async: false,\n            ui: true\n        });\n\n        return link.findView(paper);\n    },\n\n    getLinkEnd: function(magnet, ...args) {\n\n        var model = this.model;\n        var id = model.id;\n        var port = this.findAttribute('port', magnet);\n        // Find a unique `selector` of the element under pointer that is a magnet.\n        var selector = magnet.getAttribute('joint-selector');\n\n        var end = { id: id };\n        if (selector != null) end.magnet = selector;\n        if (port != null) {\n            end.port = port;\n            if (!model.hasPort(port) && !selector) {\n                // port created via the `port` attribute (not API)\n                end.selector = this.getSelector(magnet);\n            }\n        } else if (selector == null && this.el !== magnet) {\n            end.selector = this.getSelector(magnet);\n        }\n\n        return this.customizeLinkEnd(end, magnet, ...args);\n    },\n\n    customizeLinkEnd: function(end, magnet, x, y, link, endType) {\n        const { paper } = this;\n        const { connectionStrategy } = paper.options;\n        if (typeof connectionStrategy === 'function') {\n            var strategy = connectionStrategy.call(paper, end, this, magnet, new Point(x, y), link, endType, paper);\n            if (strategy) return strategy;\n        }\n        return end;\n    },\n\n    getMagnetFromLinkEnd: function(end) {\n\n        var root = this.el;\n        var port = end.port;\n        var selector = end.magnet;\n        var model = this.model;\n        var magnet;\n        if (port != null && model.isElement() && model.hasPort(port)) {\n            magnet = this.findPortNode(port, selector) || root;\n        } else {\n            if (!selector) selector = end.selector;\n            if (!selector && port != null) {\n                // link end has only `id` and `port` property referencing\n                // a port created via the `port` attribute (not API).\n                selector = '[port=\"' + port + '\"]';\n            }\n            magnet = this.findBySelector(selector, root, this.selectors)[0];\n        }\n\n        return this.findProxyNode(magnet, 'magnet');\n    },\n\n    dragLinkStart: function(evt, magnet, x, y) {\n        this.model.startBatch('add-link');\n        const linkView = this.addLinkFromMagnet(magnet, x, y);\n        // backwards compatibility events\n        linkView.notifyPointerdown(evt, x, y);\n        linkView.eventData(evt, linkView.startArrowheadMove('target', { whenNotAllowed: 'remove' }));\n        this.eventData(evt, { linkView });\n    },\n\n    dragLink: function(evt, x, y) {\n        var data = this.eventData(evt);\n        var linkView = data.linkView;\n        if (linkView) {\n            linkView.pointermove(evt, x, y);\n        } else {\n            var paper = this.paper;\n            var magnetThreshold = paper.options.magnetThreshold;\n            var currentTarget = this.getEventTarget(evt);\n            var targetMagnet = data.targetMagnet;\n            if (magnetThreshold === 'onleave') {\n                // magnetThreshold when the pointer leaves the magnet\n                if (targetMagnet === currentTarget || V(targetMagnet).contains(currentTarget)) return;\n            } else {\n                // magnetThreshold defined as a number of movements\n                if (paper.eventData(evt).mousemoved <= magnetThreshold) return;\n            }\n            this.dragLinkStart(evt, targetMagnet, x, y);\n        }\n    },\n\n    dragLinkEnd: function(evt, x, y) {\n        var data = this.eventData(evt);\n        var linkView = data.linkView;\n        if (!linkView) return;\n        linkView.pointerup(evt, x, y);\n        this.model.stopBatch('add-link');\n    },\n\n    getAttributeDefinition: function(attrName) {\n\n        return this.model.constructor.getAttributeDefinition(attrName);\n    },\n\n    setNodeAttributes: function(node, attrs) {\n\n        if (!isEmpty(attrs)) {\n            if (node instanceof SVGElement) {\n                V(node).attr(attrs);\n            } else {\n                $(node).attr(attrs);\n            }\n        }\n    },\n\n    processNodeAttributes: function(node, attrs) {\n\n        var attrName, attrVal, def, i, n;\n        var normalAttrs, setAttrs, positionAttrs, offsetAttrs;\n        var relatives = [];\n        // divide the attributes between normal and special\n        for (attrName in attrs) {\n            if (!attrs.hasOwnProperty(attrName)) continue;\n            attrVal = attrs[attrName];\n            def = this.getAttributeDefinition(attrName);\n            if (def && (!isFunction(def.qualify) || def.qualify.call(this, attrVal, node, attrs, this))) {\n                if (isString(def.set)) {\n                    normalAttrs || (normalAttrs = {});\n                    normalAttrs[def.set] = attrVal;\n                }\n                if (attrVal !== null) {\n                    relatives.push(attrName, def);\n                }\n            } else {\n                normalAttrs || (normalAttrs = {});\n                normalAttrs[toKebabCase(attrName)] = attrVal;\n            }\n        }\n\n        // handle the rest of attributes via related method\n        // from the special attributes namespace.\n        for (i = 0, n = relatives.length; i < n; i+=2) {\n            attrName = relatives[i];\n            def = relatives[i+1];\n            attrVal = attrs[attrName];\n            if (isFunction(def.set)) {\n                setAttrs || (setAttrs = {});\n                setAttrs[attrName] = attrVal;\n            }\n            if (isFunction(def.position)) {\n                positionAttrs || (positionAttrs = {});\n                positionAttrs[attrName] = attrVal;\n            }\n            if (isFunction(def.offset)) {\n                offsetAttrs || (offsetAttrs = {});\n                offsetAttrs[attrName] = attrVal;\n            }\n        }\n\n        return {\n            raw: attrs,\n            normal: normalAttrs,\n            set: setAttrs,\n            position: positionAttrs,\n            offset: offsetAttrs\n        };\n    },\n\n    updateRelativeAttributes: function(node, attrs, refBBox, opt) {\n\n        opt || (opt = {});\n\n        var attrName, attrVal, def;\n        var rawAttrs = attrs.raw || {};\n        var nodeAttrs = attrs.normal || {};\n        var setAttrs = attrs.set;\n        var positionAttrs = attrs.position;\n        var offsetAttrs = attrs.offset;\n\n        for (attrName in setAttrs) {\n            attrVal = setAttrs[attrName];\n            def = this.getAttributeDefinition(attrName);\n            // SET - set function should return attributes to be set on the node,\n            // which will affect the node dimensions based on the reference bounding\n            // box. e.g. `width`, `height`, `d`, `rx`, `ry`, `points\n            var setResult = def.set.call(this, attrVal, refBBox.clone(), node, rawAttrs, this);\n            if (isObject(setResult)) {\n                assign(nodeAttrs, setResult);\n            } else if (setResult !== undefined) {\n                nodeAttrs[attrName] = setResult;\n            }\n        }\n\n        if (node instanceof HTMLElement) {\n            // TODO: setting the `transform` attribute on HTMLElements\n            // via `node.style.transform = 'matrix(...)';` would introduce\n            // a breaking change (e.g. basic.TextBlock).\n            this.setNodeAttributes(node, nodeAttrs);\n            return;\n        }\n\n        // The final translation of the subelement.\n        var nodeTransform = nodeAttrs.transform;\n        var nodeMatrix = V.transformStringToMatrix(nodeTransform);\n        var nodePosition = Point(nodeMatrix.e, nodeMatrix.f);\n        if (nodeTransform) {\n            nodeAttrs = omit(nodeAttrs, 'transform');\n            nodeMatrix.e = nodeMatrix.f = 0;\n        }\n\n        // Calculate node scale determined by the scalable group\n        // only if later needed.\n        var sx, sy, translation;\n        if (positionAttrs || offsetAttrs) {\n            var nodeScale = this.getNodeScale(node, opt.scalableNode);\n            sx = nodeScale.sx;\n            sy = nodeScale.sy;\n        }\n\n        var positioned = false;\n        for (attrName in positionAttrs) {\n            attrVal = positionAttrs[attrName];\n            def = this.getAttributeDefinition(attrName);\n            // POSITION - position function should return a point from the\n            // reference bounding box. The default position of the node is x:0, y:0 of\n            // the reference bounding box or could be further specify by some\n            // SVG attributes e.g. `x`, `y`\n            translation = def.position.call(this, attrVal, refBBox.clone(), node, rawAttrs, this);\n            if (translation) {\n                nodePosition.offset(Point(translation).scale(sx, sy));\n                positioned || (positioned = true);\n            }\n        }\n\n        // The node bounding box could depend on the `size` set from the previous loop.\n        // Here we know, that all the size attributes have been already set.\n        this.setNodeAttributes(node, nodeAttrs);\n\n        var offseted = false;\n        if (offsetAttrs) {\n            // Check if the node is visible\n            var nodeBoundingRect = this.getNodeBoundingRect(node);\n            if (nodeBoundingRect.width > 0 && nodeBoundingRect.height > 0) {\n                var nodeBBox = V.transformRect(nodeBoundingRect, nodeMatrix).scale(1 / sx, 1 / sy);\n                for (attrName in offsetAttrs) {\n                    attrVal = offsetAttrs[attrName];\n                    def = this.getAttributeDefinition(attrName);\n                    // OFFSET - offset function should return a point from the element\n                    // bounding box. The default offset point is x:0, y:0 (origin) or could be further\n                    // specify with some SVG attributes e.g. `text-anchor`, `cx`, `cy`\n                    translation = def.offset.call(this, attrVal, nodeBBox, node, rawAttrs, this);\n                    if (translation) {\n                        nodePosition.offset(Point(translation).scale(sx, sy));\n                        offseted || (offseted = true);\n                    }\n                }\n            }\n        }\n\n        // Do not touch node's transform attribute if there is no transformation applied.\n        if (nodeTransform !== undefined || positioned || offseted) {\n            // Round the coordinates to 1 decimal point.\n            nodePosition.round(1);\n            nodeMatrix.e = nodePosition.x;\n            nodeMatrix.f = nodePosition.y;\n            node.setAttribute('transform', V.matrixToTransformString(nodeMatrix));\n            // TODO: store nodeMatrix metrics?\n        }\n    },\n\n    getNodeScale: function(node, scalableNode) {\n\n        // Check if the node is a descendant of the scalable group.\n        var sx, sy;\n        if (scalableNode && scalableNode.contains(node)) {\n            var scale = scalableNode.scale();\n            sx = 1 / scale.sx;\n            sy = 1 / scale.sy;\n        } else {\n            sx = 1;\n            sy = 1;\n        }\n\n        return { sx: sx, sy: sy };\n    },\n\n    cleanNodesCache: function() {\n        this.metrics = {};\n    },\n\n    nodeCache: function(magnet) {\n\n        var metrics = this.metrics;\n        // Don't use cache? It most likely a custom view with overridden update.\n        if (!metrics) return {};\n        var id = V.ensureId(magnet);\n        var value = metrics[id];\n        if (!value) value = metrics[id] = {};\n        return value;\n    },\n\n    getNodeData: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (!metrics.data) metrics.data = {};\n        return metrics.data;\n    },\n\n    getNodeBoundingRect: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (metrics.boundingRect === undefined) metrics.boundingRect = V(magnet).getBBox();\n        return new Rect(metrics.boundingRect);\n    },\n\n    getNodeMatrix: function(magnet) {\n\n        const metrics = this.nodeCache(magnet);\n        if (metrics.magnetMatrix === undefined) {\n            const { rotatableNode, el } = this;\n            let target;\n            if (rotatableNode && rotatableNode.contains(magnet)) {\n                target = rotatableNode;\n            } else {\n                target = el;\n            }\n            metrics.magnetMatrix = V(magnet).getTransformToElement(target);\n        }\n        return V.createSVGMatrix(metrics.magnetMatrix);\n    },\n\n    getNodeShape: function(magnet) {\n\n        var metrics = this.nodeCache(magnet);\n        if (metrics.geometryShape === undefined) metrics.geometryShape = V(magnet).toGeometryShape();\n        return metrics.geometryShape.clone();\n    },\n\n    isNodeConnection: function(node) {\n        return this.model.isLink() && (!node || node === this.el);\n    },\n\n    findNodesAttributes: function(attrs, root, selectorCache, selectors) {\n\n        var i, n, nodeAttrs, nodeId;\n        var nodesAttrs = {};\n        var mergeIds = [];\n        for (var selector in attrs) {\n            if (!attrs.hasOwnProperty(selector)) continue;\n            nodeAttrs = attrs[selector];\n            if (!isPlainObject(nodeAttrs)) continue; // Not a valid selector-attributes pair\n            var selected = selectorCache[selector] = this.findBySelector(selector, root, selectors);\n            for (i = 0, n = selected.length; i < n; i++) {\n                var node = selected[i];\n                nodeId = V.ensureId(node);\n                // \"unique\" selectors are selectors that referencing a single node (defined by `selector`)\n                // groupSelector referencing a single node is not \"unique\"\n                var unique = (selectors && selectors[selector] === node);\n                var prevNodeAttrs = nodesAttrs[nodeId];\n                if (prevNodeAttrs) {\n                    // Note, that nodes referenced by deprecated `CSS selectors` are not taken into account.\n                    // e.g. css:`.circle` and selector:`circle` can be applied in a random order\n                    if (!prevNodeAttrs.array) {\n                        mergeIds.push(nodeId);\n                        prevNodeAttrs.array = true;\n                        prevNodeAttrs.attributes = [prevNodeAttrs.attributes];\n                        prevNodeAttrs.selectedLength = [prevNodeAttrs.selectedLength];\n                    }\n                    var attributes = prevNodeAttrs.attributes;\n                    var selectedLength = prevNodeAttrs.selectedLength;\n                    if (unique) {\n                        // node referenced by `selector`\n                        attributes.unshift(nodeAttrs);\n                        selectedLength.unshift(-1);\n                    } else {\n                        // node referenced by `groupSelector`\n                        var sortIndex = sortedIndex(selectedLength, n);\n                        attributes.splice(sortIndex, 0, nodeAttrs);\n                        selectedLength.splice(sortIndex, 0, n);\n                    }\n                } else {\n                    nodesAttrs[nodeId] = {\n                        attributes: nodeAttrs,\n                        selectedLength: unique ? -1 : n,\n                        node: node,\n                        array: false\n                    };\n                }\n            }\n        }\n\n        for (i = 0, n = mergeIds.length; i < n; i++) {\n            nodeId = mergeIds[i];\n            nodeAttrs = nodesAttrs[nodeId];\n            nodeAttrs.attributes = merge({}, ...nodeAttrs.attributes.reverse());\n        }\n\n        return nodesAttrs;\n    },\n\n    getEventTarget: function(evt, opt = {}) {\n        const { target, type, clientX = 0, clientY = 0 } = evt;\n        if (\n            // Explicitly defined `fromPoint` option\n            opt.fromPoint ||\n            // Touchmove/Touchend event's target is not reflecting the element under the coordinates as mousemove does.\n            // It holds the element when a touchstart triggered.\n            type === 'touchmove' || type === 'touchend' ||\n            // Pointermove/Pointerup event with the pointer captured\n            ('pointerId' in evt && target.hasPointerCapture(evt.pointerId))\n        ) {\n            return document.elementFromPoint(clientX, clientY);\n        }\n\n        return target;\n    },\n\n    // Default is to process the `model.attributes.attrs` object and set attributes on subelements based on the selectors,\n    // unless `attrs` parameter was passed.\n    updateDOMSubtreeAttributes: function(rootNode, attrs, opt) {\n\n        opt || (opt = {});\n        opt.rootBBox || (opt.rootBBox = Rect());\n        opt.selectors || (opt.selectors = this.selectors); // selector collection to use\n\n        // Cache table for query results and bounding box calculation.\n        // Note that `selectorCache` needs to be invalidated for all\n        // `updateAttributes` calls, as the selectors might pointing\n        // to nodes designated by an attribute or elements dynamically\n        // created.\n        var selectorCache = {};\n        var bboxCache = {};\n        var relativeItems = [];\n        var relativeRefItems = [];\n        var item, node, nodeAttrs, nodeData, processedAttrs;\n\n        var roAttrs = opt.roAttributes;\n        var nodesAttrs = this.findNodesAttributes(roAttrs || attrs, rootNode, selectorCache, opt.selectors);\n        // `nodesAttrs` are different from all attributes, when\n        // rendering only  attributes sent to this method.\n        var nodesAllAttrs = (roAttrs)\n            ? this.findNodesAttributes(attrs, rootNode, selectorCache, opt.selectors)\n            : nodesAttrs;\n\n        for (var nodeId in nodesAttrs) {\n            nodeData = nodesAttrs[nodeId];\n            nodeAttrs = nodeData.attributes;\n            node = nodeData.node;\n            processedAttrs = this.processNodeAttributes(node, nodeAttrs);\n\n            if (!processedAttrs.set && !processedAttrs.position && !processedAttrs.offset) {\n                // Set all the normal attributes right on the SVG/HTML element.\n                this.setNodeAttributes(node, processedAttrs.normal);\n\n            } else {\n\n                var nodeAllAttrs = nodesAllAttrs[nodeId] && nodesAllAttrs[nodeId].attributes;\n                var refSelector = (nodeAllAttrs && (nodeAttrs.ref === undefined))\n                    ? nodeAllAttrs.ref\n                    : nodeAttrs.ref;\n\n                var refNode;\n                if (refSelector) {\n                    refNode = (selectorCache[refSelector] || this.findBySelector(refSelector, rootNode, opt.selectors))[0];\n                    if (!refNode) {\n                        throw new Error('dia.CellView: \"' + refSelector + '\" reference does not exist.');\n                    }\n                } else {\n                    refNode = null;\n                }\n\n                item = {\n                    node: node,\n                    refNode: refNode,\n                    processedAttributes: processedAttrs,\n                    allAttributes: nodeAllAttrs\n                };\n\n                if (refNode) {\n                    // If an element in the list is positioned relative to this one, then\n                    // we want to insert this one before it in the list.\n                    var itemIndex = relativeRefItems.findIndex(function(item) {\n                        return item.refNode === node;\n                    });\n\n                    if (itemIndex > -1) {\n                        relativeRefItems.splice(itemIndex, 0, item);\n                    } else {\n                        relativeRefItems.push(item);\n                    }\n                } else {\n                    // A node with no ref attribute. To be updated before the nodes referencing other nodes.\n                    // The order of no-ref-items is not specified/important.\n                    relativeItems.push(item);\n                }\n            }\n        }\n\n        relativeItems.push(...relativeRefItems);\n\n        for (let i = 0, n = relativeItems.length; i < n; i++) {\n            item = relativeItems[i];\n            node = item.node;\n            refNode = item.refNode;\n\n            // Find the reference element bounding box. If no reference was provided, we\n            // use the optional bounding box.\n            const refNodeId = refNode ? V.ensureId(refNode) : '';\n            let refBBox = bboxCache[refNodeId];\n            if (!refBBox) {\n                // Get the bounding box of the reference element using to the common ancestor\n                // transformation space.\n                //\n                // @example 1\n                // <g transform=\"translate(11, 13)\">\n                //     <rect @selector=\"b\" x=\"1\" y=\"2\" width=\"3\" height=\"4\"/>\n                //     <rect @selector=\"a\"/>\n                // </g>\n                //\n                // In this case, the reference bounding box can not be affected\n                // by the `transform` attribute of the `<g>` element,\n                // because the exact transformation will be applied to the `a` element\n                // as well as to the `b` element.\n                //\n                // @example 2\n                // <g transform=\"translate(11, 13)\">\n                //     <rect @selector=\"b\" x=\"1\" y=\"2\" width=\"3\" height=\"4\"/>\n                // </g>\n                // <rect @selector=\"a\"/>\n                //\n                // In this case, the reference bounding box have to be affected by the\n                // `transform` attribute of the `<g>` element, because the `a` element\n                // is not descendant of the `<g>` element and will not be affected\n                // by the transformation.\n                refBBox = bboxCache[refNodeId] = (refNode)\n                    ? V(refNode).getBBox({ target: getCommonAncestorNode(node, refNode) })\n                    : opt.rootBBox;\n            }\n\n            if (roAttrs) {\n                // if there was a special attribute affecting the position amongst passed-in attributes\n                // we have to merge it with the rest of the element's attributes as they are necessary\n                // to update the position relatively (i.e `ref-x` && 'ref-dx')\n                processedAttrs = this.processNodeAttributes(node, item.allAttributes);\n                this.mergeProcessedAttributes(processedAttrs, item.processedAttributes);\n\n            } else {\n                processedAttrs = item.processedAttributes;\n            }\n\n            this.updateRelativeAttributes(node, processedAttrs, refBBox, opt);\n        }\n    },\n\n    mergeProcessedAttributes: function(processedAttrs, roProcessedAttrs) {\n\n        processedAttrs.set || (processedAttrs.set = {});\n        processedAttrs.position || (processedAttrs.position = {});\n        processedAttrs.offset || (processedAttrs.offset = {});\n\n        assign(processedAttrs.set, roProcessedAttrs.set);\n        assign(processedAttrs.position, roProcessedAttrs.position);\n        assign(processedAttrs.offset, roProcessedAttrs.offset);\n\n        // Handle also the special transform property.\n        var transform = processedAttrs.normal && processedAttrs.normal.transform;\n        if (transform !== undefined && roProcessedAttrs.normal) {\n            roProcessedAttrs.normal.transform = transform;\n        }\n        processedAttrs.normal = roProcessedAttrs.normal;\n    },\n\n    // Lifecycle methods\n\n    // Called when the view is attached to the DOM,\n    // as result of `cell.addTo(graph)` being called (isInitialMount === true)\n    // or `paper.options.viewport` returning `true` (isInitialMount === false).\n    onMount(isInitialMount) {\n        if (isInitialMount) return;\n        this.mountTools();\n        HighlighterView.mount(this);\n    },\n\n    // Called when the view is detached from the DOM,\n    // as result of `paper.options.viewport` returning `false`.\n    onDetach() {\n        this.unmountTools();\n        HighlighterView.unmount(this);\n    },\n\n    // Called when the view is removed from the DOM\n    // as result of `cell.remove()`.\n    onRemove: function() {\n        this.removeTools();\n        this.removeHighlighters();\n    },\n\n    _toolsView: null,\n\n    hasTools: function(name) {\n        var toolsView = this._toolsView;\n        if (!toolsView) return false;\n        if (!name) return true;\n        return (toolsView.getName() === name);\n    },\n\n    addTools: function(toolsView) {\n\n        this.removeTools();\n\n        if (toolsView) {\n            this._toolsView = toolsView;\n            toolsView.configure({ relatedView: this });\n            toolsView.listenTo(this.paper, 'tools:event', this.onToolEvent.bind(this));\n        }\n        return this;\n    },\n\n    unmountTools() {\n        const toolsView = this._toolsView;\n        if (toolsView) toolsView.unmount();\n        return this;\n    },\n\n    mountTools() {\n        const toolsView = this._toolsView;\n        // Prevent unnecessary re-appending of the tools.\n        if (toolsView && !toolsView.isMounted()) toolsView.mount();\n        return this;\n    },\n\n    updateTools: function(opt) {\n\n        var toolsView = this._toolsView;\n        if (toolsView) toolsView.update(opt);\n        return this;\n    },\n\n    removeTools: function() {\n\n        var toolsView = this._toolsView;\n        if (toolsView) {\n            toolsView.remove();\n            this._toolsView = null;\n        }\n        return this;\n    },\n\n    hideTools: function() {\n\n        var toolsView = this._toolsView;\n        if (toolsView) toolsView.hide();\n        return this;\n    },\n\n    showTools: function() {\n\n        var toolsView = this._toolsView;\n        if (toolsView) toolsView.show();\n        return this;\n    },\n\n    onToolEvent: function(event) {\n        switch (event) {\n            case 'remove':\n                this.removeTools();\n                break;\n            case 'hide':\n                this.hideTools();\n                break;\n            case 'show':\n                this.showTools();\n                break;\n        }\n    },\n\n    removeHighlighters: function() {\n        HighlighterView.remove(this);\n    },\n\n    updateHighlighters: function(dirty = false) {\n        HighlighterView.update(this, null, dirty);\n    },\n\n    transformHighlighters: function() {\n        HighlighterView.transform(this);\n    },\n\n    // Interaction. The controller part.\n    // ---------------------------------\n\n    preventDefaultInteraction(evt) {\n        this.eventData(evt, { defaultInteractionPrevented: true  });\n    },\n\n    isDefaultInteractionPrevented(evt) {\n        const { defaultInteractionPrevented = false } = this.eventData(evt);\n        return defaultInteractionPrevented;\n    },\n\n    // Interaction is handled by the paper and delegated to the view in interest.\n    // `x` & `y` parameters passed to these functions represent the coordinates already snapped to the paper grid.\n    // If necessary, real coordinates can be obtained from the `evt` event object.\n\n    // These functions are supposed to be overridden by the views that inherit from `joint.dia.Cell`,\n    // i.e. `joint.dia.Element` and `joint.dia.Link`.\n\n    pointerdblclick: function(evt, x, y) {\n\n        this.notify('cell:pointerdblclick', evt, x, y);\n    },\n\n    pointerclick: function(evt, x, y) {\n\n        this.notify('cell:pointerclick', evt, x, y);\n    },\n\n    contextmenu: function(evt, x, y) {\n\n        this.notify('cell:contextmenu', evt, x, y);\n    },\n\n    pointerdown: function(evt, x, y) {\n\n        const { model } = this;\n        const { graph } = model;\n        if (graph) {\n            model.startBatch('pointer');\n            this.eventData(evt, { graph });\n        }\n\n        this.notify('cell:pointerdown', evt, x, y);\n    },\n\n    pointermove: function(evt, x, y) {\n\n        this.notify('cell:pointermove', evt, x, y);\n    },\n\n    pointerup: function(evt, x, y) {\n\n        const { graph } = this.eventData(evt);\n\n        this.notify('cell:pointerup', evt, x, y);\n\n        if (graph) {\n            // we don't want to trigger event on model as model doesn't\n            // need to be member of collection anymore (remove)\n            graph.stopBatch('pointer', { cell: this.model });\n        }\n    },\n\n    mouseover: function(evt) {\n\n        this.notify('cell:mouseover', evt);\n    },\n\n    mouseout: function(evt) {\n\n        this.notify('cell:mouseout', evt);\n    },\n\n    mouseenter: function(evt) {\n\n        this.notify('cell:mouseenter', evt);\n    },\n\n    mouseleave: function(evt) {\n\n        this.notify('cell:mouseleave', evt);\n    },\n\n    mousewheel: function(evt, x, y, delta) {\n\n        this.notify('cell:mousewheel', evt, x, y, delta);\n    },\n\n    onevent: function(evt, eventName, x, y) {\n\n        this.notify(eventName, evt, x, y);\n    },\n\n    onmagnet: function() {\n\n        // noop\n    },\n\n    magnetpointerdblclick: function() {\n\n        // noop\n    },\n\n    magnetcontextmenu: function() {\n\n        // noop\n    },\n\n    checkMouseleave(evt) {\n        const { paper, model } = this;\n        if (paper.isAsync()) {\n            // Make sure the source/target views are updated before this view.\n            // It's not 100% bulletproof (see below) but it's a good enough solution for now.\n            // The connected cells could be links as well. In that case, we would\n            // need to recursively go through all the connected links and update\n            // their source/target views as well.\n            if (model.isLink()) {\n                // The `this.sourceView` and `this.targetView` might not be updated yet.\n                // We need to find the view by the model.\n                const sourceElement = model.getSourceElement();\n                if (sourceElement) {\n                    const sourceView = paper.findViewByModel(sourceElement);\n                    if (sourceView) {\n                        paper.dumpView(sourceView);\n                        paper.checkViewVisibility(sourceView);\n                    }\n                }\n                const targetElement = model.getTargetElement();\n                if (targetElement) {\n                    const targetView = paper.findViewByModel(targetElement);\n                    if (targetView) {\n                        paper.dumpView(targetView);\n                        paper.checkViewVisibility(targetView);\n                    }\n                }\n            }\n            // Do the updates of the current view synchronously now\n            paper.dumpView(this);\n            paper.checkViewVisibility(this);\n        }\n        const target = this.getEventTarget(evt, { fromPoint: true });\n        const view = paper.findView(target);\n        if (view === this) return;\n        // Leaving the current view\n        this.mouseleave(evt);\n        if (!view) return;\n        // Entering another view\n        view.mouseenter(evt);\n    },\n\n    setInteractivity: function(value) {\n\n        this.options.interactive = value;\n    }\n}, {\n\n    Flags,\n\n    Highlighting: HighlightingTypes,\n\n    addPresentationAttributes: function(presentationAttributes) {\n        return merge({}, result(this.prototype, 'presentationAttributes'), presentationAttributes, function(a, b) {\n            if (!a || !b) return;\n            if (typeof a === 'string') a = [a];\n            if (typeof b === 'string') b = [b];\n            if (Array.isArray(a) && Array.isArray(b)) return uniq(a.concat(b));\n        });\n    }\n});\n\n// TODO: Move to Vectorizer library.\nfunction getCommonAncestorNode(node1, node2) {\n    let parent = node1;\n    do {\n        if (parent.contains(node2)) return parent;\n        parent = parent.parentNode;\n    } while (parent);\n    return null;\n}\n\n", "import * as mvc from '../mvc/index.mjs';\nimport V from '../V/index.mjs';\nimport { isPlainObject, result } from '../util/util.mjs';\n\nfunction toArray(obj) {\n    if (!obj) return [];\n    if (Array.isArray(obj)) return obj;\n    return [obj];\n}\n\nexport const HighlighterView = mvc.View.extend({\n\n    tagName: 'g',\n    svgElement: true,\n    className: 'highlight',\n\n    HIGHLIGHT_FLAG: 1,\n    UPDATE_PRIORITY: 3,\n    DETACHABLE: false,\n    UPDATABLE: true,\n    MOUNTABLE: true,\n\n    cellView: null,\n    nodeSelector: null,\n    node: null,\n    updateRequested: false,\n    postponedUpdate: false,\n    transformGroup: null,\n    detachedTransformGroup: null,\n\n    requestUpdate(cellView, nodeSelector) {\n        const { paper } = cellView;\n        this.cellView = cellView;\n        this.nodeSelector = nodeSelector;\n        if (paper) {\n            this.updateRequested = true;\n            paper.requestViewUpdate(this, this.HIGHLIGHT_FLAG, this.UPDATE_PRIORITY);\n        }\n    },\n\n    confirmUpdate() {\n        // The cellView is now rendered/updated since it has a higher update priority.\n        this.updateRequested = false;\n        const { cellView, nodeSelector } = this;\n        if (!cellView.isMounted()) {\n            this.postponedUpdate = true;\n            return 0;\n        }\n        this.update(cellView, nodeSelector);\n        this.mount();\n        this.transform();\n        return 0;\n    },\n\n    findNode(cellView, nodeSelector = null) {\n        let el;\n        if (typeof nodeSelector === 'string') {\n            [el] = cellView.findBySelector(nodeSelector);\n        } else if (isPlainObject(nodeSelector)) {\n            const isLink = cellView.model.isLink();\n            const { label = null, port, selector } = nodeSelector;\n            if (isLink && label !== null) {\n                // Link Label Selector\n                el = cellView.findLabelNode(label, selector);\n            } else if (!isLink && port) {\n                // Element Port Selector\n                el = cellView.findPortNode(port, selector);\n            } else {\n                // Cell Selector\n                [el] = cellView.findBySelector(selector);\n            }\n        } else if (nodeSelector) {\n            el = V.toNode(nodeSelector);\n            if (!(el instanceof SVGElement)) el = null;\n        }\n        return el ? el : null;\n    },\n\n    getNodeMatrix(cellView, node) {\n        const { options } = this;\n        const { layer } = options;\n        const { rotatableNode } = cellView;\n        const nodeMatrix = cellView.getNodeMatrix(node);\n        if (rotatableNode) {\n            if (layer) {\n                if (rotatableNode.contains(node)) {\n                    return nodeMatrix;\n                }\n                // The node is outside of the rotatable group.\n                // Compensate the rotation set by transformGroup.\n                return cellView.getRootRotateMatrix().inverse().multiply(nodeMatrix);\n            } else {\n                return cellView.getNodeRotateMatrix(node).multiply(nodeMatrix);\n            }\n        }\n        return nodeMatrix;\n    },\n\n    mount() {\n        const { MOUNTABLE, cellView, el, options, transformGroup, detachedTransformGroup, postponedUpdate, nodeSelector } = this;\n        if (!MOUNTABLE || transformGroup) return;\n        if (postponedUpdate) {\n            // The cellView was not mounted when the update was requested.\n            // The update was postponed until the cellView is mounted.\n            this.update(cellView, nodeSelector);\n            this.transform();\n            return;\n        }\n        const { vel: cellViewRoot, paper } = cellView;\n        const { layer: layerName } = options;\n        if (layerName) {\n            let vGroup;\n            if (detachedTransformGroup) {\n                vGroup = detachedTransformGroup;\n                this.detachedTransformGroup = null;\n            } else {\n                vGroup = V('g').addClass('highlight-transform').append(el);\n            }\n            this.transformGroup = vGroup;\n            paper.getLayerView(layerName).insertSortedNode(vGroup.node, options.z);\n        } else {\n            // TODO: prepend vs append\n            if (!el.parentNode || el.nextSibling) {\n                // Not appended yet or not the last child\n                cellViewRoot.append(el);\n            }\n        }\n    },\n\n    unmount() {\n        const { MOUNTABLE, transformGroup, vel } = this;\n        if (!MOUNTABLE) return;\n        if (transformGroup) {\n            this.transformGroup = null;\n            this.detachedTransformGroup = transformGroup;\n            transformGroup.remove();\n        } else {\n            vel.remove();\n        }\n    },\n\n    transform() {\n        const { transformGroup, cellView, updateRequested } = this;\n        if (!transformGroup || cellView.model.isLink() || updateRequested) return;\n        const translateMatrix = cellView.getRootTranslateMatrix();\n        const rotateMatrix = cellView.getRootRotateMatrix();\n        const transformMatrix = translateMatrix.multiply(rotateMatrix);\n        transformGroup.attr('transform', V.matrixToTransformString(transformMatrix));\n    },\n\n    update() {\n        const { node: prevNode, cellView, nodeSelector, updateRequested, id } = this;\n        if (updateRequested) return;\n        this.postponedUpdate = false;\n        const node = this.node = this.findNode(cellView, nodeSelector);\n        if (prevNode) {\n            this.unhighlight(cellView, prevNode);\n        }\n        if (node) {\n            this.highlight(cellView, node);\n            this.mount();\n        } else {\n            this.unmount();\n            cellView.notify('cell:highlight:invalid', id, this);\n        }\n    },\n\n    onRemove() {\n        const { node, cellView, id, constructor } = this;\n        if (node) {\n            this.unhighlight(cellView, node);\n        }\n        this.unmount();\n        constructor._removeRef(cellView, id);\n    },\n\n    highlight(_cellView, _node) {\n        // to be overridden\n    },\n\n    unhighlight(_cellView, _node) {\n        // to be overridden\n    },\n\n    // Update Attributes\n\n    listenToUpdateAttributes(cellView) {\n        const attributes = result(this, 'UPDATE_ATTRIBUTES');\n        if (!Array.isArray(attributes) || attributes.length === 0) return;\n        this.listenTo(cellView.model, 'change', this.onCellAttributeChange);\n    },\n\n    onCellAttributeChange() {\n        const { cellView } = this;\n        if (!cellView) return;\n        const { model, paper } = cellView;\n        const attributes = result(this, 'UPDATE_ATTRIBUTES');\n        if (!attributes.some(attribute => model.hasChanged(attribute))) return;\n        paper.requestViewUpdate(this, this.HIGHLIGHT_FLAG, this.UPDATE_PRIORITY);\n    }\n\n}, {\n\n    _views: {},\n\n    // Used internally by CellView highlight()\n    highlight: function(cellView, node, opt) {\n        const id = this.uniqueId(node, opt);\n        this.add(cellView, node, id, opt);\n    },\n\n    // Used internally by CellView unhighlight()\n    unhighlight: function(cellView, node, opt) {\n        const id = this.uniqueId(node, opt);\n        this.remove(cellView, id);\n    },\n\n    get(cellView, id = null) {\n        const { cid } = cellView;\n        const { _views } = this;\n        const refs = _views[cid];\n        if (id === null) {\n            // all highlighters\n            const views = [];\n            if (!refs) return views;\n            for (let hid in refs) {\n                const ref = refs[hid];\n                if (ref instanceof this) {\n                    views.push(ref);\n                }\n            }\n            return views;\n        } else {\n            // single highlighter\n            if (!refs) return null;\n            if (id in refs) {\n                const ref = refs[id];\n                if (ref instanceof this) return ref;\n            }\n            return null;\n        }\n    },\n\n    add(cellView, nodeSelector, id, opt = {}) {\n        if (!id) throw new Error('dia.HighlighterView: An ID required.');\n        // Search the existing view amongst all the highlighters\n        const previousView = HighlighterView.get(cellView, id);\n        if (previousView) previousView.remove();\n        const view = new this(opt);\n        view.id = id;\n        this._addRef(cellView, id, view);\n        view.requestUpdate(cellView, nodeSelector);\n        view.listenToUpdateAttributes(cellView);\n        return view;\n    },\n\n    _addRef(cellView, id, view) {\n        const { cid } = cellView;\n        const { _views } = this;\n        let refs = _views[cid];\n        if (!refs) refs = _views[cid] = {};\n        refs[id] = view;\n    },\n\n    _removeRef(cellView, id) {\n        const { cid } = cellView;\n        const { _views } = this;\n        const refs = _views[cid];\n        if (!refs) return;\n        if (id) delete refs[id];\n        for (let _ in refs) return;\n        delete _views[cid];\n    },\n\n    remove(cellView, id = null) {\n        toArray(this.get(cellView, id)).forEach(view => {\n            view.remove();\n        });\n    },\n\n    removeAll(paper, id = null) {\n        const { _views } = this;\n\n        for (let cid in _views) {\n            for (let hid in _views[cid]) {\n                const view = _views[cid][hid];\n\n                if (view.cellView.paper === paper && view instanceof this && (id === null || hid === id)) {\n                    view.remove();\n                }\n            }\n        }\n    },\n\n    update(cellView, id = null, dirty = false) {\n        toArray(this.get(cellView, id)).forEach(view => {\n            if (dirty || view.UPDATABLE) view.update();\n        });\n    },\n\n    transform(cellView, id = null) {\n        toArray(this.get(cellView, id)).forEach(view => {\n            if (view.UPDATABLE) view.transform();\n        });\n    },\n\n    unmount(cellView, id = null) {\n        toArray(this.get(cellView, id)).forEach(view => view.unmount());\n    },\n\n    mount(cellView, id = null) {\n        toArray(this.get(cellView, id)).forEach(view => view.mount());\n    },\n\n    uniqueId(node, opt = '') {\n        return V.ensureId(node) + JSON.stringify(opt);\n    }\n\n});\n", "import { config } from '../config/index.mjs';\nimport { assign, isFunction, toArray } from '../util/index.mjs';\nimport { CellView } from './CellView.mjs';\nimport { Cell } from './Cell.mjs';\nimport V from '../V/index.mjs';\nimport { elementViewPortPrototype } from './ports.mjs';\nimport { Rect, snapToGrid } from '../g/index.mjs';\n\nconst Flags = {\n    TOOLS: CellView.Flags.TOOLS,\n    UPDATE: 'UPDATE',\n    TRANSLATE: 'TRANSLATE',\n    RESIZE: 'RESIZE',\n    PORTS: 'PORTS',\n    ROTATE: 'ROTATE',\n    RENDER: 'RENDER'\n};\n\nconst DragActions = {\n    MOVE: 'move',\n    MAGNET: 'magnet',\n};\n// Element base view and controller.\n// -------------------------------------------\n\nexport const ElementView = CellView.extend({\n\n    /**\n     * @abstract\n     */\n    _removePorts: function() {\n        // implemented in ports.js\n    },\n\n    /**\n     *\n     * @abstract\n     */\n    _renderPorts: function() {\n        // implemented in ports.js\n    },\n\n    className: function() {\n\n        var classNames = CellView.prototype.className.apply(this).split(' ');\n\n        classNames.push('element');\n\n        return classNames.join(' ');\n    },\n\n    initialize: function() {\n\n        CellView.prototype.initialize.apply(this, arguments);\n\n        this._initializePorts();\n    },\n\n    presentationAttributes: {\n        'attrs': [Flags.UPDATE],\n        'position': [Flags.TRANSLATE, Flags.TOOLS],\n        'size': [Flags.RESIZE, Flags.PORTS, Flags.TOOLS],\n        'angle': [Flags.ROTATE, Flags.TOOLS],\n        'markup': [Flags.RENDER],\n        'ports': [Flags.PORTS],\n    },\n\n    initFlag: [Flags.RENDER],\n\n    UPDATE_PRIORITY: 0,\n\n    confirmUpdate: function(flag, opt) {\n\n        const { useCSSSelectors } = config;\n        if (this.hasFlag(flag, Flags.PORTS)) {\n            this._removePorts();\n            this._cleanPortsCache();\n        }\n        let transformHighlighters = false;\n        if (this.hasFlag(flag, Flags.RENDER)) {\n            this.render();\n            this.updateTools(opt);\n            this.updateHighlighters(true);\n            transformHighlighters = true;\n            flag = this.removeFlag(flag, [Flags.RENDER, Flags.UPDATE, Flags.RESIZE, Flags.TRANSLATE, Flags.ROTATE, Flags.PORTS, Flags.TOOLS]);\n        } else {\n            let updateHighlighters = false;\n\n            // Skip this branch if render is required\n            if (this.hasFlag(flag, Flags.RESIZE)) {\n                this.resize(opt);\n                updateHighlighters = true;\n                // Resize method is calling `update()` internally\n                flag = this.removeFlag(flag, [Flags.RESIZE, Flags.UPDATE]);\n                if (useCSSSelectors) {\n                    // `resize()` rendered the ports when useCSSSelectors are enabled\n                    flag = this.removeFlag(flag, Flags.PORTS);\n                }\n            }\n            if (this.hasFlag(flag, Flags.UPDATE)) {\n                this.update(this.model, null, opt);\n                flag = this.removeFlag(flag, Flags.UPDATE);\n                updateHighlighters = true;\n                if (useCSSSelectors) {\n                    // `update()` will render ports when useCSSSelectors are enabled\n                    flag = this.removeFlag(flag, Flags.PORTS);\n                }\n            }\n            if (this.hasFlag(flag, Flags.TRANSLATE)) {\n                this.translate();\n                flag = this.removeFlag(flag, Flags.TRANSLATE);\n                transformHighlighters = true;\n            }\n            if (this.hasFlag(flag, Flags.ROTATE)) {\n                this.rotate();\n                flag = this.removeFlag(flag, Flags.ROTATE);\n                transformHighlighters = true;\n            }\n            if (this.hasFlag(flag, Flags.PORTS)) {\n                this._renderPorts();\n                updateHighlighters = true;\n                flag = this.removeFlag(flag, Flags.PORTS);\n            }\n\n            if (updateHighlighters) {\n                this.updateHighlighters(false);\n            }\n        }\n\n        if (transformHighlighters) {\n            this.transformHighlighters();\n        }\n\n        if (this.hasFlag(flag, Flags.TOOLS)) {\n            this.updateTools(opt);\n            flag = this.removeFlag(flag, Flags.TOOLS);\n        }\n\n        return flag;\n    },\n\n    /**\n     * @abstract\n     */\n    _initializePorts: function() {\n\n    },\n\n    update: function(_, renderingOnlyAttrs) {\n\n        this.cleanNodesCache();\n\n        // When CSS selector strings are used, make sure no rule matches port nodes.\n        const { useCSSSelectors } = config;\n        if (useCSSSelectors) this._removePorts();\n\n        var model = this.model;\n        var modelAttrs = model.attr();\n        this.updateDOMSubtreeAttributes(this.el, modelAttrs, {\n            rootBBox: new Rect(model.size()),\n            selectors: this.selectors,\n            scalableNode: this.scalableNode,\n            rotatableNode: this.rotatableNode,\n            // Use rendering only attributes if they differs from the model attributes\n            roAttributes: (renderingOnlyAttrs === modelAttrs) ? null : renderingOnlyAttrs\n        });\n\n        if (useCSSSelectors) {\n            this._renderPorts();\n        }\n    },\n\n    rotatableSelector: 'rotatable',\n    scalableSelector: 'scalable',\n    scalableNode: null,\n    rotatableNode: null,\n\n    // `prototype.markup` is rendered by default. Set the `markup` attribute on the model if the\n    // default markup is not desirable.\n    renderMarkup: function() {\n\n        var element = this.model;\n        var markup = element.get('markup') || element.markup;\n        if (!markup) throw new Error('dia.ElementView: markup required');\n        if (Array.isArray(markup)) return this.renderJSONMarkup(markup);\n        if (typeof markup === 'string') return this.renderStringMarkup(markup);\n        throw new Error('dia.ElementView: invalid markup');\n    },\n\n    renderJSONMarkup: function(markup) {\n\n        var doc = this.parseDOMJSON(markup, this.el);\n        var selectors = this.selectors = doc.selectors;\n        this.rotatableNode = V(selectors[this.rotatableSelector]) || null;\n        this.scalableNode = V(selectors[this.scalableSelector]) || null;\n        // Fragment\n        this.vel.append(doc.fragment);\n    },\n\n    renderStringMarkup: function(markup) {\n\n        var vel = this.vel;\n        vel.append(V(markup));\n        // Cache transformation groups\n        this.rotatableNode = vel.findOne('.rotatable');\n        this.scalableNode = vel.findOne('.scalable');\n\n        var selectors = this.selectors = {};\n        selectors[this.selector] = this.el;\n    },\n\n    render: function() {\n\n        this.vel.empty();\n        this.renderMarkup();\n        if (this.scalableNode) {\n            // Double update is necessary for elements with the scalable group only\n            // Note the resize() triggers the other `update`.\n            this.update();\n        }\n        this.resize();\n        if (this.rotatableNode) {\n            // Translate transformation is applied on `this.el` while the rotation transformation\n            // on `this.rotatableNode`\n            this.rotate();\n            this.translate();\n        } else {\n            this.updateTransformation();\n        }\n        if (!config.useCSSSelectors) this._renderPorts();\n        return this;\n    },\n\n    resize: function(opt) {\n\n        if (this.scalableNode) return this.sgResize(opt);\n        if (this.model.attributes.angle) this.rotate();\n        this.update();\n    },\n\n    translate: function() {\n\n        if (this.rotatableNode) return this.rgTranslate();\n        this.updateTransformation();\n    },\n\n    rotate: function() {\n\n        if (this.rotatableNode) {\n            this.rgRotate();\n            // It's necessary to call the update for the nodes outside\n            // the rotatable group referencing nodes inside the group\n            this.update();\n            return;\n        }\n        this.updateTransformation();\n    },\n\n    updateTransformation: function() {\n\n        var transformation = this.getTranslateString();\n        var rotateString = this.getRotateString();\n        if (rotateString) transformation += ' ' + rotateString;\n        this.vel.attr('transform', transformation);\n    },\n\n    getTranslateString: function() {\n\n        var position = this.model.attributes.position;\n        return 'translate(' + position.x + ',' + position.y + ')';\n    },\n\n    getRotateString: function() {\n        var attributes = this.model.attributes;\n        var angle = attributes.angle;\n        if (!angle) return null;\n        var size = attributes.size;\n        return 'rotate(' + angle + ',' + (size.width / 2) + ',' + (size.height / 2) + ')';\n    },\n\n    // Rotatable & Scalable Group\n    // always slower, kept mainly for backwards compatibility\n\n    rgRotate: function() {\n\n        this.rotatableNode.attr('transform', this.getRotateString());\n    },\n\n    rgTranslate: function() {\n\n        this.vel.attr('transform', this.getTranslateString());\n    },\n\n    sgResize: function(opt) {\n\n        var model = this.model;\n        var angle = model.angle();\n        var size = model.size();\n        var scalable = this.scalableNode;\n\n        // Getting scalable group's bbox.\n        // Due to a bug in webkit's native SVG .getBBox implementation, the bbox of groups with path children includes the paths' control points.\n        // To work around the issue, we need to check whether there are any path elements inside the scalable group.\n        var recursive = false;\n        if (scalable.node.getElementsByTagName('path').length > 0) {\n            // If scalable has at least one descendant that is a path, we need to switch to recursive bbox calculation.\n            // If there are no path descendants, group bbox calculation works and so we can use the (faster) native function directly.\n            recursive = true;\n        }\n        var scalableBBox = scalable.getBBox({ recursive: recursive });\n\n        // Make sure `scalableBbox.width` and `scalableBbox.height` are not zero which can happen if the element does not have any content. By making\n        // the width/height 1, we prevent HTML errors of the type `scale(Infinity, Infinity)`.\n        var sx = (size.width / (scalableBBox.width || 1));\n        var sy = (size.height / (scalableBBox.height || 1));\n        scalable.attr('transform', 'scale(' + sx + ',' + sy + ')');\n\n        // Now the interesting part. The goal is to be able to store the object geometry via just `x`, `y`, `angle`, `width` and `height`\n        // Order of transformations is significant but we want to reconstruct the object always in the order:\n        // resize(), rotate(), translate() no matter of how the object was transformed. For that to work,\n        // we must adjust the `x` and `y` coordinates of the object whenever we resize it (because the origin of the\n        // rotation changes). The new `x` and `y` coordinates are computed by canceling the previous rotation\n        // around the center of the resized object (which is a different origin then the origin of the previous rotation)\n        // and getting the top-left corner of the resulting object. Then we clean up the rotation back to what it originally was.\n\n        // Cancel the rotation but now around a different origin, which is the center of the scaled object.\n        var rotatable = this.rotatableNode;\n        var rotation = rotatable && rotatable.attr('transform');\n        if (rotation) {\n\n            rotatable.attr('transform', rotation + ' rotate(' + (-angle) + ',' + (size.width / 2) + ',' + (size.height / 2) + ')');\n            var rotatableBBox = scalable.getBBox({ target: this.paper.cells });\n\n            // Store new x, y and perform rotate() again against the new rotation origin.\n            model.set('position', { x: rotatableBBox.x, y: rotatableBBox.y }, assign({ updateHandled: true }, opt));\n            this.translate();\n            this.rotate();\n        }\n\n        // Update must always be called on non-rotated element. Otherwise, relative positioning\n        // would work with wrong (rotated) bounding boxes.\n        this.update();\n    },\n\n    // Embedding mode methods.\n    // -----------------------\n\n    prepareEmbedding: function(data = {}) {\n\n        const element = data.model || this.model;\n        const paper = data.paper || this.paper;\n        const graph = paper.model;\n\n        const initialZIndices = data.initialZIndices = {};\n        const embeddedCells = element.getEmbeddedCells({ deep: true });\n        const connectedLinks = graph.getConnectedLinks(element, { deep: true, includeEnclosed: true });\n\n        // Note: an embedded cell can be a connect link, but it's fine\n        // to iterate over the cell twice.\n        [\n            element,\n            ...embeddedCells,\n            ...connectedLinks\n        ].forEach(cell => initialZIndices[cell.id] = cell.attributes.z);\n\n        element.startBatch('to-front');\n\n        // Bring the model to the front with all his embeds.\n        element.toFront({ deep: true, ui: true });\n\n        // Note that at this point cells in the collection are not sorted by z index (it's running in the batch, see\n        // the dia.Graph._sortOnChangeZ), so we can't assume that the last cell in the collection has the highest z.\n        const maxZ = graph.getElements().reduce((max, cell) => Math.max(max, cell.attributes.z || 0), 0);\n\n        // Move to front also all the inbound and outbound links that are connected\n        // to any of the element descendant. If we bring to front only embedded elements,\n        // links connected to them would stay in the background.\n        connectedLinks.forEach((link) => {\n            if (link.attributes.z <= maxZ) {\n                link.set('z', maxZ + 1, { ui: true });\n            }\n        });\n\n        element.stopBatch('to-front');\n\n        // Before we start looking for suitable parent we remove the current one.\n        const parentId = element.parent();\n        if (parentId) {\n            const parent = graph.getCell(parentId);\n            parent.unembed(element, { ui: true });\n            data.initialParentId = parentId;\n        } else {\n            data.initialParentId = null;\n        }\n    },\n\n    processEmbedding: function(data = {}, evt, x, y) {\n\n        const model = data.model || this.model;\n        const paper = data.paper || this.paper;\n        const graph = paper.model;\n        const { findParentBy, frontParentOnly, validateEmbedding } = paper.options;\n\n        let candidates;\n        if (isFunction(findParentBy)) {\n            candidates = toArray(findParentBy.call(graph, this, evt, x, y));\n        } else if (findParentBy === 'pointer') {\n            candidates = toArray(graph.findModelsFromPoint({ x, y }));\n        } else {\n            candidates = graph.findModelsUnderElement(model, { searchBy: findParentBy });\n        }\n\n        candidates = candidates.filter((el) => {\n            return (el instanceof Cell) && (model.id !== el.id) && !el.isEmbeddedIn(model);\n        });\n\n        if (frontParentOnly) {\n            // pick the element with the highest `z` index\n            candidates = candidates.slice(-1);\n        }\n\n        let newCandidateView = null;\n        const prevCandidateView = data.candidateEmbedView;\n\n        // iterate over all candidates starting from the last one (has the highest z-index).\n        for (let i = candidates.length - 1; i >= 0; i--) {\n            const candidate = candidates[i];\n            if (prevCandidateView && prevCandidateView.model.id == candidate.id) {\n                // candidate remains the same\n                newCandidateView = prevCandidateView;\n                break;\n            } else {\n                const view = candidate.findView(paper);\n                if (!isFunction(validateEmbedding) || validateEmbedding.call(paper, this, view)) {\n                    // flip to the new candidate\n                    newCandidateView = view;\n                    break;\n                }\n            }\n        }\n\n        if (newCandidateView && newCandidateView != prevCandidateView) {\n            // A new candidate view found. Highlight the new one.\n            this.clearEmbedding(data);\n            data.candidateEmbedView = newCandidateView.highlight(\n                newCandidateView.findProxyNode(null, 'container'),\n                { embedding: true }\n            );\n        }\n\n        if (!newCandidateView && prevCandidateView) {\n            // No candidate view found. Unhighlight the previous candidate.\n            this.clearEmbedding(data);\n        }\n    },\n\n    clearEmbedding: function(data) {\n\n        data || (data = {});\n\n        var candidateView = data.candidateEmbedView;\n        if (candidateView) {\n            // No candidate view found. Unhighlight the previous candidate.\n            candidateView.unhighlight(\n                candidateView.findProxyNode(null, 'container'),\n                { embedding: true }\n            );\n            data.candidateEmbedView = null;\n        }\n    },\n\n    finalizeEmbedding: function(data = {}) {\n\n        const candidateView = data.candidateEmbedView;\n        const element = data.model || this.model;\n        const paper = data.paper || this.paper;\n\n        if (candidateView) {\n\n            // We finished embedding. Candidate view is chosen to become the parent of the model.\n            candidateView.model.embed(element, { ui: true });\n            candidateView.unhighlight(candidateView.findProxyNode(null, 'container'), { embedding: true });\n\n            data.candidateEmbedView = null;\n\n        } else {\n\n            const { validateUnembedding } = paper.options;\n            const { initialParentId } = data;\n            // The element was originally embedded into another element.\n            // The interaction would unembed the element. Let's validate\n            // if the element can be unembedded.\n            if (\n                initialParentId &&\n                typeof validateUnembedding === 'function' &&\n                !validateUnembedding.call(paper, this)\n            ) {\n                this._disallowUnembed(data);\n                return;\n            }\n        }\n\n        paper.model.getConnectedLinks(element, { deep: true }).forEach(link => {\n            link.reparent({ ui: true });\n        });\n    },\n\n    _disallowUnembed: function(data) {\n        const { model, whenNotAllowed = 'revert' } = data;\n        const element = model || this.model;\n        const paper = data.paper || this.paper;\n        const graph = paper.model;\n        switch (whenNotAllowed) {\n            case 'remove': {\n                element.remove({ ui: true });\n                break;\n            }\n            case 'revert': {\n                const { initialParentId, initialPosition, initialZIndices } = data;\n                // Revert the element's position (and the position of its embedded cells if any)\n                if (initialPosition) {\n                    const { x, y } = initialPosition;\n                    element.position(x, y, { deep: true, ui: true });\n                }\n                // Revert all the z-indices changed during the embedding\n                if (initialZIndices) {\n                    Object.keys(initialZIndices).forEach(id => {\n                        const cell = graph.getCell(id);\n                        if (cell) {\n                            cell.set('z', initialZIndices[id], { ui: true });\n                        }\n                    });\n                }\n                // Revert the original parent\n                const parent = graph.getCell(initialParentId);\n                if (parent) {\n                    parent.embed(element, { ui: true });\n                }\n                break;\n            }\n        }\n    },\n\n    getDelegatedView: function() {\n\n        var view = this;\n        var model = view.model;\n        var paper = view.paper;\n\n        while (view) {\n            if (model.isLink()) break;\n            if (!model.isEmbedded() || view.can('stopDelegation')) return view;\n            model = model.getParentCell();\n            view = paper.findViewByModel(model);\n        }\n\n        return null;\n    },\n\n    findProxyNode: function(el, type) {\n        el || (el = this.el);\n        const nodeSelector = el.getAttribute(`${type}-selector`);\n        if (nodeSelector) {\n            const port = this.findAttribute('port', el);\n            if (port) {\n                const proxyPortNode = this.findPortNode(port, nodeSelector);\n                if (proxyPortNode) return proxyPortNode;\n            } else {\n                const [proxyNode] = this.findBySelector(nodeSelector);\n                if (proxyNode) return proxyNode;\n            }\n        }\n        return el;\n    },\n\n    // Interaction. The controller part.\n    // ---------------------------------\n\n    notifyPointerdown(evt, x, y) {\n        CellView.prototype.pointerdown.call(this, evt, x, y);\n        this.notify('element:pointerdown', evt, x, y);\n    },\n\n    notifyPointermove(evt, x, y) {\n        CellView.prototype.pointermove.call(this, evt, x, y);\n        this.notify('element:pointermove', evt, x, y);\n    },\n\n    notifyPointerup(evt, x, y) {\n        this.notify('element:pointerup', evt, x, y);\n        CellView.prototype.pointerup.call(this, evt, x, y);\n    },\n\n    pointerdblclick: function(evt, x, y) {\n\n        CellView.prototype.pointerdblclick.apply(this, arguments);\n        this.notify('element:pointerdblclick', evt, x, y);\n    },\n\n    pointerclick: function(evt, x, y) {\n\n        CellView.prototype.pointerclick.apply(this, arguments);\n        this.notify('element:pointerclick', evt, x, y);\n    },\n\n    contextmenu: function(evt, x, y) {\n\n        CellView.prototype.contextmenu.apply(this, arguments);\n        this.notify('element:contextmenu', evt, x, y);\n    },\n\n    pointerdown: function(evt, x, y) {\n\n        this.notifyPointerdown(evt, x, y);\n        this.dragStart(evt, x, y);\n    },\n\n    pointermove: function(evt, x, y) {\n\n        const data = this.eventData(evt);\n        const { targetMagnet, action, delegatedView } = data;\n\n        if (targetMagnet) {\n            this.magnetpointermove(evt, targetMagnet, x, y);\n        }\n\n        switch (action) {\n            case DragActions.MAGNET:\n                this.dragMagnet(evt, x, y);\n                break;\n            case DragActions.MOVE:\n                (delegatedView || this).drag(evt, x, y);\n            // eslint: no-fallthrough=false\n            default:\n                if (data.preventPointerEvents) break;\n                this.notifyPointermove(evt, x, y);\n                break;\n        }\n\n        // Make sure the element view data is passed along.\n        // It could have been wiped out in the handlers above.\n        this.eventData(evt, data);\n    },\n\n    pointerup: function(evt, x, y) {\n\n        const data = this.eventData(evt);\n        const { targetMagnet, action, delegatedView } = data;\n\n        if (targetMagnet) {\n            this.magnetpointerup(evt, targetMagnet, x, y);\n        }\n\n        switch (action) {\n            case DragActions.MAGNET:\n                this.dragMagnetEnd(evt, x, y);\n                break;\n            case DragActions.MOVE:\n                (delegatedView || this).dragEnd(evt, x, y);\n            // eslint: no-fallthrough=false\n            default:\n                if (data.preventPointerEvents) break;\n                this.notifyPointerup(evt, x, y);\n        }\n\n        if (targetMagnet) {\n            this.magnetpointerclick(evt, targetMagnet, x, y);\n        }\n\n        this.checkMouseleave(evt);\n    },\n\n    mouseover: function(evt) {\n\n        CellView.prototype.mouseover.apply(this, arguments);\n        this.notify('element:mouseover', evt);\n    },\n\n    mouseout: function(evt) {\n\n        CellView.prototype.mouseout.apply(this, arguments);\n        this.notify('element:mouseout', evt);\n    },\n\n    mouseenter: function(evt) {\n\n        CellView.prototype.mouseenter.apply(this, arguments);\n        this.notify('element:mouseenter', evt);\n    },\n\n    mouseleave: function(evt) {\n\n        CellView.prototype.mouseleave.apply(this, arguments);\n        this.notify('element:mouseleave', evt);\n    },\n\n    mousewheel: function(evt, x, y, delta) {\n\n        CellView.prototype.mousewheel.apply(this, arguments);\n        this.notify('element:mousewheel', evt, x, y, delta);\n    },\n\n    onmagnet: function(evt, x, y) {\n\n        const { currentTarget: targetMagnet } = evt;\n        this.magnetpointerdown(evt, targetMagnet, x, y);\n        this.eventData(evt, { targetMagnet });\n        this.dragMagnetStart(evt, x, y);\n    },\n\n    magnetpointerdown: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:pointerdown', evt, magnet, x, y);\n    },\n\n    magnetpointermove: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:pointermove', evt, magnet, x, y);\n    },\n\n    magnetpointerup: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:pointerup', evt, magnet, x, y);\n    },\n\n    magnetpointerdblclick: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:pointerdblclick', evt, magnet, x, y);\n    },\n\n    magnetcontextmenu: function(evt, magnet, x, y) {\n\n        this.notify('element:magnet:contextmenu', evt, magnet, x, y);\n    },\n\n    // Drag Start Handlers\n\n    dragStart: function(evt, x, y) {\n\n        if (this.isDefaultInteractionPrevented(evt)) return;\n\n        var view = this.getDelegatedView();\n        if (!view || !view.can('elementMove')) return;\n\n        this.eventData(evt, {\n            action: DragActions.MOVE,\n            delegatedView: view\n        });\n\n        const position = view.model.position();\n        view.eventData(evt, {\n            initialPosition: position,\n            pointerOffset: position.difference(x, y),\n            restrictedArea: this.paper.getRestrictedArea(view, x, y)\n        });\n    },\n\n    dragMagnetStart: function(evt, x, y) {\n\n        const { paper } = this;\n        const isPropagationAlreadyStopped = evt.isPropagationStopped();\n        if (isPropagationAlreadyStopped) {\n            // Special case when the propagation was already stopped\n            // on the `element:magnet:pointerdown` event.\n            // Do not trigger any `element:pointer*` events\n            // but still start the magnet dragging.\n            this.eventData(evt, { preventPointerEvents: true });\n        }\n\n        if (this.isDefaultInteractionPrevented(evt) || !this.can('addLinkFromMagnet')) {\n            // Stop the default action, which is to start dragging a link.\n            return;\n        }\n\n        const { targetMagnet = evt.currentTarget } = this.eventData(evt);\n        evt.stopPropagation();\n\n        // Invalid (Passive) magnet. Start dragging the element.\n        if (!paper.options.validateMagnet.call(paper, this, targetMagnet, evt)) {\n            if (isPropagationAlreadyStopped) {\n                // Do not trigger `element:pointerdown` and start element dragging\n                // if the propagation was stopped.\n                this.dragStart(evt, x, y);\n                // The `element:pointerdown` event is not triggered because\n                // of `preventPointerEvents` flag.\n            } else {\n                // We need to reset the action\n                // to `MOVE` so that the element is dragged.\n                this.pointerdown(evt, x, y);\n            }\n            return;\n        }\n\n        // Valid magnet. Start dragging a link.\n        if (paper.options.magnetThreshold <= 0) {\n            this.dragLinkStart(evt, targetMagnet, x, y);\n        }\n        this.eventData(evt, { action: DragActions.MAGNET });\n    },\n\n    // Drag Handlers\n\n    drag: function(evt, x, y) {\n\n        var paper = this.paper;\n        var grid = paper.options.gridSize;\n        var element = this.model;\n        var data = this.eventData(evt);\n        var { pointerOffset, restrictedArea, embedding } = data;\n\n        // Make sure the new element's position always snaps to the current grid\n        var elX = snapToGrid(x + pointerOffset.x, grid);\n        var elY = snapToGrid(y + pointerOffset.y, grid);\n\n        element.position(elX, elY, { restrictedArea, deep: true, ui: true });\n\n        if (paper.options.embeddingMode) {\n            if (!embedding) {\n                // Prepare the element for embedding only if the pointer moves.\n                // We don't want to do unnecessary action with the element\n                // if an user only clicks/dblclicks on it.\n                this.prepareEmbedding(data);\n                embedding = true;\n            }\n            this.processEmbedding(data, evt, x, y);\n        }\n\n        this.eventData(evt, {\n            embedding\n        });\n    },\n\n    dragMagnet: function(evt, x, y) {\n        this.dragLink(evt, x, y);\n    },\n\n    // Drag End Handlers\n\n    dragEnd: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        if (data.embedding) this.finalizeEmbedding(data);\n    },\n\n    dragMagnetEnd: function(evt, x, y) {\n        this.dragLinkEnd(evt, x, y);\n    },\n\n    magnetpointerclick: function(evt, magnet, x, y) {\n        var paper = this.paper;\n        if (paper.eventData(evt).mousemoved > paper.options.clickThreshold) return;\n        this.notify('element:magnet:pointerclick', evt, magnet, x, y);\n    }\n\n}, {\n\n    Flags: Flags,\n});\n\nassign(ElementView.prototype, elementViewPortPrototype);\n", "export * from './normal.mjs';\nexport * from './oneSide.mjs';\nexport * from './orthogonal.mjs';\nexport * from './manhattan.mjs';\nexport * from './metro.mjs';\nexport * from './rightAngle.mjs';\n", "// Does not make any changes to vertices.\n// Returns the arguments that are passed to it, unchanged.\nexport const normal = function(vertices, opt, linkView) {\n\n    return vertices;\n};\n", "import * as util from '../util/index.mjs';\n\n// Routes the link always to/from a certain side\n//\n// Arguments:\n//   padding ... gap between the element and the first vertex. :: Default 40.\n//   side ... 'left' | 'right' | 'top' | 'bottom' :: Default 'bottom'.\n//\nexport const oneSide = function(vertices, opt, linkView) {\n\n    var side = opt.side || 'bottom';\n    var padding = util.normalizeSides(opt.padding || 40);\n\n    // LinkView contains cached source an target bboxes.\n    // Note that those are Geometry rectangle objects.\n    var sourceBBox = linkView.sourceBBox;\n    var targetBBox = linkView.targetBBox;\n    var sourcePoint = sourceBBox.center();\n    var targetPoint = targetBBox.center();\n\n    var coordinate, dimension, direction;\n\n    switch (side) {\n        case 'bottom':\n            direction = 1;\n            coordinate = 'y';\n            dimension = 'height';\n            break;\n        case 'top':\n            direction = -1;\n            coordinate = 'y';\n            dimension = 'height';\n            break;\n        case 'left':\n            direction = -1;\n            coordinate = 'x';\n            dimension = 'width';\n            break;\n        case 'right':\n            direction = 1;\n            coordinate = 'x';\n            dimension = 'width';\n            break;\n        default:\n            throw new Error('Router: invalid side');\n    }\n\n    // move the points from the center of the element to outside of it.\n    sourcePoint[coordinate] += direction * (sourceBBox[dimension] / 2 + padding[side]);\n    targetPoint[coordinate] += direction * (targetBBox[dimension] / 2 + padding[side]);\n\n    // make link orthogonal (at least the first and last vertex).\n    if ((direction * (sourcePoint[coordinate] - targetPoint[coordinate])) > 0) {\n        targetPoint[coordinate] = sourcePoint[coordinate];\n    } else {\n        sourcePoint[coordinate] = targetPoint[coordinate];\n    }\n\n    return [sourcePoint].concat(vertices, targetPoint);\n};\n", "import * as g from '../g/index.mjs';\nimport * as util from '../util/index.mjs';\n\n// bearing -> opposite bearing\nvar opposites = {\n    N: 'S',\n    S: 'N',\n    E: 'W',\n    W: 'E'\n};\n\n// bearing -> radians\nvar radians = {\n    N: -Math.PI / 2 * 3,\n    S: -Math.PI / 2,\n    E: 0,\n    W: Math.PI\n};\n\n// HELPERS //\n\n// returns a point `p` where lines p,p1 and p,p2 are perpendicular and p is not contained\n// in the given box\nfunction freeJoin(p1, p2, bbox) {\n\n    var p = new g.Point(p1.x, p2.y);\n    if (bbox.containsPoint(p)) p = new g.Point(p2.x, p1.y);\n    // kept for reference\n    // if (bbox.containsPoint(p)) p = null;\n\n    return p;\n}\n\n// returns either width or height of a bbox based on the given bearing\nfunction getBBoxSize(bbox, bearing) {\n\n    return bbox[(bearing === 'W' || bearing === 'E') ? 'width' : 'height'];\n}\n\n// simple bearing method (calculates only orthogonal cardinals)\nfunction getBearing(from, to) {\n\n    if (from.x === to.x) return (from.y > to.y) ? 'N' : 'S';\n    if (from.y === to.y) return (from.x > to.x) ? 'W' : 'E';\n    return null;\n}\n\n// transform point to a rect\nfunction getPointBox(p) {\n\n    return new g.Rect(p.x, p.y, 0, 0);\n}\n\nfunction getPaddingBox(opt) {\n\n    // if both provided, opt.padding wins over opt.elementPadding\n    var sides = util.normalizeSides(opt.padding || opt.elementPadding || 20);\n\n    return {\n        x: -sides.left,\n        y: -sides.top,\n        width: sides.left + sides.right,\n        height: sides.top + sides.bottom\n    };\n}\n\n// return source bbox\nfunction getSourceBBox(linkView, opt) {\n\n    return linkView.sourceBBox.clone().moveAndExpand(getPaddingBox(opt));\n}\n\n// return target bbox\nfunction getTargetBBox(linkView, opt) {\n\n    return linkView.targetBBox.clone().moveAndExpand(getPaddingBox(opt));\n}\n\n// return source anchor\nfunction getSourceAnchor(linkView, opt) {\n\n    if (linkView.sourceAnchor) return linkView.sourceAnchor;\n\n    // fallback: center of bbox\n    var sourceBBox = getSourceBBox(linkView, opt);\n    return sourceBBox.center();\n}\n\n// return target anchor\nfunction getTargetAnchor(linkView, opt) {\n\n    if (linkView.targetAnchor) return linkView.targetAnchor;\n\n    // fallback: center of bbox\n    var targetBBox = getTargetBBox(linkView, opt);\n    return targetBBox.center(); // default\n}\n\n// PARTIAL ROUTERS //\n\nfunction vertexVertex(from, to, bearing) {\n\n    var p1 = new g.Point(from.x, to.y);\n    var p2 = new g.Point(to.x, from.y);\n    var d1 = getBearing(from, p1);\n    var d2 = getBearing(from, p2);\n    var opposite = opposites[bearing];\n\n    var p = (d1 === bearing || (d1 !== opposite && (d2 === opposite || d2 !== bearing))) ? p1 : p2;\n\n    return { points: [p], direction: getBearing(p, to) };\n}\n\nfunction elementVertex(from, to, fromBBox) {\n\n    var p = freeJoin(from, to, fromBBox);\n\n    return { points: [p], direction: getBearing(p, to) };\n}\n\nfunction vertexElement(from, to, toBBox, bearing) {\n\n    var route = {};\n\n    var points = [new g.Point(from.x, to.y), new g.Point(to.x, from.y)];\n    var freePoints = points.filter(function(pt) {\n        return !toBBox.containsPoint(pt);\n    });\n    var freeBearingPoints = freePoints.filter(function(pt) {\n        return getBearing(pt, from) !== bearing;\n    });\n\n    var p;\n\n    if (freeBearingPoints.length > 0) {\n        // Try to pick a point which bears the same direction as the previous segment.\n\n        p = freeBearingPoints.filter(function(pt) {\n            return getBearing(from, pt) === bearing;\n        }).pop();\n        p = p || freeBearingPoints[0];\n\n        route.points = [p];\n        route.direction = getBearing(p, to);\n\n    } else {\n        // Here we found only points which are either contained in the element or they would create\n        // a link segment going in opposite direction from the previous one.\n        // We take the point inside element and move it outside the element in the direction the\n        // route is going. Now we can join this point with the current end (using freeJoin).\n\n        p = util.difference(points, freePoints)[0];\n\n        var p2 = (new g.Point(to)).move(p, -getBBoxSize(toBBox, bearing) / 2);\n        var p1 = freeJoin(p2, from, toBBox);\n\n        route.points = [p1, p2];\n        route.direction = getBearing(p2, to);\n    }\n\n    return route;\n}\n\nfunction elementElement(from, to, fromBBox, toBBox) {\n\n    var route = elementVertex(to, from, toBBox);\n    var p1 = route.points[0];\n\n    if (fromBBox.containsPoint(p1)) {\n\n        route = elementVertex(from, to, fromBBox);\n        var p2 = route.points[0];\n\n        if (toBBox.containsPoint(p2)) {\n\n            var fromBorder = (new g.Point(from)).move(p2, -getBBoxSize(fromBBox, getBearing(from, p2)) / 2);\n            var toBorder = (new g.Point(to)).move(p1, -getBBoxSize(toBBox, getBearing(to, p1)) / 2);\n            var mid = (new g.Line(fromBorder, toBorder)).midpoint();\n\n            var startRoute = elementVertex(from, mid, fromBBox);\n            var endRoute = vertexVertex(mid, to, startRoute.direction);\n\n            route.points = [startRoute.points[0], endRoute.points[0]];\n            route.direction = endRoute.direction;\n        }\n    }\n\n    return route;\n}\n\n// Finds route for situations where one element is inside the other.\n// Typically the route is directed outside the outer element first and\n// then back towards the inner element.\nfunction insideElement(from, to, fromBBox, toBBox, bearing) {\n\n    var route = {};\n    var boundary = fromBBox.union(toBBox).inflate(1);\n\n    // start from the point which is closer to the boundary\n    var reversed = boundary.center().distance(to) > boundary.center().distance(from);\n    var start = reversed ? to : from;\n    var end = reversed ? from : to;\n\n    var p1, p2, p3;\n\n    if (bearing) {\n        // Points on circle with radius equals 'W + H` are always outside the rectangle\n        // with width W and height H if the center of that circle is the center of that rectangle.\n        p1 = g.Point.fromPolar(boundary.width + boundary.height, radians[bearing], start);\n        p1 = boundary.pointNearestToPoint(p1).move(p1, -1);\n\n    } else {\n        p1 = boundary.pointNearestToPoint(start).move(start, 1);\n    }\n\n    p2 = freeJoin(p1, end, boundary);\n\n    if (p1.round().equals(p2.round())) {\n        p2 = g.Point.fromPolar(boundary.width + boundary.height, g.toRad(p1.theta(start)) + Math.PI / 2, end);\n        p2 = boundary.pointNearestToPoint(p2).move(end, 1).round();\n        p3 = freeJoin(p1, p2, boundary);\n        route.points = reversed ? [p2, p3, p1] : [p1, p3, p2];\n\n    } else {\n        route.points = reversed ? [p2, p1] : [p1, p2];\n    }\n\n    route.direction = reversed ? getBearing(p1, to) : getBearing(p2, to);\n\n    return route;\n}\n\n// MAIN ROUTER //\n\n// Return points through which a connection needs to be drawn in order to obtain an orthogonal link\n// routing from source to target going through `vertices`.\nexport function orthogonal(vertices, opt, linkView) {\n\n    var sourceBBox = getSourceBBox(linkView, opt);\n    var targetBBox = getTargetBBox(linkView, opt);\n\n    var sourceAnchor = getSourceAnchor(linkView, opt);\n    var targetAnchor = getTargetAnchor(linkView, opt);\n\n    // if anchor lies outside of bbox, the bbox expands to include it\n    sourceBBox = sourceBBox.union(getPointBox(sourceAnchor));\n    targetBBox = targetBBox.union(getPointBox(targetAnchor));\n\n    vertices = util.toArray(vertices).map(g.Point);\n    vertices.unshift(sourceAnchor);\n    vertices.push(targetAnchor);\n\n    var bearing; // bearing of previous route segment\n\n    var orthogonalVertices = []; // the array of found orthogonal vertices to be returned\n    for (var i = 0, max = vertices.length - 1; i < max; i++) {\n\n        var route = null;\n\n        var from = vertices[i];\n        var to = vertices[i + 1];\n\n        var isOrthogonal = !!getBearing(from, to);\n\n        if (i === 0) { // source\n\n            if (i + 1 === max) { // route source -> target\n\n                // Expand one of the elements by 1px to detect situations when the two\n                // elements are positioned next to each other with no gap in between.\n                if (sourceBBox.intersect(targetBBox.clone().inflate(1))) {\n                    route = insideElement(from, to, sourceBBox, targetBBox);\n\n                } else if (!isOrthogonal) {\n                    route = elementElement(from, to, sourceBBox, targetBBox);\n                }\n\n            } else { // route source -> vertex\n\n                if (sourceBBox.containsPoint(to)) {\n                    route = insideElement(from, to, sourceBBox, getPointBox(to).moveAndExpand(getPaddingBox(opt)));\n\n                } else if (!isOrthogonal) {\n                    route = elementVertex(from, to, sourceBBox);\n                }\n            }\n\n        } else if (i + 1 === max) { // route vertex -> target\n\n            // prevent overlaps with previous line segment\n            var isOrthogonalLoop = isOrthogonal && getBearing(to, from) === bearing;\n\n            if (targetBBox.containsPoint(from) || isOrthogonalLoop) {\n                route = insideElement(from, to, getPointBox(from).moveAndExpand(getPaddingBox(opt)), targetBBox, bearing);\n\n            } else if (!isOrthogonal) {\n                route = vertexElement(from, to, targetBBox, bearing);\n            }\n\n        } else if (!isOrthogonal) { // route vertex -> vertex\n            route = vertexVertex(from, to, bearing);\n        }\n\n        // applicable to all routes:\n\n        // set bearing for next iteration\n        if (route) {\n            Array.prototype.push.apply(orthogonalVertices, route.points);\n            bearing = route.direction;\n\n        } else {\n            // orthogonal route and not looped\n            bearing = getBearing(from, to);\n        }\n\n        // push `to` point to identified orthogonal vertices array\n        if (i + 1 < max) {\n            orthogonalVertices.push(to);\n        }\n    }\n\n    return orthogonalVertices;\n}\n", "import * as g from '../g/index.mjs';\nimport * as util from '../util/index.mjs';\nimport { orthogonal } from './orthogonal.mjs';\n\nvar config = {\n\n    // size of the step to find a route (the grid of the manhattan pathfinder)\n    step: 10,\n\n    // the number of route finding loops that cause the router to abort\n    // returns fallback route instead\n    maximumLoops: 2000,\n\n    // the number of decimal places to round floating point coordinates\n    precision: 1,\n\n    // maximum change of direction\n    maxAllowedDirectionChange: 90,\n\n    // should the router use perpendicular linkView option?\n    // does not connect anchor of element but rather a point close-by that is orthogonal\n    // this looks much better\n    perpendicular: true,\n\n    // should the source and/or target not be considered as obstacles?\n    excludeEnds: [], // 'source', 'target'\n\n    // should certain types of elements not be considered as obstacles?\n    excludeTypes: ['basic.Text'],\n\n    // possible starting directions from an element\n    startDirections: ['top', 'right', 'bottom', 'left'],\n\n    // possible ending directions to an element\n    endDirections: ['top', 'right', 'bottom', 'left'],\n\n    // specify the directions used above and what they mean\n    directionMap: {\n        top: { x: 0, y: -1 },\n        right: { x: 1, y: 0 },\n        bottom: { x: 0, y: 1 },\n        left: { x: -1, y: 0 }\n    },\n\n    // cost of an orthogonal step\n    cost: function() {\n\n        return this.step;\n    },\n\n    // an array of directions to find next points on the route\n    // different from start/end directions\n    directions: function() {\n\n        var step = this.step;\n        var cost = this.cost();\n\n        return [\n            { offsetX: step, offsetY: 0, cost: cost },\n            { offsetX: -step, offsetY: 0, cost: cost },\n            { offsetX: 0, offsetY: step, cost: cost },\n            { offsetX: 0, offsetY: -step, cost: cost }\n        ];\n    },\n\n    // a penalty received for direction change\n    penalties: function() {\n\n        return {\n            0: 0,\n            45: this.step / 2,\n            90: this.step / 2\n        };\n    },\n\n    // padding applied on the element bounding boxes\n    paddingBox: function() {\n\n        var step = this.step;\n\n        return {\n            x: -step,\n            y: -step,\n            width: 2 * step,\n            height: 2 * step\n        };\n    },\n\n    // A function that determines whether a given point is an obstacle or not.\n    // If used, the `padding`, `excludeEnds`and `excludeTypes` options are ignored.\n    // (point: dia.Point) => boolean;\n    isPointObstacle: null,\n\n    // a router to use when the manhattan router fails\n    // (one of the partial routes returns null)\n    fallbackRouter: function(vertices, opt, linkView) {\n\n        if (!util.isFunction(orthogonal)) {\n            throw new Error('Manhattan requires the orthogonal router as default fallback.');\n        }\n\n        return orthogonal(vertices, util.assign({}, config, opt), linkView);\n    },\n\n    /* Deprecated */\n    // a simple route used in situations when main routing method fails\n    // (exceed max number of loop iterations, inaccessible)\n    fallbackRoute: function(from, to, opt) {\n\n        return null; // null result will trigger the fallbackRouter\n\n        // left for reference:\n        /*// Find an orthogonal route ignoring obstacles.\n\n        var point = ((opt.previousDirAngle || 0) % 180 === 0)\n                ? new g.Point(from.x, to.y)\n                : new g.Point(to.x, from.y);\n\n        return [point];*/\n    },\n\n    // if a function is provided, it's used to route the link while dragging an end\n    // i.e. function(from, to, opt) { return []; }\n    draggingRoute: null\n};\n\n// HELPER CLASSES //\n\n// Map of obstacles\n// Helper structure to identify whether a point lies inside an obstacle.\nfunction ObstacleMap(opt) {\n\n    this.map = {};\n    this.options = opt;\n    // tells how to divide the paper when creating the elements map\n    this.mapGridSize = 100;\n}\n\nObstacleMap.prototype.build = function(graph, link) {\n\n    var opt = this.options;\n\n    // source or target element could be excluded from set of obstacles\n    var excludedEnds = util.toArray(opt.excludeEnds).reduce(function(res, item) {\n\n        var end = link.get(item);\n        if (end) {\n            var cell = graph.getCell(end.id);\n            if (cell) {\n                res.push(cell);\n            }\n        }\n\n        return res;\n    }, []);\n\n    // Exclude any embedded elements from the source and the target element.\n    var excludedAncestors = [];\n\n    var source = graph.getCell(link.get('source').id);\n    if (source) {\n        excludedAncestors = util.union(excludedAncestors, source.getAncestors().map(function(cell) {\n            return cell.id;\n        }));\n    }\n\n    var target = graph.getCell(link.get('target').id);\n    if (target) {\n        excludedAncestors = util.union(excludedAncestors, target.getAncestors().map(function(cell) {\n            return cell.id;\n        }));\n    }\n\n    // Builds a map of all elements for quicker obstacle queries (i.e. is a point contained\n    // in any obstacle?) (a simplified grid search).\n    // The paper is divided into smaller cells, where each holds information about which\n    // elements belong to it. When we query whether a point lies inside an obstacle we\n    // don't need to go through all obstacles, we check only those in a particular cell.\n    var mapGridSize = this.mapGridSize;\n\n    graph.getElements().reduce(function(map, element) {\n\n        var isExcludedType = util.toArray(opt.excludeTypes).includes(element.get('type'));\n        var isExcludedEnd = excludedEnds.find(function(excluded) {\n            return excluded.id === element.id;\n        });\n        var isExcludedAncestor = excludedAncestors.includes(element.id);\n\n        var isExcluded = isExcludedType || isExcludedEnd || isExcludedAncestor;\n        if (!isExcluded) {\n            var bbox = element.getBBox().moveAndExpand(opt.paddingBox);\n\n            var origin = bbox.origin().snapToGrid(mapGridSize);\n            var corner = bbox.corner().snapToGrid(mapGridSize);\n\n            for (var x = origin.x; x <= corner.x; x += mapGridSize) {\n                for (var y = origin.y; y <= corner.y; y += mapGridSize) {\n                    var gridKey = x + '@' + y;\n                    map[gridKey] = map[gridKey] || [];\n                    map[gridKey].push(bbox);\n                }\n            }\n        }\n\n        return map;\n    }, this.map);\n\n    return this;\n};\n\nObstacleMap.prototype.isPointAccessible = function(point) {\n\n    var mapKey = point.clone().snapToGrid(this.mapGridSize).toString();\n\n    return util.toArray(this.map[mapKey]).every(function(obstacle) {\n        return !obstacle.containsPoint(point);\n    });\n};\n\n// Sorted Set\n// Set of items sorted by given value.\nfunction SortedSet() {\n    this.items = [];\n    this.hash = {};\n    this.values = {};\n    this.OPEN = 1;\n    this.CLOSE = 2;\n}\n\nSortedSet.prototype.add = function(item, value) {\n\n    if (this.hash[item]) {\n        // item removal\n        this.items.splice(this.items.indexOf(item), 1);\n    } else {\n        this.hash[item] = this.OPEN;\n    }\n\n    this.values[item] = value;\n\n    var index = util.sortedIndex(this.items, item, function(i) {\n        return this.values[i];\n    }.bind(this));\n\n    this.items.splice(index, 0, item);\n};\n\nSortedSet.prototype.remove = function(item) {\n\n    this.hash[item] = this.CLOSE;\n};\n\nSortedSet.prototype.isOpen = function(item) {\n\n    return this.hash[item] === this.OPEN;\n};\n\nSortedSet.prototype.isClose = function(item) {\n\n    return this.hash[item] === this.CLOSE;\n};\n\nSortedSet.prototype.isEmpty = function() {\n\n    return this.items.length === 0;\n};\n\nSortedSet.prototype.pop = function() {\n\n    var item = this.items.shift();\n    this.remove(item);\n    return item;\n};\n\n// HELPERS //\n\n// return source bbox\nfunction getSourceBBox(linkView, opt) {\n\n    // expand by padding box\n    if (opt && opt.paddingBox) return linkView.sourceBBox.clone().moveAndExpand(opt.paddingBox);\n\n    return linkView.sourceBBox.clone();\n}\n\n// return target bbox\nfunction getTargetBBox(linkView, opt) {\n\n    // expand by padding box\n    if (opt && opt.paddingBox) return linkView.targetBBox.clone().moveAndExpand(opt.paddingBox);\n\n    return linkView.targetBBox.clone();\n}\n\n// return source anchor\nfunction getSourceAnchor(linkView, opt) {\n\n    if (linkView.sourceAnchor) return linkView.sourceAnchor;\n\n    // fallback: center of bbox\n    var sourceBBox = getSourceBBox(linkView, opt);\n    return sourceBBox.center();\n}\n\n// return target anchor\nfunction getTargetAnchor(linkView, opt) {\n\n    if (linkView.targetAnchor) return linkView.targetAnchor;\n\n    // fallback: center of bbox\n    var targetBBox = getTargetBBox(linkView, opt);\n    return targetBBox.center(); // default\n}\n\n// returns a direction index from start point to end point\n// corrects for grid deformation between start and end\nfunction getDirectionAngle(start, end, numDirections, grid, opt) {\n\n    var quadrant = 360 / numDirections;\n    var angleTheta = start.theta(fixAngleEnd(start, end, grid, opt));\n    var normalizedAngle = g.normalizeAngle(angleTheta + (quadrant / 2));\n    return quadrant * Math.floor(normalizedAngle / quadrant);\n}\n\n// helper function for getDirectionAngle()\n// corrects for grid deformation\n// (if a point is one grid steps away from another in both dimensions,\n// it is considered to be 45 degrees away, even if the real angle is different)\n// this causes visible angle discrepancies if `opt.step` is much larger than `paper.gridSize`\nfunction fixAngleEnd(start, end, grid, opt) {\n\n    var step = opt.step;\n\n    var diffX = end.x - start.x;\n    var diffY = end.y - start.y;\n\n    var gridStepsX = diffX / grid.x;\n    var gridStepsY = diffY / grid.y;\n\n    var distanceX = gridStepsX * step;\n    var distanceY = gridStepsY * step;\n\n    return new g.Point(start.x + distanceX, start.y + distanceY);\n}\n\n// return the change in direction between two direction angles\nfunction getDirectionChange(angle1, angle2) {\n\n    var directionChange = Math.abs(angle1 - angle2);\n    return (directionChange > 180) ? (360 - directionChange) : directionChange;\n}\n\n// fix direction offsets according to current grid\nfunction getGridOffsets(directions, grid, opt) {\n\n    var step = opt.step;\n\n    util.toArray(opt.directions).forEach(function(direction) {\n\n        direction.gridOffsetX = (direction.offsetX / step) * grid.x;\n        direction.gridOffsetY = (direction.offsetY / step) * grid.y;\n    });\n}\n\n// get grid size in x and y dimensions, adapted to source and target positions\nfunction getGrid(step, source, target) {\n\n    return {\n        source: source.clone(),\n        x: getGridDimension(target.x - source.x, step),\n        y: getGridDimension(target.y - source.y, step)\n    };\n}\n\n// helper function for getGrid()\nfunction getGridDimension(diff, step) {\n\n    // return step if diff = 0\n    if (!diff) return step;\n\n    var absDiff = Math.abs(diff);\n    var numSteps = Math.round(absDiff / step);\n\n    // return absDiff if less than one step apart\n    if (!numSteps) return absDiff;\n\n    // otherwise, return corrected step\n    var roundedDiff = numSteps * step;\n    var remainder = absDiff - roundedDiff;\n    var stepCorrection = remainder / numSteps;\n\n    return step + stepCorrection;\n}\n\n// return a clone of point snapped to grid\nfunction snapToGrid(point, grid) {\n\n    var source = grid.source;\n\n    var snappedX = g.snapToGrid(point.x - source.x, grid.x) + source.x;\n    var snappedY = g.snapToGrid(point.y - source.y, grid.y) + source.y;\n\n    return new g.Point(snappedX, snappedY);\n}\n\n// round the point to opt.precision\nfunction round(point, precision) {\n\n    return point.round(precision);\n}\n\n// snap to grid and then round the point\nfunction align(point, grid, precision) {\n\n    return round(snapToGrid(point.clone(), grid), precision);\n}\n\n// return a string representing the point\n// string is rounded in both dimensions\nfunction getKey(point) {\n\n    return point.clone().toString();\n}\n\n// return a normalized vector from given point\n// used to determine the direction of a difference of two points\nfunction normalizePoint(point) {\n\n    return new g.Point(\n        point.x === 0 ? 0 : Math.abs(point.x) / point.x,\n        point.y === 0 ? 0 : Math.abs(point.y) / point.y\n    );\n}\n\n// PATHFINDING //\n\n// reconstructs a route by concatenating points with their parents\nfunction reconstructRoute(parents, points, tailPoint, from, to, grid, opt) {\n\n    var route = [];\n\n    var prevDiff = normalizePoint(to.difference(tailPoint));\n\n    // tailPoint is assumed to be aligned already\n    var currentKey = getKey(tailPoint);\n    var parent = parents[currentKey];\n\n    var point;\n    while (parent) {\n\n        // point is assumed to be aligned already\n        point = points[currentKey];\n\n        var diff = normalizePoint(point.difference(parent));\n        if (!diff.equals(prevDiff)) {\n            route.unshift(point);\n            prevDiff = diff;\n        }\n\n        // parent is assumed to be aligned already\n        currentKey = getKey(parent);\n        parent = parents[currentKey];\n    }\n\n    // leadPoint is assumed to be aligned already\n    var leadPoint = points[currentKey];\n\n    var fromDiff = normalizePoint(leadPoint.difference(from));\n    if (!fromDiff.equals(prevDiff)) {\n        route.unshift(leadPoint);\n    }\n\n    return route;\n}\n\n// heuristic method to determine the distance between two points\nfunction estimateCost(from, endPoints) {\n\n    var min = Infinity;\n\n    for (var i = 0, len = endPoints.length; i < len; i++) {\n        var cost = from.manhattanDistance(endPoints[i]);\n        if (cost < min) min = cost;\n    }\n\n    return min;\n}\n\n// find points around the bbox taking given directions into account\n// lines are drawn from anchor in given directions, intersections recorded\n// if anchor is outside bbox, only those directions that intersect get a rect point\n// the anchor itself is returned as rect point (representing some directions)\n// (since those directions are unobstructed by the bbox)\nfunction getRectPoints(anchor, bbox, directionList, grid, opt) {\n\n    var precision = opt.precision;\n    var directionMap = opt.directionMap;\n\n    var anchorCenterVector = anchor.difference(bbox.center());\n\n    var keys = util.isObject(directionMap) ? Object.keys(directionMap) : [];\n    var dirList = util.toArray(directionList);\n    var rectPoints = keys.reduce(function(res, key) {\n\n        if (dirList.includes(key)) {\n            var direction = directionMap[key];\n\n            // create a line that is guaranteed to intersect the bbox if bbox is in the direction\n            // even if anchor lies outside of bbox\n            var endpoint = new g.Point(\n                anchor.x + direction.x * (Math.abs(anchorCenterVector.x) + bbox.width),\n                anchor.y + direction.y * (Math.abs(anchorCenterVector.y) + bbox.height)\n            );\n            var intersectionLine = new g.Line(anchor, endpoint);\n\n            // get the farther intersection, in case there are two\n            // (that happens if anchor lies next to bbox)\n            var intersections = intersectionLine.intersect(bbox) || [];\n            var numIntersections = intersections.length;\n            var farthestIntersectionDistance;\n            var farthestIntersection = null;\n            for (var i = 0; i < numIntersections; i++) {\n                var currentIntersection = intersections[i];\n                var distance = anchor.squaredDistance(currentIntersection);\n                if ((farthestIntersectionDistance === undefined) || (distance > farthestIntersectionDistance)) {\n                    farthestIntersectionDistance = distance;\n                    farthestIntersection = currentIntersection;\n                }\n            }\n\n            // if an intersection was found in this direction, it is our rectPoint\n            if (farthestIntersection) {\n                var point = align(farthestIntersection, grid, precision);\n\n                // if the rectPoint lies inside the bbox, offset it by one more step\n                if (bbox.containsPoint(point)) {\n                    point = align(point.offset(direction.x * grid.x, direction.y * grid.y), grid, precision);\n                }\n\n                // then add the point to the result array\n                // aligned\n                res.push(point);\n            }\n        }\n\n        return res;\n    }, []);\n\n    // if anchor lies outside of bbox, add it to the array of points\n    if (!bbox.containsPoint(anchor)) {\n        // aligned\n        rectPoints.push(align(anchor, grid, precision));\n    }\n\n    return rectPoints;\n}\n\n// finds the route between two points/rectangles (`from`, `to`) implementing A* algorithm\n// rectangles get rect points assigned by getRectPoints()\nfunction findRoute(from, to, isPointObstacle, opt) {\n\n    var precision = opt.precision;\n\n    // Get grid for this route.\n\n    var sourceAnchor, targetAnchor;\n\n    if (from instanceof g.Rect) { // `from` is sourceBBox\n        sourceAnchor = round(getSourceAnchor(this, opt).clone(), precision);\n    } else {\n        sourceAnchor = round(from.clone(), precision);\n    }\n\n    if (to instanceof g.Rect) { // `to` is targetBBox\n        targetAnchor = round(getTargetAnchor(this, opt).clone(), precision);\n    } else {\n        targetAnchor = round(to.clone(), precision);\n    }\n\n    var grid = getGrid(opt.step, sourceAnchor, targetAnchor);\n\n    // Get pathfinding points.\n\n    var start, end; // aligned with grid by definition\n    var startPoints, endPoints; // assumed to be aligned with grid already\n\n    // set of points we start pathfinding from\n    if (from instanceof g.Rect) { // `from` is sourceBBox\n        start = sourceAnchor;\n        startPoints = getRectPoints(start, from, opt.startDirections, grid, opt);\n\n    } else {\n        start = sourceAnchor;\n        startPoints = [start];\n    }\n\n    // set of points we want the pathfinding to finish at\n    if (to instanceof g.Rect) { // `to` is targetBBox\n        end = targetAnchor;\n        endPoints = getRectPoints(targetAnchor, to, opt.endDirections, grid, opt);\n\n    } else {\n        end = targetAnchor;\n        endPoints = [end];\n    }\n\n    // take into account only accessible rect points (those not under obstacles)\n    startPoints = startPoints.filter(p => !isPointObstacle(p));\n    endPoints = endPoints.filter(p => !isPointObstacle(p));\n\n    // Check that there is an accessible route point on both sides.\n    // Otherwise, use fallbackRoute().\n    if (startPoints.length > 0 && endPoints.length > 0) {\n\n        // The set of tentative points to be evaluated, initially containing the start points.\n        // Rounded to nearest integer for simplicity.\n        var openSet = new SortedSet();\n        // Keeps reference to actual points for given elements of the open set.\n        var points = {};\n        // Keeps reference to a point that is immediate predecessor of given element.\n        var parents = {};\n        // Cost from start to a point along best known path.\n        var costs = {};\n\n        for (var i = 0, n = startPoints.length; i < n; i++) {\n            // startPoint is assumed to be aligned already\n            var startPoint = startPoints[i];\n\n            var key = getKey(startPoint);\n\n            openSet.add(key, estimateCost(startPoint, endPoints));\n            points[key] = startPoint;\n            costs[key] = 0;\n        }\n\n        var previousRouteDirectionAngle = opt.previousDirectionAngle; // undefined for first route\n        var isPathBeginning = (previousRouteDirectionAngle === undefined);\n\n        // directions\n        var direction, directionChange;\n        var directions = opt.directions;\n        getGridOffsets(directions, grid, opt);\n\n        var numDirections = directions.length;\n\n        var endPointsKeys = util.toArray(endPoints).reduce(function(res, endPoint) {\n            // endPoint is assumed to be aligned already\n\n            var key = getKey(endPoint);\n            res.push(key);\n            return res;\n        }, []);\n\n        // main route finding loop\n        var loopsRemaining = opt.maximumLoops;\n        while (!openSet.isEmpty() && loopsRemaining > 0) {\n\n            // remove current from the open list\n            var currentKey = openSet.pop();\n            var currentPoint = points[currentKey];\n            var currentParent = parents[currentKey];\n            var currentCost = costs[currentKey];\n\n            var isRouteBeginning = (currentParent === undefined); // undefined for route starts\n            var isStart = currentPoint.equals(start); // (is source anchor or `from` point) = can leave in any direction\n\n            var previousDirectionAngle;\n            if (!isRouteBeginning) previousDirectionAngle = getDirectionAngle(currentParent, currentPoint, numDirections, grid, opt); // a vertex on the route\n            else if (!isPathBeginning) previousDirectionAngle = previousRouteDirectionAngle; // beginning of route on the path\n            else if (!isStart) previousDirectionAngle = getDirectionAngle(start, currentPoint, numDirections, grid, opt); // beginning of path, start rect point\n            else previousDirectionAngle = null; // beginning of path, source anchor or `from` point\n\n            // check if we reached any endpoint\n            var samePoints = startPoints.length === endPoints.length;\n            if (samePoints) {\n                for (var j = 0; j < startPoints.length; j++) {\n                    if (!startPoints[j].equals(endPoints[j])) {\n                        samePoints = false;\n                        break;\n                    }\n                }\n            }\n            var skipEndCheck = (isRouteBeginning && samePoints);\n            if (!skipEndCheck && (endPointsKeys.indexOf(currentKey) >= 0)) {\n                opt.previousDirectionAngle = previousDirectionAngle;\n                return reconstructRoute(parents, points, currentPoint, start, end, grid, opt);\n            }\n\n            // go over all possible directions and find neighbors\n            for (i = 0; i < numDirections; i++) {\n                direction = directions[i];\n\n                var directionAngle = direction.angle;\n                directionChange = getDirectionChange(previousDirectionAngle, directionAngle);\n\n                // if the direction changed rapidly, don't use this point\n                // any direction is allowed for starting points\n                if (!(isPathBeginning && isStart) && directionChange > opt.maxAllowedDirectionChange) continue;\n\n                var neighborPoint = align(currentPoint.clone().offset(direction.gridOffsetX, direction.gridOffsetY), grid, precision);\n                var neighborKey = getKey(neighborPoint);\n\n                // Closed points from the openSet were already evaluated.\n                if (openSet.isClose(neighborKey) || isPointObstacle(neighborPoint)) continue;\n\n                // We can only enter end points at an acceptable angle.\n                if (endPointsKeys.indexOf(neighborKey) >= 0) { // neighbor is an end point\n\n                    var isNeighborEnd = neighborPoint.equals(end); // (is target anchor or `to` point) = can be entered in any direction\n\n                    if (!isNeighborEnd) {\n                        var endDirectionAngle = getDirectionAngle(neighborPoint, end, numDirections, grid, opt);\n                        var endDirectionChange = getDirectionChange(directionAngle, endDirectionAngle);\n\n                        if (endDirectionChange > opt.maxAllowedDirectionChange) continue;\n                    }\n                }\n\n                // The current direction is ok.\n\n                var neighborCost = direction.cost;\n                var neighborPenalty = isStart ? 0 : opt.penalties[directionChange]; // no penalties for start point\n                var costFromStart = currentCost + neighborCost + neighborPenalty;\n\n                if (!openSet.isOpen(neighborKey) || (costFromStart < costs[neighborKey])) {\n                    // neighbor point has not been processed yet\n                    // or the cost of the path from start is lower than previously calculated\n\n                    points[neighborKey] = neighborPoint;\n                    parents[neighborKey] = currentPoint;\n                    costs[neighborKey] = costFromStart;\n                    openSet.add(neighborKey, costFromStart + estimateCost(neighborPoint, endPoints));\n                }\n            }\n\n            loopsRemaining--;\n        }\n    }\n\n    // no route found (`to` point either wasn't accessible or finding route took\n    // way too much calculation)\n    return opt.fallbackRoute.call(this, start, end, opt);\n}\n\n// resolve some of the options\nfunction resolveOptions(opt) {\n\n    opt.directions = util.result(opt, 'directions');\n    opt.penalties = util.result(opt, 'penalties');\n    opt.paddingBox = util.result(opt, 'paddingBox');\n    opt.padding = util.result(opt, 'padding');\n\n    if (opt.padding) {\n        // if both provided, opt.padding wins over opt.paddingBox\n        var sides = util.normalizeSides(opt.padding);\n        opt.paddingBox = {\n            x: -sides.left,\n            y: -sides.top,\n            width: sides.left + sides.right,\n            height: sides.top + sides.bottom\n        };\n    }\n\n    util.toArray(opt.directions).forEach(function(direction) {\n\n        var point1 = new g.Point(0, 0);\n        var point2 = new g.Point(direction.offsetX, direction.offsetY);\n\n        direction.angle = g.normalizeAngle(point1.theta(point2));\n    });\n}\n\n// initialization of the route finding\nfunction router(vertices, opt, linkView) {\n\n    resolveOptions(opt);\n\n    // enable/disable linkView perpendicular option\n    linkView.options.perpendicular = !!opt.perpendicular;\n\n    var sourceBBox = getSourceBBox(linkView, opt);\n    var targetBBox = getTargetBBox(linkView, opt);\n\n    var sourceAnchor = getSourceAnchor(linkView, opt);\n    //var targetAnchor = getTargetAnchor(linkView, opt);\n\n    // pathfinding\n    let isPointObstacle;\n    if (typeof opt.isPointObstacle === 'function') {\n        isPointObstacle = opt.isPointObstacle;\n    } else {\n        const map = new ObstacleMap(opt);\n        map.build(linkView.paper.model, linkView.model);\n        isPointObstacle = (point) => !map.isPointAccessible(point);\n    }\n\n    var oldVertices = util.toArray(vertices).map(g.Point);\n    var newVertices = [];\n    var tailPoint = sourceAnchor; // the origin of first route's grid, does not need snapping\n\n    // find a route by concatenating all partial routes (routes need to pass through vertices)\n    // source -> vertex[1] -> ... -> vertex[n] -> target\n    var to, from;\n\n    for (var i = 0, len = oldVertices.length; i <= len; i++) {\n\n        var partialRoute = null;\n\n        from = to || sourceBBox;\n        to = oldVertices[i];\n\n        if (!to) {\n            // this is the last iteration\n            // we ran through all vertices in oldVertices\n            // 'to' is not a vertex.\n\n            to = targetBBox;\n\n            // If the target is a point (i.e. it's not an element), we\n            // should use dragging route instead of main routing method if it has been provided.\n            var isEndingAtPoint = !linkView.model.get('source').id || !linkView.model.get('target').id;\n\n            if (isEndingAtPoint && util.isFunction(opt.draggingRoute)) {\n                // Make sure we are passing points only (not rects).\n                var dragFrom = (from === sourceBBox) ? sourceAnchor : from;\n                var dragTo = to.origin();\n\n                partialRoute = opt.draggingRoute.call(linkView, dragFrom, dragTo, opt);\n            }\n        }\n\n        // if partial route has not been calculated yet use the main routing method to find one\n        partialRoute = partialRoute || findRoute.call(linkView, from, to, isPointObstacle, opt);\n\n        if (partialRoute === null) { // the partial route cannot be found\n            return opt.fallbackRouter(vertices, opt, linkView);\n        }\n\n        var leadPoint = partialRoute[0];\n\n        // remove the first point if the previous partial route had the same point as last\n        if (leadPoint && leadPoint.equals(tailPoint)) partialRoute.shift();\n\n        // save tailPoint for next iteration\n        tailPoint = partialRoute[partialRoute.length - 1] || tailPoint;\n\n        Array.prototype.push.apply(newVertices, partialRoute);\n    }\n\n    return newVertices;\n}\n\n// public function\nexport const manhattan = function(vertices, opt, linkView) {\n    return router(vertices, util.assign({}, config, opt), linkView);\n};\n", "import { manhattan } from './manhattan.mjs';\nimport * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\nvar config = {\n\n    maxAllowedDirectionChange: 45,\n\n    // cost of a diagonal step\n    diagonalCost: function() {\n\n        var step = this.step;\n        return Math.ceil(Math.sqrt(step * step << 1));\n    },\n\n    // an array of directions to find next points on the route\n    // different from start/end directions\n    directions: function() {\n\n        var step = this.step;\n        var cost = this.cost();\n        var diagonalCost = this.diagonalCost();\n\n        return [\n            { offsetX: step, offsetY: 0, cost: cost },\n            { offsetX: step, offsetY: step, cost: diagonalCost },\n            { offsetX: 0, offsetY: step, cost: cost },\n            { offsetX: -step, offsetY: step, cost: diagonalCost },\n            { offsetX: -step, offsetY: 0, cost: cost },\n            { offsetX: -step, offsetY: -step, cost: diagonalCost },\n            { offsetX: 0, offsetY: -step, cost: cost },\n            { offsetX: step, offsetY: -step, cost: diagonalCost }\n        ];\n    },\n\n    // a simple route used in situations when main routing method fails\n    // (exceed max number of loop iterations, inaccessible)\n    fallbackRoute: function(from, to, opt) {\n\n        // Find a route which breaks by 45 degrees ignoring all obstacles.\n\n        var theta = from.theta(to);\n\n        var route = [];\n\n        var a = { x: to.x, y: from.y };\n        var b = { x: from.x, y: to.y };\n\n        if (theta % 180 > 90) {\n            var t = a;\n            a = b;\n            b = t;\n        }\n\n        var p1 = (theta % 90) < 45 ? a : b;\n        var l1 = new g.Line(from, p1);\n\n        var alpha = 90 * Math.ceil(theta / 90);\n\n        var p2 = g.Point.fromPolar(l1.squaredLength(), g.toRad(alpha + 135), p1);\n        var l2 = new g.Line(to, p2);\n\n        var intersectionPoint = l1.intersection(l2);\n        var point = intersectionPoint ? intersectionPoint : to;\n\n        var directionFrom = intersectionPoint ? point : from;\n\n        var quadrant = 360 / opt.directions.length;\n        var angleTheta = directionFrom.theta(to);\n        var normalizedAngle = g.normalizeAngle(angleTheta + (quadrant / 2));\n        var directionAngle = quadrant * Math.floor(normalizedAngle / quadrant);\n\n        opt.previousDirectionAngle = directionAngle;\n\n        if (point) route.push(point.round());\n        route.push(to);\n\n        return route;\n    }\n};\n\n// public function\nexport const metro = function(vertices, opt, linkView) {\n\n    if (!util.isFunction(manhattan)) {\n        throw new Error('Metro requires the manhattan router.');\n    }\n\n    return manhattan(vertices, util.assign({}, config, opt), linkView);\n};\n\n", "import * as g from '../g/index.mjs';\n\nconst Directions = {\n    AUTO: 'auto',\n    LEFT: 'left',\n    RIGHT: 'right',\n    TOP: 'top',\n    BOTTOM: 'bottom',\n    ANCHOR_SIDE: 'anchor-side',\n    MAGNET_SIDE: 'magnet-side'\n};\n\nconst DEFINED_DIRECTIONS = [Directions.LEFT, Directions.RIGHT, Directions.TOP, Directions.BOTTOM];\n\nconst OPPOSITE_DIRECTIONS = {\n    [Directions.LEFT]: Directions.RIGHT,\n    [Directions.RIGHT]: Directions.LEFT,\n    [Directions.TOP]: Directions.BOTTOM,\n    [Directions.BOTTOM]: Directions.TOP\n};\n\nconst VERTICAL_DIRECTIONS = [Directions.TOP, Directions.BOTTOM];\n\nconst ANGLE_DIRECTION_MAP = {\n    0: Directions.RIGHT,\n    180: Directions.LEFT,\n    270: Directions.TOP,\n    90: Directions.BOTTOM\n};\n\nfunction getSegmentAngle(line) {\n    // TODO: the angle() method is general and therefore unnecessarily heavy for orthogonal links\n    return line.angle();\n}\n\nfunction simplifyPoints(points) {\n    // TODO: use own more efficient implementation (filter points that do not change direction).\n    // To simplify segments that are almost aligned (start and end points differ by e.g. 0.5px), use a threshold of 1.\n    return new g.Polyline(points).simplify({ threshold: 1 }).points;\n}\n\nfunction resolveSides(source, target) {\n    const { point: sourcePoint, x0: sx0, y0: sy0, view: sourceView, bbox: sourceBBox, direction: sourceDirection } = source;\n    const { point: targetPoint, x0: tx0, y0: ty0, view: targetView, bbox: targetBBox, direction: targetDirection } = target;\n\n    let sourceSide;\n\n    if (!sourceView) {\n        const sourceLinkAnchorBBox = new g.Rect(sx0, sy0, 0, 0);\n        sourceSide = DEFINED_DIRECTIONS.includes(sourceDirection) ? sourceDirection : sourceLinkAnchorBBox.sideNearestToPoint(targetPoint);\n    } else if (sourceView.model.isLink()) {\n        sourceSide = getDirectionForLinkConnection(targetPoint, sourcePoint, sourceView);\n    } else if (sourceDirection === Directions.ANCHOR_SIDE) {\n        sourceSide = sourceBBox.sideNearestToPoint(sourcePoint);\n    } else if (sourceDirection === Directions.MAGNET_SIDE) {\n        sourceSide = sourceView.model.getBBox().sideNearestToPoint(sourcePoint);\n    } else {\n        sourceSide = sourceDirection;\n    }\n\n    let targetSide;\n\n    if (!targetView) {\n        const targetLinkAnchorBBox = new g.Rect(tx0, ty0, 0, 0);\n        targetSide = DEFINED_DIRECTIONS.includes(targetDirection) ? targetDirection : targetLinkAnchorBBox.sideNearestToPoint(sourcePoint);\n    } else if (targetView.model.isLink()) {\n        targetSide = getDirectionForLinkConnection(sourcePoint, targetPoint, targetView);\n    } else if (targetDirection === Directions.ANCHOR_SIDE) {\n        targetSide = targetBBox.sideNearestToPoint(targetPoint);\n    } else if (targetDirection === Directions.MAGNET_SIDE) {\n        targetSide = targetView.model.getBBox().sideNearestToPoint(targetPoint);\n    } else {\n        targetSide = targetDirection;\n    }\n\n    return [sourceSide, targetSide];\n}\n\nfunction resolveForTopSourceSide(source, target, nextInLine) {\n    const { x0: sx0, y0: sy0, width, height, point: anchor, margin } = source;\n    const sx1 = sx0 + width;\n    const sy1 = sy0 + height;\n    const smx0 = sx0 - margin;\n    const smx1 = sx1 + margin;\n    const smy0 = sy0 - margin;\n\n    const { x: ax } = anchor;\n    const { x0: tx, y0: ty } = target;\n\n    if (tx === ax && ty < sy0) return Directions.BOTTOM;\n    if (tx < ax && ty < smy0) return Directions.RIGHT;\n    if (tx > ax && ty < smy0) return Directions.LEFT;\n    if (tx < smx0 && ty >= sy0) return Directions.TOP;\n    if (tx > smx1 && ty >= sy0) return Directions.TOP;\n    if (tx >= smx0 && tx <= ax && ty > sy1) {\n        if (nextInLine.point.x < tx) {\n            return Directions.RIGHT;\n        }\n\n        return Directions.LEFT;\n    }\n    if (tx <= smx1 && tx >= ax && ty > sy1) {\n        if (nextInLine.point.x < tx) {\n            return Directions.RIGHT;\n        }\n\n        return Directions.LEFT;\n    }\n\n    return Directions.TOP;\n}\n\nfunction resolveForBottomSourceSide(source, target, nextInLine) {\n    const { x0: sx0, y0: sy0, width, height, point: anchor, margin } = source;\n    const sx1 = sx0 + width;\n    const sy1 = sy0 + height;\n    const smx0 = sx0 - margin;\n    const smx1 = sx1 + margin;\n    const smy1 = sy1 + margin;\n\n    const { x: ax } = anchor;\n    const { x0: tx, y0: ty } = target;\n\n    if (tx === ax && ty > sy1) return Directions.TOP;\n    if (tx < ax && ty > smy1) return Directions.RIGHT;\n    if (tx > ax && ty > smy1) return Directions.LEFT;\n    if (tx < smx0 && ty <= sy1) return Directions.BOTTOM;\n    if (tx > smx1 && ty <= sy1) return Directions.BOTTOM;\n    if (tx >= smx0 && tx <= ax && ty < sy0) {\n        if (nextInLine.point.x < tx) {\n            return Directions.RIGHT;\n        }\n\n        return Directions.LEFT;\n    }\n    if (tx <= smx1 && tx >= ax && ty < sy0) {\n        if (nextInLine.point.x < tx) {\n            return Directions.RIGHT;\n        }\n\n        return Directions.LEFT;\n    }\n\n    return Directions.BOTTOM;\n}\n\nfunction resolveForLeftSourceSide(source, target, nextInLine) {\n    const { y0: sy0, x0: sx0, width, height, point: anchor, margin } = source;\n    const sx1 = sx0 + width;\n    const sy1 = sy0 + height;\n    const smx0 = sx0 - margin;\n    const smy0 = sy0 - margin;\n    const smy1 = sy1 + margin;\n\n    const { x: ax, y: ay } = anchor;\n    const { x0: tx, y0: ty } = target;\n\n    if (tx < ax && ty === ay) return Directions.RIGHT;\n    if (tx <= smx0 && ty < ay) return Directions.BOTTOM;\n    if (tx <= smx0 && ty > ay) return Directions.TOP;\n    if (tx >= sx0 && ty <= smy0) return Directions.LEFT;\n    if (tx >= sx0 && ty >= smy1) return Directions.LEFT;\n    if (tx > sx1 && ty >= smy0 && ty <= ay) {\n        if (nextInLine.point.y < ty) {\n            return Directions.BOTTOM;\n        }\n\n        return Directions.TOP;\n    }\n    if (tx > sx1 && ty <= smy1 && ty >= ay) {\n        if (nextInLine.point.y < ty) {\n            return Directions.BOTTOM;\n        }\n\n        return Directions.TOP;\n    }\n\n    return Directions.LEFT;\n}\n\nfunction resolveForRightSourceSide(source, target, nextInLine) {\n    const { y0: sy0, x0: sx0, width, height, point: anchor, margin } = source;\n    const sx1 = sx0 + width;\n    const sy1 = sy0 + height;\n    const smx1 = sx1 + margin;\n    const smy0 = sy0 - margin;\n    const smy1 = sy1 + margin;\n\n    const { x: ax, y: ay } = anchor;\n    const { x0: tx, y0: ty } = target;\n\n    if (tx > ax && ty === ay) return Directions.LEFT;\n    if (tx >= smx1 && ty < ay) return Directions.BOTTOM;\n    if (tx >= smx1 && ty > ay) return Directions.TOP;\n    if (tx <= sx1 && ty <= smy0) return Directions.RIGHT;\n    if (tx <= sx1 && ty >= smy1) return Directions.RIGHT;\n    if (tx < sx0 && ty >= smy0 && ty <= ay) {\n        if (nextInLine.point.y < ty) {\n            return Directions.BOTTOM;\n        }\n\n        return Directions.TOP;\n    }\n    if (tx < sx0 && ty <= smy1 && ty >= ay) {\n        if (nextInLine.point.y < ty) {\n            return Directions.BOTTOM;\n        }\n\n        return Directions.TOP;\n    }\n\n    return Directions.RIGHT;\n}\n\nfunction resolveInitialDirection(source, target, nextInLine) {\n    const [sourceSide] = resolveSides(source, target);\n\n    switch (sourceSide) {\n        case Directions.TOP:\n            return resolveForTopSourceSide(source, target, nextInLine);\n        case Directions.RIGHT:\n            return resolveForRightSourceSide(source, target, nextInLine);\n        case Directions.BOTTOM:\n            return resolveForBottomSourceSide(source, target, nextInLine);\n        case Directions.LEFT:\n            return resolveForLeftSourceSide(source, target, nextInLine);\n    }\n}\n\nfunction getDirectionForLinkConnection(linkOrigin, connectionPoint, linkView) {\n    const tangent = linkView.getTangentAtLength(linkView.getClosestPointLength(connectionPoint));\n    const roundedAngle = Math.round(getSegmentAngle(tangent) / 90) * 90;\n\n    if (roundedAngle % 180 === 0 && linkOrigin.y === connectionPoint.y) {\n        return linkOrigin.x < connectionPoint.x ? Directions.LEFT : Directions.RIGHT;\n    } else if (linkOrigin.x === connectionPoint.x) {\n        return linkOrigin.y < connectionPoint.y ? Directions.TOP : Directions.BOTTOM;\n    }\n\n    switch (roundedAngle) {\n        case 0:\n        case 180:\n        case 360:\n            return linkOrigin.y < connectionPoint.y ? Directions.TOP : Directions.BOTTOM;\n        case 90:\n        case 270:\n            return linkOrigin.x < connectionPoint.x ? Directions.LEFT : Directions.RIGHT;\n    }\n}\n\nfunction pointDataFromAnchor(view, point, bbox, direction, isPort, fallBackAnchor, margin) {\n    if (direction === Directions.AUTO) {\n        direction = isPort ? Directions.MAGNET_SIDE : Directions.ANCHOR_SIDE;\n    }\n\n    const isElement = view && view.model.isElement();\n\n    const {\n        x: x0,\n        y: y0,\n        width = 0,\n        height = 0\n    } = isElement ? g.Rect.fromRectUnion(bbox, view.model.getBBox()) : fallBackAnchor;\n\n    return {\n        point,\n        x0,\n        y0,\n        view,\n        bbox,\n        width,\n        height,\n        direction,\n        margin: isElement ? margin : 0\n    };\n}\n\nfunction pointDataFromVertex({ x, y }) {\n    const point = new g.Point(x, y);\n\n    return {\n        point,\n        x0: point.x,\n        y0: point.y,\n        view: null,\n        bbox: new g.Rect(x, y, 0, 0),\n        width: 0,\n        height: 0,\n        direction: null,\n        margin: 0\n    };\n}\n\nfunction getOutsidePoint(side, pointData, margin) {\n    const outsidePoint = pointData.point.clone();\n\n    const { x0, y0, width, height } = pointData;\n\n    switch (side) {\n        case 'left':\n            outsidePoint.x = x0 - margin;\n            break;\n        case 'right':\n            outsidePoint.x = x0 + width + margin;\n            break;\n        case 'top':\n            outsidePoint.y = y0 - margin;\n            break;\n        case 'bottom':\n            outsidePoint.y = y0 + height + margin;\n            break;\n    }\n\n    return outsidePoint;\n}\n\nfunction routeBetweenPoints(source, target) {\n    const { point: sourcePoint, x0: sx0, y0: sy0, view: sourceView, width: sourceWidth, height: sourceHeight, margin: sourceMargin } = source;\n    const { point: targetPoint, x0: tx0, y0: ty0, width: targetWidth, height: targetHeight, margin: targetMargin } = target;\n\n    const tx1 = tx0 + targetWidth;\n    const ty1 = ty0 + targetHeight;\n    const sx1 = sx0 + sourceWidth;\n    const sy1 = sy0 + sourceHeight;\n\n    const isSourceEl = sourceView && sourceView.model.isElement();\n\n    // Key coordinates including the margin\n    const smx0 = sx0 - sourceMargin;\n    const smx1 = sx1 + sourceMargin;\n    const smy0 = sy0 - sourceMargin;\n    const smy1 = sy1 + sourceMargin;\n\n    const tmx0 = tx0 - targetMargin;\n    const tmx1 = tx1 + targetMargin;\n    const tmy0 = ty0 - targetMargin;\n    const tmy1 = ty1 + targetMargin;\n\n    const [sourceSide, targetSide] = resolveSides(source, target);\n\n    const sourceOutsidePoint = getOutsidePoint(sourceSide, { point: sourcePoint, x0: sx0, y0: sy0, width: sourceWidth, height: sourceHeight }, sourceMargin);\n    const targetOutsidePoint = getOutsidePoint(targetSide, { point: targetPoint, x0: tx0, y0: ty0, width: targetWidth, height: targetHeight }, targetMargin);\n\n    const { x: sox, y: soy } = sourceOutsidePoint;\n    const { x: tox, y: toy } = targetOutsidePoint;\n    const tcx = (tx0 + tx1) / 2;\n    const tcy = (ty0 + ty1) / 2;\n    const scx = (sx0 + sx1) / 2;\n    const scy = (sy0 + sy1) / 2;\n    const middleOfVerticalSides = (scx < tcx ? (sx1 + tx0) : (tx1 + sx0)) / 2;\n    const middleOfHorizontalSides = (scy < tcy ? (sy1 + ty0) : (ty1 + sy0)) / 2;\n\n    if (sourceSide === 'left' && targetSide === 'right') {\n        if (smx0 <= tmx1) {\n            let y = middleOfHorizontalSides;\n            if (sx1 <= tx0) {\n                if (ty1 >= smy0 && toy < soy) {\n                    y = Math.min(tmy0, smy0);\n                } else if (ty0 <= smy1 && toy >= soy) {\n                    y = Math.max(tmy1, smy1);\n                }\n            }\n            return [\n                { x: sox, y: soy },\n                { x: sox, y },\n                { x: tox, y },\n                { x: tox, y: toy }\n            ];\n        }\n\n        const x = (sox + tox) / 2;\n        return [\n            { x, y: soy },\n            { x, y: toy }\n        ];\n    } else if (sourceSide === 'right' && targetSide === 'left') {\n        if (smx1 >= tmx0) {\n            let y = middleOfHorizontalSides;\n            if (sox > tx1) {\n                if (ty1 >= smy0 && toy < soy) {\n                    y = Math.min(tmy0, smy0);\n                } else if (ty0 <= smy1 && toy >= soy) {\n                    y = Math.max(tmy1, smy1);\n                }\n            }\n\n            return [\n                { x: sox, y: soy },\n                { x: sox, y },\n                { x: tox, y },\n                { x: tox, y: toy }\n            ];\n        }\n\n        const x = (sox + tox) / 2;\n        return [\n            { x, y: soy },\n            { x, y: toy }\n        ];\n    } else if (sourceSide === 'top' && targetSide === 'bottom') {\n        if (soy < toy) {\n            let x = middleOfVerticalSides;\n            let y = soy;\n\n            if (soy < ty0) {\n                if (tx1 >= smx0 && tox < sox) {\n                    x = Math.min(tmx0, smx0);\n                } else if (tx0 <= smx1 && tox >= sox) {\n                    x = Math.max(tmx1, smx1);\n                }\n            }\n\n            return [\n                { x: sox, y },\n                { x, y },\n                { x, y: toy },\n                { x: tox, y: toy }\n            ];\n        }\n        const y = (soy + toy) / 2;\n        return [\n            { x: sox, y },\n            { x: tox, y }\n        ];\n    } else if (sourceSide === 'bottom' && targetSide === 'top') {\n        if (soy - sourceMargin > toy) {\n            let x = middleOfVerticalSides;\n            let y = soy;\n\n            if (soy > ty1) {\n                if (tx1 >= smx0 && tox < sox) {\n                    x = Math.min(tmx0, smx0);\n                } else if (tx0 <= smx1 && tox >= sox) {\n                    x = Math.max(tmx1, smx1);\n                }\n            }\n\n            return [\n                { x: sox, y },\n                { x, y },\n                { x, y: toy },\n                { x: tox, y: toy }\n            ];\n        }\n        const y = (soy + toy) / 2;\n        return [\n            { x: sox, y },\n            { x: tox, y }\n        ];\n    } else if (sourceSide === 'top' && targetSide === 'top') {\n        let x;\n        let y1 = Math.min((sy1 + ty0) / 2, toy);\n        let y2 = Math.min((sy0 + ty1) / 2, soy);\n\n        if (toy < soy) {\n            if (sox >= tmx1 || sox <= tmx0) {\n                return [\n                    { x: sox, y: Math.min(soy, toy) },\n                    { x: tox, y: Math.min(soy, toy) }\n                ];\n            } else if (tox > sox) {\n                x = Math.min(sox, tmx0);\n            } else {\n                x = Math.max(sox, tmx1);\n            }\n        } else {\n            if (tox >= smx1 || tox <= smx0) {\n                return [\n                    { x: sox, y: Math.min(soy, toy) },\n                    { x: tox, y: Math.min(soy, toy) }\n                ];\n            } else if (tox >= sox) {\n                x = Math.max(tox, smx1);\n            } else {\n                x = Math.min(tox, smx0);\n            }\n        }\n\n        return [\n            { x: sox, y: y2 },\n            { x, y: y2 },\n            { x, y: y1 },\n            { x: tox, y: y1 }\n        ];\n    } else if (sourceSide === 'bottom' && targetSide === 'bottom') {\n        let x;\n        let y1 = Math.max((sy0 + ty1) / 2, toy);\n        let y2 = Math.max((sy1 + ty0) / 2, soy);\n\n        if (toy > soy) {\n            if (sox >= tmx1 || sox <= tmx0) {\n                return [\n                    { x: sox, y: Math.max(soy, toy) },\n                    { x: tox, y: Math.max(soy, toy) }\n                ];\n            } else if (tox > sox) {\n                x = Math.min(sox, tmx0);\n            } else {\n                x = Math.max(sox, tmx1);\n            }\n        } else {\n            if (tox >= smx1 || tox <= smx0) {\n                return [\n                    { x: sox, y: Math.max(soy, toy) },\n                    { x: tox, y: Math.max(soy, toy) }\n                ];\n            } else if (tox >= sox) {\n                x = Math.max(tox, smx1);\n            } else {\n                x = Math.min(tox, smx0);\n            }\n        }\n\n        return [\n            { x: sox, y: y2 },\n            { x, y: y2 },\n            { x, y: y1 },\n            { x: tox, y: y1 }\n        ];\n    } else if (sourceSide === 'left' && targetSide === 'left') {\n        let y;\n        let x1 = Math.min((sx1 + tx0) / 2, tox);\n        let x2 = Math.min((sx0 + tx1) / 2, sox);\n\n        if (tox > sox) {\n            if (toy <= soy) {\n                y = Math.min(smy0, toy);\n            } else {\n                y = Math.max(smy1, toy);\n            }\n        } else {\n            if (toy >= soy) {\n                y = Math.min(tmy0, soy);\n            } else {\n                y = Math.max(tmy1, soy);\n            }\n        }\n\n        return [\n            { x: x2, y: soy },\n            { x: x2, y },\n            { x: x1, y },\n            { x: x1, y: toy }\n        ];\n    } else if (sourceSide === 'right' && targetSide === 'right') {\n        let y;\n        let x1 = Math.max((sx0 + tx1) / 2, tox);\n        let x2 = Math.max((sx1 + tx0) / 2, sox);\n\n        if (tox < sox) {\n            if (toy <= soy) {\n                y = Math.min(smy0, toy);\n            } else {\n                y = Math.max(smy1, toy);\n            }\n        } else {\n            if (toy >= soy) {\n                y = Math.min(tmy0, soy);\n            } else {\n                y = Math.max(tmy1, soy);\n            }\n        }\n\n        return [\n            { x: x2, y: soy },\n            { x: x2, y },\n            { x: x1, y },\n            { x: x1, y: toy }\n        ];\n    } else if (sourceSide === 'top' && targetSide === 'right') {\n        if (soy > toy) {\n            if (sox < tox) {\n                let y = middleOfHorizontalSides;\n\n                if ((y > tcy || !isSourceEl) && y < tmy1 && sox < tx0) {\n                    y = tmy0;\n                }\n                return [\n                    { x: sox, y },\n                    { x: tox, y },\n                    { x: tox, y: toy }\n                ];\n            }\n\n            return [{ x: sox, y: toy }];\n        }\n\n        const x = Math.max(middleOfVerticalSides, tmx1);\n\n        if (tox < sox && toy > sy0 && toy < sy1) {\n            return [\n                { x: sox, y: soy },\n                { x: x, y: soy },\n                { x: x, y: toy }\n            ];\n        }\n\n        if ((x > smx0 && toy > sy0) || tx0 > sx1) {\n            const y = Math.min(sy0 - sourceMargin, ty0 - targetMargin);\n            const x = Math.max(sx1 + sourceMargin, tx1 + targetMargin);\n            return [\n                { x: sox, y },\n                { x, y },\n                { x, y: toy }\n            ];\n        }\n\n        return [\n            { x: sox, y: soy },\n            { x: Math.max(x, tox), y: soy },\n            { x: Math.max(x, tox), y: toy }\n        ];\n    } else if (sourceSide === 'top' && targetSide === 'left') {\n        if (soy > toy) {\n            if (sox > tox) {\n                let y = middleOfHorizontalSides;\n\n                if ((y > tcy || !isSourceEl) && y < tmy1 && sox > tx1) {\n                    y = tmy0;\n                }\n                return [\n                    { x: sox, y },\n                    { x: tox, y },\n                    { x: tox, y: toy }\n                ];\n            }\n            return [{ x: sox, y: toy }];\n        }\n\n        const x = Math.min(tmx0, middleOfVerticalSides);\n\n        if (sox < tox && sy1 >= toy) {\n            return [\n                { x: sox, y: soy },\n                { x, y: soy },\n                { x, y: toy }];\n        }\n\n        if (x < smx1 && soy < ty1) {\n            const y = Math.min(smy0, tmy0);\n            const x = Math.min(smx0, tmx0);\n            return [\n                { x: sox, y },\n                { x, y },\n                { x, y: toy }\n            ];\n        }\n        return [\n            { x: sox, y: soy },\n            { x, y: soy },\n            { x, y: toy }\n        ];\n    } else if (sourceSide === 'bottom' && targetSide === 'right') {\n        if (soy < toy) {\n            if (sox < tox) {\n                let y = middleOfHorizontalSides;\n\n                if ((y < tcy || !isSourceEl) && y > tmy0 && sox < tx0) {\n                    y = tmy1;\n                }\n                return [\n                    { x: sox, y },\n                    { x: tox, y },\n                    { x: tox, y: toy }\n                ];\n            }\n            return [{ x: sox, y: toy }];\n        } else {\n            if (sx0 < tox) {\n                const y = Math.max(smy1, tmy1);\n                const x = Math.max(smx1, tmx1);\n                return [\n                    { x: sox, y },\n                    { x, y },\n                    { x, y: toy }\n                ];\n            }\n        }\n\n        const x = middleOfVerticalSides;\n\n        return [\n            { x: sox, y: soy },\n            { x, y: soy },\n            { x, y: toy }\n        ];\n    } else if (sourceSide === 'bottom' && targetSide === 'left') {\n        if (soy < toy) {\n            if (sox > tox) {\n                let y = middleOfHorizontalSides;\n\n                if ((y < tcy || !isSourceEl) && y > tmy0 && sox > tx1) {\n                    y = tmy1;\n                }\n                return [\n                    { x: sox, y },\n                    { x: tox, y },\n                    { x: tox, y: toy }\n                ];\n            }\n            return [{ x: sox, y: toy }];\n        } else {\n            if (sx1 > tox) {\n                const y = Math.max(smy1, tmy1);\n                const x = Math.min(smx0, tmx0);\n                return [\n                    { x: sox, y },\n                    { x, y },\n                    { x, y: toy }\n                ];\n            }\n        }\n\n        const x = middleOfVerticalSides;\n\n        return [\n            { x: sox, y: soy },\n            { x, y: soy },\n            { x, y: toy }\n        ];\n    }\n    else if (sourceSide === 'left' && targetSide === 'bottom') {\n        if (sox >= tox && soy >= tmy1) {\n            return [{ x: tox, y: soy }];\n        }\n\n        if (sox >= tx1 && soy < toy) {\n            const x = middleOfVerticalSides;\n\n            return [\n                { x, y: soy },\n                { x, y: toy },\n                { x: tox, y: toy }\n            ];\n        }\n\n        if (tox < sx1 && ty1 <= sy0) {\n            const y = middleOfHorizontalSides;\n\n            return [\n                { x: sox, y: soy },\n                { x: sox, y },\n                { x: tox, y }\n            ];\n        }\n\n        const x = Math.min(tmx0, sox);\n        const y = Math.max(smy1, tmy1);\n\n        return [\n            { x, y: soy },\n            { x, y },\n            { x: tox, y }\n        ];\n    } else if (sourceSide === 'left' && targetSide === 'top') {\n        if (sox > tox && soy < tmy0) {\n            return [{ x: tox, y: soy }];\n        }\n\n        if (sox >= tx1) {\n            if (soy > toy) {\n                const x = middleOfVerticalSides;\n\n                return [\n                    { x, y: soy },\n                    { x, y: toy },\n                    { x: tox, y: toy }\n                ];\n            }\n        }\n\n        if (tox <= sx1 && toy > soy) {\n            const y = middleOfHorizontalSides;\n\n            return [\n                { x: sox, y: soy },\n                { x: sox, y },\n                { x: tox, y },\n            ];\n        }\n\n        const x = toy < soy ? Math.min(smx0, tmx0) : smx0;\n        const y = Math.min(smy0, tmy0);\n\n        return [\n            { x, y: soy },\n            { x, y },\n            { x: tox, y }\n        ];\n\n    } else if (sourceSide === 'right' && targetSide === 'top') {\n        if (sox <= tox && soy < tmy0) {\n            return [{ x: tox, y: soy }];\n        }\n\n        if (sx1 < tx0 && soy > toy) {\n            let x = middleOfVerticalSides;\n\n            return [\n                { x, y: soy },\n                { x, y: toy },\n                { x: tox, y: toy }\n            ];\n        }\n\n        if (tox < sox && ty0 > sy1) {\n            const y = middleOfHorizontalSides;\n\n            return [\n                { x: sox, y: soy },\n                { x: sox, y },\n                { x: tox, y }\n            ];\n        }\n\n        const x = Math.max(smx1, tmx1);\n        const y = Math.min(smy0, tmy0);\n\n        return [\n            { x, y: soy },\n            { x, y },\n            { x: tox, y }\n        ];\n    } else if (sourceSide === 'right' && targetSide === 'bottom') {\n        if (sox <= tox && soy >= tmy1) {\n            return [{ x: tox, y: soy }];\n        }\n\n        if (sox <= tmx0 && soy < toy) {\n            const x = middleOfVerticalSides;\n\n            return [\n                { x, y: soy },\n                { x, y: toy },\n                { x: tox, y: toy }\n            ];\n        }\n\n        if (tox > sx0 && ty1 < sy0) {\n            const y = middleOfHorizontalSides;\n\n            return [\n                { x: sox, y: soy },\n                { x: sox, y },\n                { x: tox, y }\n            ];\n        }\n\n        const x = Math.max(tmx1, sox);\n        const y = Math.max(smy1, tmy1);\n\n        return [\n            { x, y: soy },\n            { x, y },\n            { x: tox, y }\n        ];\n    }\n}\n\nfunction rightAngleRouter(vertices, opt, linkView) {\n    const { sourceDirection = Directions.AUTO, targetDirection = Directions.AUTO } = opt;\n    const margin = opt.margin || 20;\n    const useVertices = opt.useVertices || false;\n\n    const isSourcePort = !!linkView.model.source().port;\n    const sourcePoint = pointDataFromAnchor(linkView.sourceView, linkView.sourceAnchor, linkView.sourceBBox, sourceDirection, isSourcePort, linkView.sourceAnchor, margin);\n\n    const isTargetPort = !!linkView.model.target().port;\n    const targetPoint = pointDataFromAnchor(linkView.targetView, linkView.targetAnchor, linkView.targetBBox, targetDirection, isTargetPort, linkView.targetAnchor, margin);\n\n    let resultVertices = [];\n\n    if (!useVertices || vertices.length === 0) {\n        return simplifyPoints(routeBetweenPoints(sourcePoint, targetPoint));\n    }\n\n    const verticesData = vertices.map((v) => pointDataFromVertex(v));\n    const [firstVertex] = verticesData;\n\n    if (sourcePoint.view && sourcePoint.view.model.isElement() && sourcePoint.view.model.getBBox().inflate(margin).containsPoint(firstVertex.point)) {\n        const [fromDirection] = resolveSides(sourcePoint, firstVertex);\n        const toDirection = fromDirection;\n        const dummySource = pointDataFromVertex(sourcePoint.point);\n        // Points do not usually have margin. Here we create a point with a margin.\n        dummySource.margin = margin;\n        dummySource.direction = fromDirection;\n        firstVertex.direction = toDirection;\n\n        resultVertices.push(...routeBetweenPoints(dummySource, firstVertex), firstVertex.point);\n    } else {\n        // The first point responsible for the initial direction of the route\n        const next = verticesData[1] || targetPoint;\n        const direction = resolveInitialDirection(sourcePoint, firstVertex, next);\n        firstVertex.direction = direction;\n\n        resultVertices.push(...routeBetweenPoints(sourcePoint, firstVertex), firstVertex.point);\n    }\n\n    for (let i = 0; i < verticesData.length - 1; i++) {\n        const from = verticesData[i];\n        const to = verticesData[i + 1];\n\n        const segment = new g.Line(from.point, to.point);\n        const segmentAngle = getSegmentAngle(segment);\n        if (segmentAngle % 90 === 0) {\n            // Since the segment is horizontal or vertical, we can skip the routing and just connect them with a straight line\n            const toDirection = ANGLE_DIRECTION_MAP[segmentAngle];\n            const accessDirection = OPPOSITE_DIRECTIONS[toDirection];\n\n            if (toDirection !== from.direction) {\n                resultVertices.push(from.point, to.point);\n                to.direction = accessDirection;\n            } else {\n                const angle = g.normalizeAngle(segmentAngle - 90);\n\n                let dx = 0;\n                let dy = 0;\n\n                if (angle === 90) {\n                    dy = -margin;\n                } else if (angle === 180) {\n                    dx = -margin;\n                } else if (angle === 270) {\n                    dy = margin;\n                } else if (angle === 0) {\n                    dx = margin;\n                }\n\n                const p1 = { x: from.point.x + dx, y: from.point.y + dy };\n                const p2 = { x: to.point.x + dx, y: to.point.y + dy };\n\n                const segment2 = new g.Line(to.point, p2);\n                to.direction = ANGLE_DIRECTION_MAP[getSegmentAngle(segment2)];\n\n                // Constructing a loop\n                resultVertices.push(from.point, p1, p2, to.point);\n            }\n\n            continue;\n        }\n\n        const [fromDirection, toDirection] = resolveDirection(from, to);\n\n        from.direction = fromDirection;\n        to.direction = toDirection;\n\n        resultVertices.push(...routeBetweenPoints(from, to), to.point);\n    }\n\n    const lastVertex = verticesData[verticesData.length - 1];\n\n    if (targetPoint.view && targetPoint.view.model.isElement()) {\n        if (targetPoint.view.model.getBBox().inflate(margin).containsPoint(lastVertex.point)) {\n            const [fromDirection] = resolveDirection(lastVertex, targetPoint);\n            const dummyTarget = pointDataFromVertex(targetPoint.point);\n            const [, toDirection] = resolveSides(lastVertex, targetPoint);\n            // we are creating a point that has a margin\n            dummyTarget.margin = margin;\n            dummyTarget.direction = toDirection;\n            lastVertex.direction = fromDirection;\n\n            resultVertices.push(...routeBetweenPoints(lastVertex, dummyTarget));\n        } else {\n            // the last point of `simplified` array is the last defined vertex\n            // grab the penultimate point and construct a line segment from it to the last vertex\n            // this will ensure that the last segment continues in a straight line\n\n            const simplified = simplifyPoints(resultVertices);\n            const segment = new g.Line(simplified[simplified.length - 2], lastVertex.point);\n            const definedDirection = ANGLE_DIRECTION_MAP[Math.round(getSegmentAngle(segment))];\n            lastVertex.direction = definedDirection;\n\n            let lastSegmentRoute = routeBetweenPoints(lastVertex, targetPoint);\n            const [p1, p2] = simplifyPoints([...lastSegmentRoute, targetPoint.point]);\n\n            const lastSegment = new g.Line(p1, p2);\n            const roundedLastSegmentAngle = Math.round(getSegmentAngle(lastSegment));\n            const lastSegmentDirection = ANGLE_DIRECTION_MAP[roundedLastSegmentAngle];\n\n            if (lastSegmentDirection !== definedDirection && definedDirection === OPPOSITE_DIRECTIONS[lastSegmentDirection]) {\n                lastVertex.margin = margin;\n                lastSegmentRoute = routeBetweenPoints(lastVertex, targetPoint);\n            }\n\n            resultVertices.push(...lastSegmentRoute);\n        }\n    } else {\n        // since the target is only a point we can apply the same logic as if we connected two verticesData\n        const [vertexDirection] = resolveDirection(lastVertex, targetPoint);\n        lastVertex.direction = vertexDirection;\n\n        resultVertices.push(...routeBetweenPoints(lastVertex, targetPoint));\n    }\n\n    return simplifyPoints(resultVertices);\n}\n\nfunction resolveDirection(from, to) {\n    const accessDirection = from.direction;\n    const isDirectionVertical = VERTICAL_DIRECTIONS.includes(accessDirection);\n\n    let sourceDirection = from.direction;\n    let targetDirection = to.direction;\n\n    if (isDirectionVertical) {\n        const isToAbove = from.point.y > to.point.y;\n        const dx = to.point.x - from.point.x;\n\n        if (accessDirection === Directions.BOTTOM) {\n            // If isToAbove === false and we need figure out if to go left or right\n            sourceDirection = isToAbove ? OPPOSITE_DIRECTIONS[accessDirection] : dx >= 0 ? Directions.RIGHT : Directions.LEFT;\n\n            if (dx > 0) {\n                targetDirection = isToAbove ? Directions.LEFT : Directions.TOP;\n            } else if (dx < 0) {\n                targetDirection = isToAbove ? Directions.RIGHT : Directions.TOP;\n            }\n        } else {\n            // If isToAbove === true and we need figure out if to go left or right\n            sourceDirection = isToAbove ? dx >= 0 ? Directions.RIGHT : Directions.LEFT : OPPOSITE_DIRECTIONS[accessDirection];\n\n            if (dx > 0) {\n                targetDirection = isToAbove ? Directions.BOTTOM : Directions.LEFT;\n            } else if (dx < 0) {\n                targetDirection = isToAbove ? Directions.BOTTOM : Directions.RIGHT;\n            }\n        }\n    } else {\n        const isToLeft = from.point.x > to.point.x;\n        const dy = to.point.y - from.point.y;\n\n        if (accessDirection === Directions.RIGHT) {\n            sourceDirection = isToLeft ? OPPOSITE_DIRECTIONS[accessDirection] : dy >= 0 ? Directions.BOTTOM : Directions.TOP;\n\n            if (dy > 0) {\n                targetDirection = isToLeft ? Directions.TOP : Directions.LEFT;\n            } else if (dy < 0) {\n                targetDirection = isToLeft ? Directions.BOTTOM : Directions.LEFT;\n            }\n        } else {\n            sourceDirection = isToLeft ? dy >= 0 ? Directions.BOTTOM : Directions.TOP : OPPOSITE_DIRECTIONS[accessDirection];\n\n            if (dy > 0) {\n                targetDirection = isToLeft ? Directions.RIGHT : Directions.TOP;\n            } else if (dy < 0) {\n                targetDirection = isToLeft ? Directions.RIGHT : Directions.BOTTOM;\n            }\n        }\n    }\n\n    return [sourceDirection, targetDirection];\n}\n\nrightAngleRouter.Directions = Directions;\n\nexport const rightAngle = rightAngleRouter;\n", "export * from './straight.mjs';\nexport * from './jumpover.mjs';\nexport * from './normal.mjs';\nexport * from './rounded.mjs';\nexport * from './smooth.mjs';\nexport * from './curve.mjs';\n", "import * as g from '../g/index.mjs';\n\nconst CornerTypes = {\n    POINT: 'point',\n    CUBIC: 'cubic',\n    LINE: 'line',\n    GAP: 'gap'\n};\n\nconst DEFINED_CORNER_TYPES = Object.values(CornerTypes);\n\nconst CORNER_RADIUS = 10;\nconst PRECISION = 1;\n\nexport const straight = function(sourcePoint, targetPoint, routePoints = [], opt = {}) {\n\n    const {\n        cornerType = CornerTypes.POINT,\n        cornerRadius = CORNER_RADIUS,\n        cornerPreserveAspectRatio = false,\n        precision = PRECISION,\n        raw = false\n    } = opt;\n\n    if (DEFINED_CORNER_TYPES.indexOf(cornerType) === -1) {\n        // unknown `cornerType` provided => error\n        throw new Error('Invalid `cornerType` provided to `straight` connector.');\n    }\n\n    let path;\n\n    if ((cornerType === CornerTypes.POINT) || !cornerRadius) {\n        // default option => normal connector\n        // simply connect all points with straight lines\n        const points = [sourcePoint].concat(routePoints).concat([targetPoint]);\n        const polyline = new g.Polyline(points);\n        path = new g.Path(polyline);\n\n    } else {\n        // `cornerType` is not unknown and not 'point' (default) => must be one of other valid types\n        path = new g.Path();\n\n        // add initial gap segment = to source point\n        path.appendSegment(g.Path.createSegment('M', sourcePoint));\n\n        let nextDistance;\n        const routePointsLength = routePoints.length;\n        for (let i = 0; i < routePointsLength; i++) {\n\n            const curr = new g.Point(routePoints[i]);\n            const prev = (routePoints[i - 1] || sourcePoint);\n            const next = (routePoints[i + 1] || targetPoint);\n            const prevDistance = (nextDistance || (curr.distance(prev) / 2)); // try to re-use previously-computed `nextDistance`\n            nextDistance = (curr.distance(next) / 2);\n\n            let startMove, endMove;\n            if (!cornerPreserveAspectRatio) {\n                // `startMove` and `endMove` may be different\n                // (this happens when next or previous path point is closer than `2 * cornerRadius`)\n                startMove = -Math.min(cornerRadius, prevDistance);\n                endMove = -Math.min(cornerRadius, nextDistance);\n            } else {\n                // force `startMove` and `endMove` to be the same\n                startMove = endMove = -Math.min(cornerRadius, prevDistance, nextDistance);\n            }\n\n            // to find `cornerStart` and `cornerEnd`, the logic is as follows (using `cornerStart` as example):\n            // - find a point lying on the line `prev - startMove` such that...\n            // - ...the point lies `abs(startMove)` distance away from `curr`...\n            // - ...and its coordinates are rounded to whole numbers\n            const cornerStart = curr.clone().move(prev, startMove).round(precision);\n            const cornerEnd = curr.clone().move(next, endMove).round(precision);\n\n            // add in-between straight segment = from previous route point to corner start point\n            // (may have zero length)\n            path.appendSegment(g.Path.createSegment('L', cornerStart));\n\n            // add corner segment = from corner start point to corner end point\n            switch (cornerType) {\n                case CornerTypes.CUBIC: {\n                    // corner is rounded\n                    const _13 = (1 / 3);\n                    const _23 = (2 / 3);\n                    const control1 = new g.Point((_13 * cornerStart.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * cornerStart.y));\n                    const control2 = new g.Point((_13 * cornerEnd.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * cornerEnd.y));\n                    path.appendSegment(g.Path.createSegment('C', control1, control2, cornerEnd));\n                    break;\n                }\n                case CornerTypes.LINE: {\n                    // corner has bevel\n                    path.appendSegment(g.Path.createSegment('L', cornerEnd));\n                    break;\n                }\n                case CornerTypes.GAP: {\n                    // corner has empty space\n                    path.appendSegment(g.Path.createSegment('M', cornerEnd));\n                    break;\n                }\n                // default: no segment is created\n            }\n        }\n\n        // add final straight segment = from last corner end point to target point\n        // (= or from start point to end point, if there are no route points)\n        // (may have zero length)\n        path.appendSegment(g.Path.createSegment('L', targetPoint));\n    }\n\n    return ((raw) ? path : path.serialize());\n};\n", "import * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\n// default size of jump if not specified in options\nvar JUMP_SIZE = 5;\n\n// available jump types\n// first one taken as default\nvar JUMP_TYPES = ['arc', 'gap', 'cubic'];\n\n// default radius\nvar RADIUS = 0;\n\n// takes care of math. error for case when jump is too close to end of line\nvar CLOSE_PROXIMITY_PADDING = 1;\n\n// list of connector types not to jump over.\nvar IGNORED_CONNECTORS = ['smooth'];\n\n// internal constants for round segment\nvar _13 = 1 / 3;\nvar _23 = 2 / 3;\n\nfunction sortPointsAscending(p1, p2) {\n\n    let { x: x1, y: y1 } = p1;\n    let { x: x2, y: y2 } = p2;\n\n    if (x1 > x2) {\n\n        let swap = x1;\n        x1 = x2;\n        x2 = swap;\n\n        swap = y1;\n        y1 = y2;\n        y2 = swap;\n    }\n\n    if (y1 > y2) {\n        let swap = x1;\n        x1 = x2;\n        x2 = swap;\n\n        swap = y1;\n        y1 = y2;\n        y2 = swap;\n    }\n\n    return [new g.Point(x1, y1), new g.Point(x2, y2)];\n}\n\nfunction overlapExists(line1, line2) {\n\n    const [{ x: x1, y: y1 }, { x: x2, y: y2 }] = sortPointsAscending(line1.start, line1.end);\n    const [{ x: x3, y: y3 }, { x: x4, y: y4 }] = sortPointsAscending(line2.start, line2.end);\n\n    const xMatch = x1 <= x4 && x3 <= x2;\n    const yMatch = y1 <= y4 && y3 <= y2;\n\n    return xMatch && yMatch;\n}\n\n/**\n * Transform start/end and route into series of lines\n * @param {g.point} sourcePoint start point\n * @param {g.point} targetPoint end point\n * @param {g.point[]} route optional list of route\n * @return {g.line[]} [description]\n */\nfunction createLines(sourcePoint, targetPoint, route) {\n    // make a flattened array of all points\n    var points = [].concat(sourcePoint, route, targetPoint);\n    return points.reduce(function(resultLines, point, idx) {\n        // if there is a next point, make a line with it\n        var nextPoint = points[idx + 1];\n        if (nextPoint != null) {\n            resultLines[idx] = g.line(point, nextPoint);\n        }\n        return resultLines;\n    }, []);\n}\n\nfunction setupUpdating(jumpOverLinkView) {\n    var paper = jumpOverLinkView.paper;\n    var updateList = paper._jumpOverUpdateList;\n\n    // first time setup for this paper\n    if (updateList == null) {\n        updateList = paper._jumpOverUpdateList = [];\n        var graph = paper.model;\n        graph.on('batch:stop', function() {\n            if (this.hasActiveBatch()) return;\n            updateJumpOver(paper);\n        });\n        graph.on('reset', function() {\n            updateList = paper._jumpOverUpdateList = [];\n        });\n    }\n\n    // add this link to a list so it can be updated when some other link is updated\n    if (updateList.indexOf(jumpOverLinkView) < 0) {\n        updateList.push(jumpOverLinkView);\n\n        // watch for change of connector type or removal of link itself\n        // to remove the link from a list of jump over connectors\n        jumpOverLinkView.listenToOnce(jumpOverLinkView.model, 'change:connector remove', function() {\n            updateList.splice(updateList.indexOf(jumpOverLinkView), 1);\n        });\n    }\n}\n\n/**\n * Handler for a batch:stop event to force\n * update of all registered links with jump over connector\n * @param {object} batchEvent optional object with info about batch\n */\nfunction updateJumpOver(paper) {\n    var updateList = paper._jumpOverUpdateList;\n    for (var i = 0; i < updateList.length; i++) {\n        const linkView = updateList[i];\n        const updateFlag = linkView.getFlag(linkView.constructor.Flags.CONNECTOR);\n        linkView.requestUpdate(updateFlag);\n    }\n}\n\n/**\n * Utility function to collect all intersection points of a single\n * line against group of other lines.\n * @param {g.line} line where to find points\n * @param {g.line[]} crossCheckLines lines to cross\n * @return {g.point[]} list of intersection points\n */\nfunction findLineIntersections(line, crossCheckLines) {\n    return util.toArray(crossCheckLines).reduce(function(res, crossCheckLine) {\n        var intersection = line.intersection(crossCheckLine);\n        if (intersection) {\n            res.push(intersection);\n        }\n        return res;\n    }, []);\n}\n\n/**\n * Sorting function for list of points by their distance.\n * @param {g.point} p1 first point\n * @param {g.point} p2 second point\n * @return {number} squared distance between points\n */\nfunction sortPoints(p1, p2) {\n    return g.line(p1, p2).squaredLength();\n}\n\n/**\n * Split input line into multiple based on intersection points.\n * @param {g.line} line input line to split\n * @param {g.point[]} intersections points where to split the line\n * @param {number} jumpSize the size of jump arc (length empty spot on a line)\n * @return {g.line[]} list of lines being split\n */\nfunction createJumps(line, intersections, jumpSize) {\n    return intersections.reduce(function(resultLines, point, idx) {\n        // skipping points that were merged with the previous line\n        // to make bigger arc over multiple lines that are close to each other\n        if (point.skip === true) {\n            return resultLines;\n        }\n\n        // always grab the last line from buffer and modify it\n        var lastLine = resultLines.pop() || line;\n\n        // calculate start and end of jump by moving by a given size of jump\n        var jumpStart = g.point(point).move(lastLine.start, -(jumpSize));\n        var jumpEnd = g.point(point).move(lastLine.start, +(jumpSize));\n\n        // now try to look at the next intersection point\n        var nextPoint = intersections[idx + 1];\n        if (nextPoint != null) {\n            var distance = jumpEnd.distance(nextPoint);\n            if (distance <= jumpSize) {\n                // next point is close enough, move the jump end by this\n                // difference and mark the next point to be skipped\n                jumpEnd = nextPoint.move(lastLine.start, distance);\n                nextPoint.skip = true;\n            }\n        } else {\n            // this block is inside of `else` as an optimization so the distance is\n            // not calculated when we know there are no other intersection points\n            var endDistance = jumpStart.distance(lastLine.end);\n            // if the end is too close to possible jump, draw remaining line instead of a jump\n            if (endDistance < jumpSize * 2 + CLOSE_PROXIMITY_PADDING) {\n                resultLines.push(lastLine);\n                return resultLines;\n            }\n        }\n\n        var startDistance = jumpEnd.distance(lastLine.start);\n        if (startDistance < jumpSize * 2 + CLOSE_PROXIMITY_PADDING) {\n            // if the start of line is too close to jump, draw that line instead of a jump\n            resultLines.push(lastLine);\n            return resultLines;\n        }\n\n        // finally create a jump line\n        var jumpLine = g.line(jumpStart, jumpEnd);\n        // it's just simple line but with a `isJump` property\n        jumpLine.isJump = true;\n\n        resultLines.push(\n            g.line(lastLine.start, jumpStart),\n            jumpLine,\n            g.line(jumpEnd, lastLine.end)\n        );\n        return resultLines;\n    }, []);\n}\n\n/**\n * Assemble `D` attribute of a SVG path by iterating given lines.\n * @param {g.line[]} lines source lines to use\n * @param {number} jumpSize the size of jump arc (length empty spot on a line)\n * @param {number} radius the radius\n * @return {string}\n */\nfunction buildPath(lines, jumpSize, jumpType, radius) {\n\n    var path = new g.Path();\n    var segment;\n\n    // first move to the start of a first line\n    segment = g.Path.createSegment('M', lines[0].start);\n    path.appendSegment(segment);\n\n    // make a paths from lines\n    util.toArray(lines).forEach(function(line, index) {\n\n        if (line.isJump) {\n            var angle, diff;\n\n            var control1, control2;\n\n            if (jumpType === 'arc') { // approximates semicircle with 2 curves\n                angle = -90;\n                // determine rotation of arc based on difference between points\n                diff = line.start.difference(line.end);\n                // make sure the arc always points up (or right)\n                var xAxisRotate = Number((diff.x < 0) || (diff.x === 0 && diff.y < 0));\n                if (xAxisRotate) angle += 180;\n\n                var midpoint = line.midpoint();\n                var centerLine = new g.Line(midpoint, line.end).rotate(midpoint, angle);\n\n                var halfLine;\n\n                // first half\n                halfLine = new g.Line(line.start, midpoint);\n\n                control1 = halfLine.pointAt(2 / 3).rotate(line.start, angle);\n                control2 = centerLine.pointAt(1 / 3).rotate(centerLine.end, -angle);\n\n                segment = g.Path.createSegment('C', control1, control2, centerLine.end);\n                path.appendSegment(segment);\n\n                // second half\n                halfLine = new g.Line(midpoint, line.end);\n\n                control1 = centerLine.pointAt(1 / 3).rotate(centerLine.end, angle);\n                control2 = halfLine.pointAt(1 / 3).rotate(line.end, -angle);\n\n                segment = g.Path.createSegment('C', control1, control2, line.end);\n                path.appendSegment(segment);\n\n            } else if (jumpType === 'gap') {\n                segment = g.Path.createSegment('M', line.end);\n                path.appendSegment(segment);\n\n            } else if (jumpType === 'cubic') { // approximates semicircle with 1 curve\n                angle = line.start.theta(line.end);\n\n                var xOffset = jumpSize * 0.6;\n                var yOffset = jumpSize * 1.35;\n\n                // determine rotation of arc based on difference between points\n                diff = line.start.difference(line.end);\n                // make sure the arc always points up (or right)\n                xAxisRotate = Number((diff.x < 0) || (diff.x === 0 && diff.y < 0));\n                if (xAxisRotate) yOffset *= -1;\n\n                control1 = g.Point(line.start.x + xOffset, line.start.y + yOffset).rotate(line.start, angle);\n                control2 = g.Point(line.end.x - xOffset, line.end.y + yOffset).rotate(line.end, angle);\n\n                segment = g.Path.createSegment('C', control1, control2, line.end);\n                path.appendSegment(segment);\n            }\n\n        } else {\n            var nextLine = lines[index + 1];\n            if (radius == 0 || !nextLine || nextLine.isJump) {\n                segment = g.Path.createSegment('L', line.end);\n                path.appendSegment(segment);\n            } else {\n                buildRoundedSegment(radius, path, line.end, line.start, nextLine.end);\n            }\n        }\n    });\n\n    return path;\n}\n\nfunction buildRoundedSegment(offset, path, curr, prev, next) {\n    var prevDistance = curr.distance(prev) / 2;\n    var nextDistance = curr.distance(next) / 2;\n\n    var startMove = -Math.min(offset, prevDistance);\n    var endMove = -Math.min(offset, nextDistance);\n\n    var roundedStart = curr.clone().move(prev, startMove).round();\n    var roundedEnd = curr.clone().move(next, endMove).round();\n\n    var control1 = new g.Point((_13 * roundedStart.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * roundedStart.y));\n    var control2 = new g.Point((_13 * roundedEnd.x) + (_23 * curr.x), (_23 * curr.y) + (_13 * roundedEnd.y));\n\n    var segment;\n    segment = g.Path.createSegment('L', roundedStart);\n    path.appendSegment(segment);\n\n    segment = g.Path.createSegment('C', control1, control2, roundedEnd);\n    path.appendSegment(segment);\n}\n\n/**\n * Actual connector function that will be run on every update.\n * @param {g.point} sourcePoint start point of this link\n * @param {g.point} targetPoint end point of this link\n * @param {g.point[]} route of this link\n * @param {object} opt options\n * @property {number} size optional size of a jump arc\n * @return {string} created `D` attribute of SVG path\n */\nexport const jumpover = function(sourcePoint, targetPoint, route, opt) { // eslint-disable-line max-params\n\n    setupUpdating(this);\n\n    var raw = opt.raw;\n    var jumpSize = opt.size || JUMP_SIZE;\n    var jumpType = opt.jump && ('' + opt.jump).toLowerCase();\n    var radius = opt.radius || RADIUS;\n    var ignoreConnectors = opt.ignoreConnectors || IGNORED_CONNECTORS;\n\n    // grab the first jump type as a default if specified one is invalid\n    if (JUMP_TYPES.indexOf(jumpType) === -1) {\n        jumpType = JUMP_TYPES[0];\n    }\n\n    var paper = this.paper;\n    var graph = paper.model;\n    var allLinks = graph.getLinks();\n\n    // there is just one link, draw it directly\n    if (allLinks.length === 1) {\n        return buildPath(\n            createLines(sourcePoint, targetPoint, route),\n            jumpSize, jumpType, radius\n        );\n    }\n\n    var thisModel = this.model;\n    var thisIndex = allLinks.indexOf(thisModel);\n    var defaultConnector = paper.options.defaultConnector || {};\n\n    // not all links are meant to be jumped over.\n    var links = allLinks.filter(function(link, idx) {\n\n        var connector = link.get('connector') || defaultConnector;\n\n        // avoid jumping over links with connector type listed in `ignored connectors`.\n        if (util.toArray(ignoreConnectors).includes(connector.name)) {\n            return false;\n        }\n        // filter out links that are above this one and  have the same connector type\n        // otherwise there would double hoops for each intersection\n        if (idx > thisIndex) {\n            return connector.name !== 'jumpover';\n        }\n        return true;\n    });\n\n    // find views for all links\n    var linkViews = links.map(function(link) {\n        return paper.findViewByModel(link);\n    });\n\n    // create lines for this link\n    var thisLines = createLines(\n        sourcePoint,\n        targetPoint,\n        route\n    );\n\n    // create lines for all other links\n    var linkLines = linkViews.map(function(linkView) {\n        if (linkView == null) {\n            return [];\n        }\n        if (linkView === this) {\n            return thisLines;\n        }\n        return createLines(\n            linkView.sourcePoint,\n            linkView.targetPoint,\n            linkView.route\n        );\n    }, this);\n\n    // transform lines for this link by splitting with jump lines at\n    // points of intersection with other links\n    var jumpingLines = thisLines.reduce(function(resultLines, thisLine) {\n        // iterate all links and grab the intersections with this line\n        // these are then sorted by distance so the line can be split more easily\n        var intersections = links.reduce(function(res, link, i) {\n            // don't intersection with itself\n            if (link !== thisModel) {\n\n                const linkLinesToTest = linkLines[i].slice();\n                const overlapIndex = linkLinesToTest.findIndex((line) => overlapExists(thisLine, line));\n\n                // Overlap occurs and the end point of one segment lies on thisLine\n                if (overlapIndex > -1 && thisLine.containsPoint(linkLinesToTest[overlapIndex].end)) {\n                    // Remove the next segment because there will never be a jump\n                    linkLinesToTest.splice(overlapIndex + 1, 1);\n                } \n                const lineIntersections = findLineIntersections(thisLine, linkLinesToTest);\n                res.push.apply(res, lineIntersections);\n            }\n            return res;\n        }, []).sort(function(a, b) {\n            return sortPoints(thisLine.start, a) - sortPoints(thisLine.start, b);\n        });\n\n        if (intersections.length > 0) {\n            // split the line based on found intersection points\n            resultLines.push.apply(resultLines, createJumps(thisLine, intersections, jumpSize));\n        } else {\n            // without any intersection the line goes uninterrupted\n            resultLines.push(thisLine);\n        }\n        return resultLines;\n    }, []);\n\n    var path = buildPath(jumpingLines, jumpSize, jumpType, radius);\n    return (raw) ? path : path.serialize();\n};\n", "import { straight } from './straight.mjs';\n\nexport const normal = function(sourcePoint, targetPoint, route = [], opt = {}) {\n\n    const { raw } = opt;\n    const localOpt = {\n        cornerType: 'point',\n        raw\n    };\n\n    return straight(sourcePoint, targetPoint, route, localOpt);\n};\n", "import { straight } from './straight.mjs';\n\nconst CORNER_RADIUS = 10;\nconst PRECISION = 0;\n\nexport const rounded = function(sourcePoint, targetPoint, route = [], opt = {}) {\n\n    const { radius = CORNER_RADIUS, raw } = opt;\n    const localOpt = {\n        cornerType: 'cubic',\n        cornerRadius: radius,\n        precision: PRECISION,\n        raw\n    };\n\n    return straight(sourcePoint, targetPoint, route, localOpt);\n};\n", "import * as g from '../g/index.mjs';\n\nexport const smooth = function(sourcePoint, targetPoint, route, opt) {\n\n    var raw = opt && opt.raw;\n    var path;\n\n    if (route && route.length !== 0) {\n\n        var points = [sourcePoint].concat(route).concat([targetPoint]);\n        var curves = g.Curve.throughPoints(points);\n\n        path = new g.Path(curves);\n\n    } else {\n        // if we have no route, use a default cubic bezier curve\n        // cubic bezier requires two control points\n        // the control points have `x` midway between source and target\n        // this produces an S-like curve\n\n        path = new g.Path();\n\n        var segment;\n\n        segment = g.Path.createSegment('M', sourcePoint);\n        path.appendSegment(segment);\n\n        if ((Math.abs(sourcePoint.x - targetPoint.x)) >= (Math.abs(sourcePoint.y - targetPoint.y))) {\n            var controlPointX = (sourcePoint.x + targetPoint.x) / 2;\n\n            segment = g.Path.createSegment('C', controlPointX, sourcePoint.y, controlPointX, targetPoint.y, targetPoint.x, targetPoint.y);\n            path.appendSegment(segment);\n\n        } else {\n            var controlPointY = (sourcePoint.y + targetPoint.y) / 2;\n\n            segment = g.Path.createSegment('C', sourcePoint.x, controlPointY, targetPoint.x, controlPointY, targetPoint.x, targetPoint.y);\n            path.appendSegment(segment);\n\n        }\n    }\n\n    return (raw) ? path : path.serialize();\n};\n", "import { Path, Point, Curve } from '../g/index.mjs';\n\nconst Directions = {\n    AUTO: 'auto',\n    HORIZONTAL: 'horizontal',\n    VERTICAL: 'vertical',\n    CLOSEST_POINT: 'closest-point',\n    OUTWARDS: 'outwards'\n};\n\nconst TangentDirections = {\n    UP: 'up',\n    DOWN: 'down',\n    LEFT: 'left',\n    RIGHT: 'right',\n    AUTO: 'auto',\n    CLOSEST_POINT: 'closest-point',\n    OUTWARDS: 'outwards'\n};\n\nexport const curve = function(sourcePoint, targetPoint, route = [], opt = {}, linkView) {\n    const raw = Boolean(opt.raw);\n    // distanceCoefficient - a coefficient of the tangent vector length relative to the distance between points.\n    // angleTangentCoefficient - a coefficient of the end tangents length in the case of angles larger than 45 degrees.\n    // tension - a Catmull-Rom curve tension parameter.\n    // sourceTangent - a tangent vector along the curve at the sourcePoint.\n    // sourceDirection - a unit direction vector along the curve at the sourcePoint.\n    // targetTangent - a tangent vector along the curve at the targetPoint.\n    // targetDirection - a unit direction vector along the curve at the targetPoint.\n    // precision - a rounding precision for path values.\n    const { direction = Directions.AUTO, precision = 3 } = opt;\n    const options = {\n        coeff: opt.distanceCoefficient || 0.6,\n        angleTangentCoefficient: opt.angleTangentCoefficient || 80,\n        tau: opt.tension || 0.5,\n        sourceTangent: opt.sourceTangent ? new Point(opt.sourceTangent) : null,\n        targetTangent: opt.targetTangent ? new Point(opt.targetTangent) : null,\n        rotate: Boolean(opt.rotate)\n    };\n    if (typeof opt.sourceDirection === 'string')\n        options.sourceDirection = opt.sourceDirection;\n    else if (typeof opt.sourceDirection === 'number')\n        options.sourceDirection = new Point(1, 0).rotate(null, opt.sourceDirection);\n    else\n        options.sourceDirection = opt.sourceDirection ? new Point(opt.sourceDirection).normalize() : null;\n\n    if (typeof opt.targetDirection === 'string')\n        options.targetDirection = opt.targetDirection;\n    else if (typeof opt.targetDirection === 'number')\n        options.targetDirection = new Point(1, 0).rotate(null, opt.targetDirection);\n    else\n        options.targetDirection = opt.targetDirection ? new Point(opt.targetDirection).normalize() : null;\n\n    const completeRoute = [sourcePoint, ...route, targetPoint].map(p => new Point(p));\n\n    // The calculation of a sourceTangent\n    let sourceTangent;\n    if (options.sourceTangent) {\n        sourceTangent = options.sourceTangent;\n    } else {\n        const sourceDirection = getSourceTangentDirection(linkView, completeRoute, direction, options);\n        const tangentLength = completeRoute[0].distance(completeRoute[1]) * options.coeff;\n        const pointsVector = completeRoute[1].difference(completeRoute[0]).normalize();\n        const angle = angleBetweenVectors(sourceDirection, pointsVector);\n        if (angle > Math.PI / 4) {\n            const updatedLength = tangentLength + (angle - Math.PI / 4) * options.angleTangentCoefficient;\n            sourceTangent = sourceDirection.clone().scale(updatedLength, updatedLength);\n        } else {\n            sourceTangent = sourceDirection.clone().scale(tangentLength, tangentLength);\n        }\n    }\n\n    // The calculation of a targetTangent\n    let targetTangent;\n    if (options.targetTangent) {\n        targetTangent = options.targetTangent;\n    } else {\n        const targetDirection = getTargetTangentDirection(linkView, completeRoute, direction, options);\n        const last = completeRoute.length - 1;\n        const tangentLength = completeRoute[last - 1].distance(completeRoute[last]) * options.coeff;\n        const pointsVector = completeRoute[last - 1].difference(completeRoute[last]).normalize();\n        const angle = angleBetweenVectors(targetDirection, pointsVector);\n        if (angle > Math.PI / 4) {\n            const updatedLength = tangentLength + (angle - Math.PI / 4) * options.angleTangentCoefficient;\n            targetTangent = targetDirection.clone().scale(updatedLength, updatedLength);\n        } else {\n            targetTangent = targetDirection.clone().scale(tangentLength, tangentLength);\n        }\n    }\n\n    const catmullRomCurves = createCatmullRomCurves(completeRoute, sourceTangent, targetTangent, options);\n    const bezierCurves = catmullRomCurves.map(curve => catmullRomToBezier(curve, options));\n    const path = new Path(bezierCurves).round(precision);\n\n    return (raw) ? path : path.serialize();\n};\ncurve.Directions = Directions;\ncurve.TangentDirections = TangentDirections;\n\nfunction getHorizontalSourceDirection(linkView, route, options) {\n    const { sourceBBox } = linkView;\n\n    let sourceSide;\n    let rotation;\n    if (!linkView.sourceView) {\n        if (sourceBBox.x > route[1].x)\n            sourceSide = 'right';\n        else\n            sourceSide = 'left';\n    } else {\n        rotation = linkView.sourceView.model.angle();\n        if (options.rotate && rotation) {\n            const unrotatedBBox = linkView.sourceView.getNodeUnrotatedBBox(linkView.sourceView.el);\n            const sourcePoint = route[0].clone();\n            sourcePoint.rotate(sourceBBox.center(), rotation);\n            sourceSide = unrotatedBBox.sideNearestToPoint(sourcePoint);\n        } else {\n            sourceSide = sourceBBox.sideNearestToPoint(route[0]);\n        }\n    }\n\n    let direction;\n    switch (sourceSide) {\n        case 'left':\n            direction = new Point(-1, 0);\n            break;\n        case 'right':\n        default:\n            direction = new Point(1, 0);\n            break;\n    }\n\n    if (options.rotate && rotation) {\n        direction.rotate(null, -rotation);\n    }\n\n    return direction;\n}\n\nfunction getHorizontalTargetDirection(linkView, route, options) {\n    const { targetBBox } = linkView;\n\n    let targetSide;\n    let rotation;\n    if (!linkView.targetView) {\n        if (targetBBox.x > route[route.length - 2].x)\n            targetSide = 'left';\n        else\n            targetSide = 'right';\n    } else {\n        rotation = linkView.targetView.model.angle();\n        if (options.rotate && rotation) {\n            const unrotatedBBox = linkView.targetView.getNodeUnrotatedBBox(linkView.targetView.el);\n            const targetPoint = route[route.length - 1].clone();\n            targetPoint.rotate(targetBBox.center(), rotation);\n            targetSide = unrotatedBBox.sideNearestToPoint(targetPoint);\n        } else {\n            targetSide = targetBBox.sideNearestToPoint(route[route.length - 1]);\n        }\n    }\n\n    let direction;\n    switch (targetSide) {\n        case 'left':\n            direction = new Point(-1, 0);\n            break;\n        case 'right':\n        default:\n            direction = new Point(1, 0);\n            break;\n    }\n\n    if (options.rotate && rotation) {\n        direction.rotate(null, -rotation);\n    }\n\n    return direction;\n}\n\nfunction getVerticalSourceDirection(linkView, route, options) {\n    const { sourceBBox } = linkView;\n\n    let sourceSide;\n    let rotation;\n    if (!linkView.sourceView) {\n        if (sourceBBox.y > route[1].y)\n            sourceSide = 'bottom';\n        else\n            sourceSide = 'top';\n    } else {\n        rotation = linkView.sourceView.model.angle();\n        if (options.rotate && rotation) {\n            const unrotatedBBox = linkView.sourceView.getNodeUnrotatedBBox(linkView.sourceView.el);\n            const sourcePoint = route[0].clone();\n            sourcePoint.rotate(sourceBBox.center(), rotation);\n            sourceSide = unrotatedBBox.sideNearestToPoint(sourcePoint);\n        } else {\n            sourceSide = sourceBBox.sideNearestToPoint(route[0]);\n        }\n    }\n\n    let direction;\n    switch (sourceSide) {\n        case 'top':\n            direction = new Point(0, -1);\n            break;\n        case 'bottom':\n        default:\n            direction = new Point(0, 1);\n            break;\n    }\n\n    if (options.rotate && rotation) {\n        direction.rotate(null, -rotation);\n    }\n\n    return direction;\n}\n\nfunction getVerticalTargetDirection(linkView, route, options) {\n    const { targetBBox } = linkView;\n\n    let targetSide;\n    let rotation;\n    if (!linkView.targetView) {\n        if (targetBBox.y > route[route.length - 2].y)\n            targetSide = 'top';\n        else\n            targetSide = 'bottom';\n    } else {\n        rotation = linkView.targetView.model.angle();\n        if (options.rotate && rotation) {\n            const unrotatedBBox = linkView.targetView.getNodeUnrotatedBBox(linkView.targetView.el);\n            const targetPoint = route[route.length - 1].clone();\n            targetPoint.rotate(targetBBox.center(), rotation);\n            targetSide = unrotatedBBox.sideNearestToPoint(targetPoint);\n        } else {\n            targetSide = targetBBox.sideNearestToPoint(route[route.length - 1]);\n        }\n    }\n\n\n    let direction;\n    switch (targetSide) {\n        case 'top':\n            direction = new Point(0, -1);\n            break;\n        case 'bottom':\n        default:\n            direction = new Point(0, 1);\n            break;\n    }\n\n    if (options.rotate && rotation) {\n        direction.rotate(null, -rotation);\n    }\n\n    return direction;\n}\n\nfunction getAutoSourceDirection(linkView, route, options) {\n    const { sourceBBox } = linkView;\n\n    let sourceSide;\n    let rotation;\n    if (!linkView.sourceView) {\n        sourceSide = sourceBBox.sideNearestToPoint(route[1]);\n    } else {\n        rotation = linkView.sourceView.model.angle();\n        if (options.rotate && rotation) {\n            const unrotatedBBox = linkView.sourceView.getNodeUnrotatedBBox(linkView.sourceView.el);\n            const sourcePoint = route[0].clone();\n            sourcePoint.rotate(sourceBBox.center(), rotation);\n            sourceSide = unrotatedBBox.sideNearestToPoint(sourcePoint);\n        } else {\n            sourceSide = sourceBBox.sideNearestToPoint(route[0]);\n        }\n    }\n\n    let direction;\n    switch (sourceSide) {\n        case 'top':\n            direction = new Point(0, -1);\n            break;\n        case 'bottom':\n            direction = new Point(0, 1);\n            break;\n        case 'right':\n            direction = new Point(1, 0);\n            break;\n        case 'left':\n            direction = new Point(-1, 0);\n            break;\n    }\n\n    if (options.rotate && rotation) {\n        direction.rotate(null, -rotation);\n    }\n\n    return direction;\n}\n\nfunction getAutoTargetDirection(linkView, route, options) {\n    const { targetBBox } = linkView;\n\n    let targetSide;\n    let rotation;\n    if (!linkView.targetView) {\n        targetSide = targetBBox.sideNearestToPoint(route[route.length - 2]);\n    } else {\n        rotation = linkView.targetView.model.angle();\n        if (options.rotate && rotation) {\n            const unrotatedBBox = linkView.targetView.getNodeUnrotatedBBox(linkView.targetView.el);\n            const targetPoint = route[route.length - 1].clone();\n            targetPoint.rotate(targetBBox.center(), rotation);\n            targetSide = unrotatedBBox.sideNearestToPoint(targetPoint);\n        } else {\n            targetSide = targetBBox.sideNearestToPoint(route[route.length - 1]);\n        }\n    }\n\n    let direction;\n    switch (targetSide) {\n        case 'top':\n            direction = new Point(0, -1);\n            break;\n        case 'bottom':\n            direction = new Point(0, 1);\n            break;\n        case 'right':\n            direction = new Point(1, 0);\n            break;\n        case 'left':\n            direction = new Point(-1, 0);\n            break;\n    }\n\n    if (options.rotate && rotation) {\n        direction.rotate(null, -rotation);\n    }\n\n    return direction;\n}\n\nfunction getClosestPointSourceDirection(linkView, route, options) {\n    return route[1].difference(route[0]).normalize();\n}\n\nfunction getClosestPointTargetDirection(linkView, route, options) {\n    const last = route.length - 1;\n    return route[last - 1].difference(route[last]).normalize();\n}\n\nfunction getOutwardsSourceDirection(linkView, route, options) {\n    const { sourceBBox } = linkView;\n    const sourceCenter = sourceBBox.center();\n    return route[0].difference(sourceCenter).normalize();\n}\n\nfunction getOutwardsTargetDirection(linkView, route, options) {\n    const { targetBBox } = linkView;\n    const targetCenter = targetBBox.center();\n    return route[route.length - 1].difference(targetCenter).normalize();\n}\n\nfunction getSourceTangentDirection(linkView, route, direction, options) {\n    if (options.sourceDirection) {\n        switch (options.sourceDirection) {\n            case TangentDirections.UP:\n                return new Point(0, -1);\n            case TangentDirections.DOWN:\n                return new Point(0, 1);\n            case TangentDirections.LEFT:\n                return new Point(-1, 0);\n            case TangentDirections.RIGHT:\n                return new Point(1, 0);\n            case TangentDirections.AUTO:\n                return getAutoSourceDirection(linkView, route, options);\n            case TangentDirections.CLOSEST_POINT:\n                return getClosestPointSourceDirection(linkView, route, options);\n            case TangentDirections.OUTWARDS:\n                return getOutwardsSourceDirection(linkView, route, options);\n            default:\n                return options.sourceDirection;\n        }\n    }\n\n    switch (direction) {\n        case Directions.HORIZONTAL:\n            return getHorizontalSourceDirection(linkView, route, options);\n        case Directions.VERTICAL:\n            return getVerticalSourceDirection(linkView, route, options);\n        case Directions.CLOSEST_POINT:\n            return getClosestPointSourceDirection(linkView, route, options);\n        case Directions.OUTWARDS:\n            return getOutwardsSourceDirection(linkView, route, options);\n        case Directions.AUTO:\n        default:\n            return getAutoSourceDirection(linkView, route, options);\n    }\n}\n\nfunction getTargetTangentDirection(linkView, route, direction, options) {\n    if (options.targetDirection) {\n        switch (options.targetDirection) {\n            case TangentDirections.UP:\n                return new Point(0, -1);\n            case TangentDirections.DOWN:\n                return new Point(0, 1);\n            case TangentDirections.LEFT:\n                return new Point(-1, 0);\n            case TangentDirections.RIGHT:\n                return new Point(1, 0);\n            case TangentDirections.AUTO:\n                return getAutoTargetDirection(linkView, route, options);\n            case TangentDirections.CLOSEST_POINT:\n                return getClosestPointTargetDirection(linkView, route, options);\n            case TangentDirections.OUTWARDS:\n                return getOutwardsTargetDirection(linkView, route, options);\n            default:\n                return options.targetDirection;\n        }\n    }\n\n    switch (direction) {\n        case Directions.HORIZONTAL:\n            return getHorizontalTargetDirection(linkView, route, options);\n        case Directions.VERTICAL:\n            return getVerticalTargetDirection(linkView, route, options);\n        case Directions.CLOSEST_POINT:\n            return getClosestPointTargetDirection(linkView, route, options);\n        case Directions.OUTWARDS:\n            return getOutwardsTargetDirection(linkView, route, options);\n        case Directions.AUTO:\n        default:\n            return getAutoTargetDirection(linkView, route, options);\n    }\n}\n\nfunction rotateVector(vector, angle) {\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const x = cos * vector.x - sin * vector.y;\n    const y = sin * vector.x + cos * vector.y;\n    vector.x = x;\n    vector.y = y;\n}\n\nfunction angleBetweenVectors(v1, v2) {\n    let cos = v1.dot(v2) / (v1.magnitude() * v2.magnitude());\n    if (cos < -1) cos = -1;\n    if (cos > 1) cos = 1;\n    return Math.acos(cos);\n}\n\nfunction determinant(v1, v2) {\n    return v1.x * v2.y - v1.y * v2.x;\n}\n\nfunction createCatmullRomCurves(points, sourceTangent, targetTangent, options) {\n    const { tau, coeff } = options;\n    const distances = [];\n    const tangents = [];\n    const catmullRomCurves = [];\n    const n = points.length - 1;\n\n    for (let i = 0; i < n; i++) {\n        distances[i] = points[i].distance(points[i + 1]);\n    }\n\n    tangents[0] = sourceTangent;\n    tangents[n] = targetTangent;\n\n    // The calculation of tangents of vertices\n    for (let i = 1; i < n; i++) {\n        let tpPrev;\n        let tpNext;\n        if (i === 1) {\n            tpPrev = points[i - 1].clone().offset(tangents[i - 1].x, tangents[i - 1].y);\n        } else {\n            tpPrev = points[i - 1].clone();\n        }\n        if (i === n - 1) {\n            tpNext = points[i + 1].clone().offset(tangents[i + 1].x, tangents[i + 1].y);\n        } else {\n            tpNext = points[i + 1].clone();\n        }\n        const v1 = tpPrev.difference(points[i]).normalize();\n        const v2 = tpNext.difference(points[i]).normalize();\n        const vAngle = angleBetweenVectors(v1, v2);\n\n        let rot = (Math.PI - vAngle) / 2;\n        let t;\n        const vectorDeterminant = determinant(v1, v2);\n        let pointsDeterminant;\n        pointsDeterminant = determinant(points[i].difference(points[i + 1]), points[i].difference(points[i - 1]));\n        if (vectorDeterminant < 0) {\n            rot = -rot;\n        }\n        if ((vAngle < Math.PI / 2) && ((rot < 0 && pointsDeterminant < 0) || (rot > 0 && pointsDeterminant > 0))) {\n            rot = rot - Math.PI;\n        }\n        t = v2.clone();\n        rotateVector(t, rot);\n\n        const t1 = t.clone();\n        const t2 = t.clone();\n        const scaleFactor1 = distances[i - 1] * coeff;\n        const scaleFactor2 = distances[i] * coeff;\n        t1.scale(scaleFactor1, scaleFactor1);\n        t2.scale(scaleFactor2, scaleFactor2);\n\n        tangents[i] = [t1, t2];\n    }\n\n    // The building of a Catmull-Rom curve based of tangents of points\n    for (let i = 0; i < n; i++) {\n        let p0;\n        let p3;\n        if (i === 0) {\n            p0 = points[i + 1].difference(tangents[i].x / tau, tangents[i].y / tau);\n        } else {\n            p0 = points[i + 1].difference(tangents[i][1].x / tau, tangents[i][1].y / tau);\n        }\n        if (i === n - 1) {\n            p3 = points[i].clone().offset(tangents[i + 1].x / tau, tangents[i + 1].y / tau);\n        } else {\n            p3 = points[i].difference(tangents[i + 1][0].x / tau, tangents[i + 1][0].y / tau);\n        }\n\n        catmullRomCurves[i] = [p0, points[i], points[i + 1], p3];\n    }\n    return catmullRomCurves;\n}\n\n// The function to convert Catmull-Rom curve to Bezier curve using the tension (tau)\nfunction catmullRomToBezier(points, options) {\n    const { tau } = options;\n\n    const bcp1 = new Point();\n    bcp1.x = points[1].x + (points[2].x - points[0].x) / (6 * tau);\n    bcp1.y = points[1].y + (points[2].y - points[0].y) / (6 * tau);\n\n    const bcp2 = new Point();\n    bcp2.x = points[2].x + (points[3].x - points[1].x) / (6 * tau);\n    bcp2.y = points[2].y + (points[3].y - points[1].y) / (6 * tau);\n    return new Curve(\n        points[1],\n        bcp1,\n        bcp2,\n        points[2]\n    );\n}\n", "import { CellView } from './CellView.mjs';\nimport { Link } from './Link.mjs';\nimport V from '../V/index.mjs';\nimport { addClassNamePrefix, removeClassNamePrefix, merge, template, assign, toArray, isObject, isFunction, clone, isPercentage, result, isEqual } from '../util/index.mjs';\nimport { Point, Line, Path, normalizeAngle, Rect, Polyline } from '../g/index.mjs';\nimport * as routers from '../routers/index.mjs';\nimport * as connectors from '../connectors/index.mjs';\nimport $ from 'jquery';\n\nconst Flags = {\n    TOOLS: CellView.Flags.TOOLS,\n    RENDER: 'RENDER',\n    UPDATE: 'UPDATE',\n    LEGACY_TOOLS: 'LEGACY_TOOLS',\n    LABELS: 'LABELS',\n    VERTICES: 'VERTICES',\n    SOURCE: 'SOURCE',\n    TARGET: 'TARGET',\n    CONNECTOR: 'CONNECTOR'\n};\n\n// Link base view and controller.\n// ----------------------------------------\n\nexport const LinkView = CellView.extend({\n\n    className: function() {\n\n        var classNames = CellView.prototype.className.apply(this).split(' ');\n\n        classNames.push('link');\n\n        return classNames.join(' ');\n    },\n\n    options: {\n\n        shortLinkLength: 105,\n        doubleLinkTools: false,\n        longLinkLength: 155,\n        linkToolsOffset: 40,\n        doubleLinkToolsOffset: 65,\n        sampleInterval: 50\n    },\n\n    _labelCache: null,\n    _labelSelectors: null,\n    _markerCache: null,\n    _V: null,\n    _dragData: null, // deprecated\n\n    metrics: null,\n    decimalsRounding: 2,\n\n    initialize: function() {\n\n        CellView.prototype.initialize.apply(this, arguments);\n\n        // `_.labelCache` is a mapping of indexes of labels in the `this.get('labels')` array to\n        // `<g class=\"label\">` nodes wrapped by Vectorizer. This allows for quick access to the\n        // nodes in `updateLabelPosition()` in order to update the label positions.\n        this._labelCache = {};\n\n        // a cache of label selectors\n        this._labelSelectors = {};\n\n        // keeps markers bboxes and positions again for quicker access\n        this._markerCache = {};\n\n        // cache of default markup nodes\n        this._V = {};\n\n        // connection path metrics\n        this.cleanNodesCache();\n    },\n\n    presentationAttributes: {\n        markup: [Flags.RENDER],\n        attrs: [Flags.UPDATE],\n        router: [Flags.UPDATE],\n        connector: [Flags.CONNECTOR],\n        smooth: [Flags.UPDATE],\n        manhattan: [Flags.UPDATE],\n        toolMarkup: [Flags.LEGACY_TOOLS],\n        labels: [Flags.LABELS],\n        labelMarkup: [Flags.LABELS],\n        vertices: [Flags.VERTICES, Flags.UPDATE],\n        vertexMarkup: [Flags.VERTICES],\n        source: [Flags.SOURCE, Flags.UPDATE],\n        target: [Flags.TARGET, Flags.UPDATE]\n    },\n\n    initFlag: [Flags.RENDER, Flags.SOURCE, Flags.TARGET, Flags.TOOLS],\n\n    UPDATE_PRIORITY: 1,\n\n    confirmUpdate: function(flags, opt) {\n\n        opt || (opt = {});\n\n        if (this.hasFlag(flags, Flags.SOURCE)) {\n            if (!this.updateEndProperties('source')) return flags;\n            flags = this.removeFlag(flags, Flags.SOURCE);\n        }\n\n        if (this.hasFlag(flags, Flags.TARGET)) {\n            if (!this.updateEndProperties('target')) return flags;\n            flags = this.removeFlag(flags, Flags.TARGET);\n        }\n\n        const { paper, sourceView, targetView } = this;\n        if (paper && ((sourceView && !paper.isViewMounted(sourceView)) || (targetView && !paper.isViewMounted(targetView)))) {\n            // Wait for the sourceView and targetView to be rendered\n            return flags;\n        }\n\n        if (this.hasFlag(flags, Flags.RENDER)) {\n            this.render();\n            this.updateHighlighters(true);\n            this.updateTools(opt);\n            flags = this.removeFlag(flags, [Flags.RENDER, Flags.UPDATE, Flags.VERTICES, Flags.LABELS, Flags.TOOLS, Flags.LEGACY_TOOLS, Flags.CONNECTOR]);\n            return flags;\n        }\n\n        let updateHighlighters = false;\n\n        if (this.hasFlag(flags, Flags.VERTICES)) {\n            this.renderVertexMarkers();\n            flags = this.removeFlag(flags, Flags.VERTICES);\n        }\n\n        const { model } = this;\n        const { attributes } = model;\n        let updateLabels = this.hasFlag(flags, Flags.LABELS);\n        let updateLegacyTools = this.hasFlag(flags, Flags.LEGACY_TOOLS);\n\n        if (updateLabels) {\n            this.onLabelsChange(model, attributes.labels, opt);\n            flags = this.removeFlag(flags, Flags.LABELS);\n            updateHighlighters = true;\n        }\n\n        if (updateLegacyTools) {\n            this.renderTools();\n            flags = this.removeFlag(flags, Flags.LEGACY_TOOLS);\n        }\n\n        const updateAll = this.hasFlag(flags, Flags.UPDATE);\n        const updateConnector = this.hasFlag(flags, Flags.CONNECTOR);\n        if (updateAll || updateConnector) {\n            if (!updateAll) {\n                // Keep the current route and update the geometry\n                this.updatePath();\n                this.updateDOM();\n            } else if (opt.translateBy && model.isRelationshipEmbeddedIn(opt.translateBy)) {\n                // The link is being translated by an ancestor that will\n                // shift source point, target point and all vertices\n                // by an equal distance.\n                this.translate(opt.tx, opt.ty);\n            } else {\n                this.update();\n            }\n            this.updateTools(opt);\n            flags = this.removeFlag(flags, [Flags.UPDATE, Flags.TOOLS, Flags.CONNECTOR]);\n            updateLabels = false;\n            updateLegacyTools = false;\n            updateHighlighters = true;\n        }\n\n        if (updateLabels) {\n            this.updateLabelPositions();\n        }\n\n        if (updateLegacyTools) {\n            this.updateToolsPosition();\n        }\n\n        if (updateHighlighters) {\n            this.updateHighlighters();\n        }\n\n        if (this.hasFlag(flags, Flags.TOOLS)) {\n            this.updateTools(opt);\n            flags = this.removeFlag(flags, Flags.TOOLS);\n        }\n\n        return flags;\n    },\n\n    requestConnectionUpdate: function(opt) {\n        this.requestUpdate(this.getFlag(Flags.UPDATE), opt);\n    },\n\n    isLabelsRenderRequired: function(opt = {}) {\n\n        const previousLabels = this.model.previous('labels');\n        if (!previousLabels) return true;\n\n        // Here is an optimization for cases when we know, that change does\n        // not require re-rendering of all labels.\n        if (('propertyPathArray' in opt) && ('propertyValue' in opt)) {\n            // The label is setting by `prop()` method\n            var pathArray = opt.propertyPathArray || [];\n            var pathLength = pathArray.length;\n            if (pathLength > 1) {\n                // We are changing a single label here e.g. 'labels/0/position'\n                var labelExists = !!previousLabels[pathArray[1]];\n                if (labelExists) {\n                    if (pathLength === 2) {\n                        // We are changing the entire label. Need to check if the\n                        // markup is also being changed.\n                        return ('markup' in Object(opt.propertyValue));\n                    } else if (pathArray[2] !== 'markup') {\n                        // We are changing a label property but not the markup\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    },\n\n    onLabelsChange: function(_link, _labels, opt) {\n\n        // Note: this optimization works in async=false mode only\n        if (this.isLabelsRenderRequired(opt)) {\n            this.renderLabels();\n        } else {\n            this.updateLabels();\n        }\n    },\n\n    // Rendering.\n    // ----------\n\n    render: function() {\n\n        this.vel.empty();\n        this.unmountLabels();\n        this._V = {};\n        this.renderMarkup();\n        // rendering labels has to be run after the link is appended to DOM tree. (otherwise <Text> bbox\n        // returns zero values)\n        this.renderLabels();\n        this.update();\n\n        return this;\n    },\n\n    renderMarkup: function() {\n\n        var link = this.model;\n        var markup = link.get('markup') || link.markup;\n        if (!markup) throw new Error('dia.LinkView: markup required');\n        if (Array.isArray(markup)) return this.renderJSONMarkup(markup);\n        if (typeof markup === 'string') return this.renderStringMarkup(markup);\n        throw new Error('dia.LinkView: invalid markup');\n    },\n\n    renderJSONMarkup: function(markup) {\n\n        var doc = this.parseDOMJSON(markup, this.el);\n        // Selectors\n        this.selectors = doc.selectors;\n        // Fragment\n        this.vel.append(doc.fragment);\n    },\n\n    renderStringMarkup: function(markup) {\n\n        // A special markup can be given in the `properties.markup` property. This might be handy\n        // if e.g. arrowhead markers should be `<image>` elements or any other element than `<path>`s.\n        // `.connection`, `.connection-wrap`, `.marker-source` and `.marker-target` selectors\n        // of elements with special meaning though. Therefore, those classes should be preserved in any\n        // special markup passed in `properties.markup`.\n        var children = V(markup);\n        // custom markup may contain only one children\n        if (!Array.isArray(children)) children = [children];\n        // Cache all children elements for quicker access.\n        var cache = this._V; // vectorized markup;\n        for (var i = 0, n = children.length; i < n; i++) {\n            var child = children[i];\n            var className = child.attr('class');\n            if (className) {\n                // Strip the joint class name prefix, if there is one.\n                className = removeClassNamePrefix(className);\n                cache[$.camelCase(className)] = child;\n            }\n        }\n        // partial rendering\n        this.renderTools();\n        this.renderVertexMarkers();\n        this.renderArrowheadMarkers();\n        this.vel.append(children);\n    },\n\n    _getLabelMarkup: function(labelMarkup) {\n\n        if (!labelMarkup) return undefined;\n\n        if (Array.isArray(labelMarkup)) return this.parseDOMJSON(labelMarkup, null);\n        if (typeof labelMarkup === 'string') return this._getLabelStringMarkup(labelMarkup);\n        throw new Error('dia.linkView: invalid label markup');\n    },\n\n    _getLabelStringMarkup: function(labelMarkup) {\n\n        var children = V(labelMarkup);\n        var fragment = document.createDocumentFragment();\n\n        if (!Array.isArray(children)) {\n            fragment.appendChild(children.node);\n\n        } else {\n            for (var i = 0, n = children.length; i < n; i++) {\n                var currentChild = children[i].node;\n                fragment.appendChild(currentChild);\n            }\n        }\n\n        return { fragment: fragment, selectors: {}}; // no selectors\n    },\n\n    // Label markup fragment may come wrapped in <g class=\"label\" />, or not.\n    // If it doesn't, add the <g /> container here.\n    _normalizeLabelMarkup: function(markup) {\n\n        if (!markup) return undefined;\n\n        var fragment = markup.fragment;\n        if (!(markup.fragment instanceof DocumentFragment) || !markup.fragment.hasChildNodes()) throw new Error('dia.LinkView: invalid label markup.');\n\n        var vNode;\n        var childNodes = fragment.childNodes;\n\n        if ((childNodes.length > 1) || childNodes[0].nodeName.toUpperCase() !== 'G') {\n            // default markup fragment is not wrapped in <g />\n            // add a <g /> container\n            vNode = V('g').append(fragment);\n        } else {\n            vNode = V(childNodes[0]);\n        }\n\n        vNode.addClass('label');\n\n        return { node: vNode.node, selectors: markup.selectors };\n    },\n\n    renderLabels: function() {\n\n        var cache = this._V;\n        var vLabels = cache.labels;\n        var labelCache = this._labelCache = {};\n        var labelSelectors = this._labelSelectors = {};\n        var model = this.model;\n        var labels = model.attributes.labels || [];\n        var labelsCount = labels.length;\n\n        if (labelsCount === 0) {\n            if (vLabels) vLabels.remove();\n            return this;\n        }\n\n        if (vLabels) {\n            vLabels.empty();\n        }  else {\n            // there is no label container in the markup but some labels are defined\n            // add a <g class=\"labels\" /> container\n            vLabels = cache.labels = V('g').addClass('labels');\n            if (this.options.labelsLayer) {\n                vLabels.addClass(addClassNamePrefix(result(this, 'className')));\n                vLabels.attr('model-id', model.id);\n            }\n        }\n\n        for (var i = 0; i < labelsCount; i++) {\n\n            var label = labels[i];\n            var labelMarkup = this._normalizeLabelMarkup(this._getLabelMarkup(label.markup));\n            var labelNode;\n            var selectors;\n            if (labelMarkup) {\n\n                labelNode = labelMarkup.node;\n                selectors = labelMarkup.selectors;\n\n            } else {\n\n                var builtinDefaultLabel =  model._builtins.defaultLabel;\n                var builtinDefaultLabelMarkup = this._normalizeLabelMarkup(this._getLabelMarkup(builtinDefaultLabel.markup));\n                var defaultLabel = model._getDefaultLabel();\n                var defaultLabelMarkup = this._normalizeLabelMarkup(this._getLabelMarkup(defaultLabel.markup));\n                var defaultMarkup = defaultLabelMarkup || builtinDefaultLabelMarkup;\n\n                labelNode = defaultMarkup.node;\n                selectors = defaultMarkup.selectors;\n            }\n\n            labelNode.setAttribute('label-idx', i); // assign label-idx\n            vLabels.append(labelNode);\n            labelCache[i] = labelNode; // cache node for `updateLabels()` so it can just update label node positions\n\n            var rootSelector = this.selector;\n            if (selectors[rootSelector]) throw new Error('dia.LinkView: ambiguous label root selector.');\n            selectors[rootSelector] = labelNode;\n\n            labelSelectors[i] = selectors; // cache label selectors for `updateLabels()`\n        }\n        if (!vLabels.parent()) {\n            this.mountLabels();\n        }\n\n        this.updateLabels();\n\n        return this;\n    },\n\n    mountLabels: function() {\n        const { el, paper, model, _V, options } = this;\n        const { labels: vLabels } = _V;\n        if (!vLabels || !model.hasLabels()) return;\n        const { node } = vLabels;\n        if (options.labelsLayer) {\n            paper.getLayerView(options.labelsLayer).insertSortedNode(node, model.get('z'));\n        } else {\n            if (node.parentNode !== el) {\n                el.appendChild(node);\n            }\n        }\n    },\n\n    unmountLabels: function() {\n        const { options, _V } = this;\n        if (!_V) return;\n        const { labels: vLabels } = _V;\n        if (vLabels && options.labelsLayer) {\n            vLabels.remove();\n        }\n    },\n\n    findLabelNode: function(labelIndex, selector) {\n        const labelRoot = this._labelCache[labelIndex];\n        if (!labelRoot) return null;\n        const labelSelectors = this._labelSelectors[labelIndex];\n        const [node = null] = this.findBySelector(selector, labelRoot, labelSelectors);\n        return node;\n    },\n\n\n    // merge default label attrs into label attrs (or use built-in default label attrs if neither is provided)\n    // keep `undefined` or `null` because `{}` means something else\n    _mergeLabelAttrs: function(hasCustomMarkup, labelAttrs, defaultLabelAttrs, builtinDefaultLabelAttrs) {\n\n        if (labelAttrs === null) return null;\n        if (labelAttrs === undefined) {\n\n            if (defaultLabelAttrs === null) return null;\n            if (defaultLabelAttrs === undefined) {\n\n                if (hasCustomMarkup) return undefined;\n                return builtinDefaultLabelAttrs;\n            }\n\n            if (hasCustomMarkup) return defaultLabelAttrs;\n            return merge({}, builtinDefaultLabelAttrs, defaultLabelAttrs);\n        }\n\n        if (hasCustomMarkup) return merge({}, defaultLabelAttrs, labelAttrs);\n        return merge({}, builtinDefaultLabelAttrs, defaultLabelAttrs, labelAttrs);\n    },\n\n    // merge default label size into label size (no built-in default)\n    // keep `undefined` or `null` because `{}` means something else\n    _mergeLabelSize: function(labelSize, defaultLabelSize) {\n\n        if (labelSize === null) return null;\n        if (labelSize === undefined) {\n\n            if (defaultLabelSize === null) return null;\n            if (defaultLabelSize === undefined) return undefined;\n\n            return defaultLabelSize;\n        }\n\n        return merge({}, defaultLabelSize, labelSize);\n    },\n\n    updateLabels: function() {\n\n        if (!this._V.labels) return this;\n\n        var model = this.model;\n        var labels = model.get('labels') || [];\n        var canLabelMove = this.can('labelMove');\n\n        var builtinDefaultLabel = model._builtins.defaultLabel;\n        var builtinDefaultLabelAttrs = builtinDefaultLabel.attrs;\n\n        var defaultLabel = model._getDefaultLabel();\n        var defaultLabelMarkup = defaultLabel.markup;\n        var defaultLabelAttrs = defaultLabel.attrs;\n        var defaultLabelSize = defaultLabel.size;\n\n        for (var i = 0, n = labels.length; i < n; i++) {\n\n            var labelNode = this._labelCache[i];\n            labelNode.setAttribute('cursor', (canLabelMove ? 'move' : 'default'));\n\n            var selectors = this._labelSelectors[i];\n\n            var label = labels[i];\n            var labelMarkup = label.markup;\n            var labelAttrs = label.attrs;\n            var labelSize = label.size;\n\n            var attrs = this._mergeLabelAttrs(\n                (labelMarkup || defaultLabelMarkup),\n                labelAttrs,\n                defaultLabelAttrs,\n                builtinDefaultLabelAttrs\n            );\n\n            var size = this._mergeLabelSize(\n                labelSize,\n                defaultLabelSize\n            );\n\n            this.updateDOMSubtreeAttributes(labelNode, attrs, {\n                rootBBox: new Rect(size),\n                selectors: selectors\n            });\n        }\n\n        return this;\n    },\n\n    renderTools: function() {\n\n        if (!this._V.linkTools) return this;\n\n        // Tools are a group of clickable elements that manipulate the whole link.\n        // A good example of this is the remove tool that removes the whole link.\n        // Tools appear after hovering the link close to the `source` element/point of the link\n        // but are offset a bit so that they don't cover the `marker-arrowhead`.\n\n        var $tools = $(this._V.linkTools.node).empty();\n        var toolTemplate = template(this.model.get('toolMarkup') || this.model.toolMarkup);\n        var tool = V(toolTemplate());\n\n        $tools.append(tool.node);\n\n        // Cache the tool node so that the `updateToolsPosition()` can update the tool position quickly.\n        this._toolCache = tool;\n\n        // If `doubleLinkTools` is enabled, we render copy of the tools on the other side of the\n        // link as well but only if the link is longer than `longLinkLength`.\n        if (this.options.doubleLinkTools) {\n\n            var tool2;\n            if (this.model.get('doubleToolMarkup') || this.model.doubleToolMarkup) {\n                toolTemplate = template(this.model.get('doubleToolMarkup') || this.model.doubleToolMarkup);\n                tool2 = V(toolTemplate());\n            } else {\n                tool2 = tool.clone();\n            }\n\n            $tools.append(tool2.node);\n            this._tool2Cache = tool2;\n        }\n\n        return this;\n    },\n\n    renderVertexMarkers: function() {\n\n        if (!this._V.markerVertices) return this;\n\n        var $markerVertices = $(this._V.markerVertices.node).empty();\n\n        // A special markup can be given in the `properties.vertexMarkup` property. This might be handy\n        // if default styling (elements) are not desired. This makes it possible to use any\n        // SVG elements for .marker-vertex and .marker-vertex-remove tools.\n        var markupTemplate = template(this.model.get('vertexMarkup') || this.model.vertexMarkup);\n\n        this.model.vertices().forEach(function(vertex, idx) {\n            $markerVertices.append(V(markupTemplate(assign({ idx: idx }, vertex))).node);\n        });\n\n        return this;\n    },\n\n    renderArrowheadMarkers: function() {\n\n        // Custom markups might not have arrowhead markers. Therefore, jump of this function immediately if that's the case.\n        if (!this._V.markerArrowheads) return this;\n\n        var $markerArrowheads = $(this._V.markerArrowheads.node);\n\n        $markerArrowheads.empty();\n\n        // A special markup can be given in the `properties.vertexMarkup` property. This might be handy\n        // if default styling (elements) are not desired. This makes it possible to use any\n        // SVG elements for .marker-vertex and .marker-vertex-remove tools.\n        var markupTemplate = template(this.model.get('arrowheadMarkup') || this.model.arrowheadMarkup);\n\n        this._V.sourceArrowhead = V(markupTemplate({ end: 'source' }));\n        this._V.targetArrowhead = V(markupTemplate({ end: 'target' }));\n\n        $markerArrowheads.append(this._V.sourceArrowhead.node, this._V.targetArrowhead.node);\n\n        return this;\n    },\n\n    // remove vertices that lie on (or nearly on) straight lines within the link\n    // return the number of removed points\n    removeRedundantLinearVertices: function(opt) {\n\n        const SIMPLIFY_THRESHOLD = 0.001;\n\n        const link = this.model;\n        const vertices = link.vertices();\n        const routePoints = [this.sourceAnchor, ...vertices, this.targetAnchor];\n        const numRoutePoints = routePoints.length;\n\n        // put routePoints into a polyline and try to simplify\n        const polyline = new Polyline(routePoints);\n        polyline.simplify({ threshold: SIMPLIFY_THRESHOLD });\n        const polylinePoints = polyline.points.map((point) => (point.toJSON())); // JSON of points after simplification\n        const numPolylinePoints = polylinePoints.length; // number of points after simplification\n\n        // shortcut if simplification did not remove any redundant vertices:\n        if (numRoutePoints === numPolylinePoints) return 0;\n\n        // else: set simplified polyline points as link vertices\n        // remove first and last polyline points again (= source/target anchors)\n        link.vertices(polylinePoints.slice(1, numPolylinePoints - 1), opt);\n        return (numRoutePoints - numPolylinePoints);\n    },\n\n    updateDefaultConnectionPath: function() {\n\n        var cache = this._V;\n\n        if (cache.connection) {\n            cache.connection.attr('d', this.getSerializedConnection());\n        }\n\n        if (cache.connectionWrap) {\n            cache.connectionWrap.attr('d', this.getSerializedConnection());\n        }\n\n        if (cache.markerSource && cache.markerTarget) {\n            this._translateAndAutoOrientArrows(cache.markerSource, cache.markerTarget);\n        }\n    },\n\n    getEndView: function(type) {\n        switch (type) {\n            case 'source':\n                return this.sourceView || null;\n            case 'target':\n                return this.targetView || null;\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n    },\n\n    getEndAnchor: function(type) {\n        switch (type) {\n            case 'source':\n                return new Point(this.sourceAnchor);\n            case 'target':\n                return new Point(this.targetAnchor);\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n    },\n\n    getEndConnectionPoint: function(type) {\n        switch (type) {\n            case 'source':\n                return new Point(this.sourcePoint);\n            case 'target':\n                return new Point(this.targetPoint);\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n    },\n\n    getEndMagnet: function(type) {\n        switch (type) {\n            case 'source':\n                var sourceView = this.sourceView;\n                if (!sourceView) break;\n                return this.sourceMagnet || sourceView.el;\n            case 'target':\n                var targetView = this.targetView;\n                if (!targetView) break;\n                return this.targetMagnet || targetView.el;\n            default:\n                throw new Error('dia.LinkView: type parameter required.');\n        }\n        return null;\n    },\n\n\n    // Updating.\n    // ---------\n\n    update: function() {\n        this.updateRoute();\n        this.updatePath();\n        this.updateDOM();\n        return this;\n    },\n\n    translate: function(tx = 0, ty = 0) {\n        const { route, path } = this;\n        if (!route || !path) return;\n        // translate the route\n        const polyline = new Polyline(route);\n        polyline.translate(tx, ty);\n        this.route = polyline.points;\n        // translate source and target connection and marker points.\n        this._translateConnectionPoints(tx, ty);\n        // translate the geometry path\n        path.translate(tx, ty);\n        this.updateDOM();\n    },\n\n    updateDOM() {\n        const { el, model, selectors } = this;\n        this.cleanNodesCache();\n        // update SVG attributes defined by 'attrs/'.\n        this.updateDOMSubtreeAttributes(el, model.attr(), { selectors });\n        // legacy link path update\n        this.updateDefaultConnectionPath();\n        // update the label position etc.\n        this.updateLabelPositions();\n        this.updateToolsPosition();\n        this.updateArrowheadMarkers();\n        // *Deprecated*\n        // Local perpendicular flag (as opposed to one defined on paper).\n        // Could be enabled inside a connector/router. It's valid only\n        // during the update execution.\n        this.options.perpendicular = null;\n    },\n\n    updateRoute: function() {\n        const { model } = this;\n        const vertices = model.vertices();\n        // 1. Find Anchors\n        const anchors = this.findAnchors(vertices);\n        const sourceAnchor = this.sourceAnchor = anchors.source;\n        const targetAnchor = this.targetAnchor = anchors.target;\n        // 2. Find Route\n        const route = this.findRoute(vertices);\n        this.route = route;\n        // 3. Find Connection Points\n        var connectionPoints = this.findConnectionPoints(route, sourceAnchor, targetAnchor);\n        this.sourcePoint = connectionPoints.source;\n        this.targetPoint = connectionPoints.target;\n    },\n\n    updatePath: function() {\n        const { route, sourcePoint, targetPoint } = this;\n        // 3b. Find Marker Connection Point - Backwards Compatibility\n        const markerPoints = this.findMarkerPoints(route, sourcePoint, targetPoint);\n        // 4. Find Connection\n        const path = this.findPath(route, markerPoints.source || sourcePoint, markerPoints.target || targetPoint);\n        this.path = path;\n    },\n\n    findMarkerPoints: function(route, sourcePoint, targetPoint) {\n\n        var firstWaypoint = route[0];\n        var lastWaypoint = route[route.length - 1];\n\n        // Move the source point by the width of the marker taking into account\n        // its scale around x-axis. Note that scale is the only transform that\n        // makes sense to be set in `.marker-source` attributes object\n        // as all other transforms (translate/rotate) will be replaced\n        // by the `translateAndAutoOrient()` function.\n        var cache = this._markerCache;\n        // cache source and target points\n        var sourceMarkerPoint, targetMarkerPoint;\n\n        if (this._V.markerSource) {\n\n            cache.sourceBBox = cache.sourceBBox || this._V.markerSource.getBBox();\n            sourceMarkerPoint = Point(sourcePoint).move(\n                firstWaypoint || targetPoint,\n                cache.sourceBBox.width * this._V.markerSource.scale().sx * -1\n            ).round();\n        }\n\n        if (this._V.markerTarget) {\n\n            cache.targetBBox = cache.targetBBox || this._V.markerTarget.getBBox();\n            targetMarkerPoint = Point(targetPoint).move(\n                lastWaypoint || sourcePoint,\n                cache.targetBBox.width * this._V.markerTarget.scale().sx * -1\n            ).round();\n        }\n\n        // if there was no markup for the marker, use the connection point.\n        cache.sourcePoint = sourceMarkerPoint || sourcePoint.clone();\n        cache.targetPoint = targetMarkerPoint || targetPoint.clone();\n\n        return {\n            source: sourceMarkerPoint,\n            target: targetMarkerPoint\n        };\n    },\n\n    findAnchorsOrdered: function(firstEndType, firstRef, secondEndType, secondRef) {\n\n        var firstAnchor, secondAnchor;\n        var firstAnchorRef, secondAnchorRef;\n        var model = this.model;\n        var firstDef = model.get(firstEndType);\n        var secondDef = model.get(secondEndType);\n        var firstView = this.getEndView(firstEndType);\n        var secondView = this.getEndView(secondEndType);\n        var firstMagnet = this.getEndMagnet(firstEndType);\n        var secondMagnet = this.getEndMagnet(secondEndType);\n\n        // Anchor first\n        if (firstView) {\n            if (firstRef) {\n                firstAnchorRef = new Point(firstRef);\n            } else if (secondView) {\n                firstAnchorRef = secondMagnet;\n            } else {\n                firstAnchorRef = new Point(secondDef);\n            }\n            firstAnchor = this.getAnchor(firstDef.anchor, firstView, firstMagnet, firstAnchorRef, firstEndType);\n        } else {\n            firstAnchor = new Point(firstDef);\n        }\n\n        // Anchor second\n        if (secondView) {\n            secondAnchorRef = new Point(secondRef || firstAnchor);\n            secondAnchor = this.getAnchor(secondDef.anchor, secondView, secondMagnet, secondAnchorRef, secondEndType);\n        } else {\n            secondAnchor = new Point(secondDef);\n        }\n\n        var res = {};\n        res[firstEndType] = firstAnchor;\n        res[secondEndType] = secondAnchor;\n        return res;\n    },\n\n    findAnchors: function(vertices) {\n\n        var model = this.model;\n        var firstVertex = vertices[0];\n        var lastVertex = vertices[vertices.length - 1];\n\n        if (model.target().priority && !model.source().priority) {\n            // Reversed order\n            return this.findAnchorsOrdered('target', lastVertex, 'source', firstVertex);\n        }\n\n        // Usual order\n        return this.findAnchorsOrdered('source', firstVertex, 'target', lastVertex);\n    },\n\n    findConnectionPoints: function(route, sourceAnchor, targetAnchor) {\n\n        var firstWaypoint = route[0];\n        var lastWaypoint = route[route.length - 1];\n        var model = this.model;\n        var sourceDef = model.get('source');\n        var targetDef = model.get('target');\n        var sourceView = this.sourceView;\n        var targetView = this.targetView;\n        var paperOptions = this.paper.options;\n        var sourceMagnet, targetMagnet;\n\n        // Connection Point Source\n        var sourcePoint;\n        if (sourceView && !sourceView.isNodeConnection(this.sourceMagnet)) {\n            sourceMagnet = (this.sourceMagnet || sourceView.el);\n            var sourceConnectionPointDef = sourceDef.connectionPoint || paperOptions.defaultConnectionPoint;\n            var sourcePointRef = firstWaypoint || targetAnchor;\n            var sourceLine = new Line(sourcePointRef, sourceAnchor);\n            sourcePoint = this.getConnectionPoint(\n                sourceConnectionPointDef,\n                sourceView,\n                sourceMagnet,\n                sourceLine,\n                'source'\n            );\n        } else {\n            sourcePoint = sourceAnchor;\n        }\n        // Connection Point Target\n        var targetPoint;\n        if (targetView && !targetView.isNodeConnection(this.targetMagnet)) {\n            targetMagnet = (this.targetMagnet || targetView.el);\n            var targetConnectionPointDef = targetDef.connectionPoint || paperOptions.defaultConnectionPoint;\n            var targetPointRef = lastWaypoint || sourceAnchor;\n            var targetLine = new Line(targetPointRef, targetAnchor);\n            targetPoint = this.getConnectionPoint(\n                targetConnectionPointDef,\n                targetView,\n                targetMagnet,\n                targetLine,\n                'target'\n            );\n        } else {\n            targetPoint = targetAnchor;\n        }\n\n        return {\n            source: sourcePoint,\n            target: targetPoint\n        };\n    },\n\n    getAnchor: function(anchorDef, cellView, magnet, ref, endType) {\n\n        var isConnection = cellView.isNodeConnection(magnet);\n        var paperOptions = this.paper.options;\n        if (!anchorDef) {\n            if (isConnection) {\n                anchorDef = paperOptions.defaultLinkAnchor;\n            } else {\n                if (paperOptions.perpendicularLinks || this.options.perpendicular) {\n                    // Backwards compatibility\n                    // If `perpendicularLinks` flag is set on the paper and there are vertices\n                    // on the link, then try to find a connection point that makes the link perpendicular\n                    // even though the link won't point to the center of the targeted object.\n                    anchorDef = { name: 'perpendicular' };\n                } else {\n                    anchorDef = paperOptions.defaultAnchor;\n                }\n            }\n        }\n\n        if (!anchorDef) throw new Error('Anchor required.');\n        var anchorFn;\n        if (typeof anchorDef === 'function') {\n            anchorFn = anchorDef;\n        } else {\n            var anchorName = anchorDef.name;\n            var anchorNamespace = isConnection ? 'linkAnchorNamespace' : 'anchorNamespace';\n            anchorFn = paperOptions[anchorNamespace][anchorName];\n            if (typeof anchorFn !== 'function') throw new Error('Unknown anchor: ' + anchorName);\n        }\n        var anchor = anchorFn.call(\n            this,\n            cellView,\n            magnet,\n            ref,\n            anchorDef.args || {},\n            endType,\n            this\n        );\n        if (!anchor) return new Point();\n        return anchor.round(this.decimalsRounding);\n    },\n\n\n    getConnectionPoint: function(connectionPointDef, view, magnet, line, endType) {\n\n        var connectionPoint;\n        var anchor = line.end;\n        var paperOptions = this.paper.options;\n\n        // Backwards compatibility\n        if (typeof paperOptions.linkConnectionPoint === 'function') {\n            var linkConnectionMagnet = (magnet === view.el) ? undefined : magnet;\n            connectionPoint = paperOptions.linkConnectionPoint(this, view, linkConnectionMagnet, line.start, endType);\n            if (connectionPoint) return connectionPoint;\n        }\n\n        if (!connectionPointDef) return anchor;\n        var connectionPointFn;\n        if (typeof connectionPointDef === 'function') {\n            connectionPointFn = connectionPointDef;\n        } else {\n            var connectionPointName = connectionPointDef.name;\n            connectionPointFn = paperOptions.connectionPointNamespace[connectionPointName];\n            if (typeof connectionPointFn !== 'function') throw new Error('Unknown connection point: ' + connectionPointName);\n        }\n        connectionPoint = connectionPointFn.call(this, line, view, magnet, connectionPointDef.args || {}, endType, this);\n        if (!connectionPoint) return anchor;\n        return connectionPoint.round(this.decimalsRounding);\n    },\n\n    _translateConnectionPoints: function(tx, ty) {\n\n        var cache = this._markerCache;\n\n        cache.sourcePoint.offset(tx, ty);\n        cache.targetPoint.offset(tx, ty);\n        this.sourcePoint.offset(tx, ty);\n        this.targetPoint.offset(tx, ty);\n        this.sourceAnchor.offset(tx, ty);\n        this.targetAnchor.offset(tx, ty);\n    },\n\n    // combine default label position with built-in default label position\n    _getDefaultLabelPositionProperty: function() {\n\n        var model = this.model;\n\n        var builtinDefaultLabel = model._builtins.defaultLabel;\n        var builtinDefaultLabelPosition = builtinDefaultLabel.position;\n\n        var defaultLabel = model._getDefaultLabel();\n        var defaultLabelPosition = this._normalizeLabelPosition(defaultLabel.position);\n\n        return merge({}, builtinDefaultLabelPosition, defaultLabelPosition);\n    },\n\n    // if label position is a number, normalize it to a position object\n    // this makes sure that label positions can be merged properly\n    _normalizeLabelPosition: function(labelPosition) {\n\n        if (typeof labelPosition === 'number') return { distance: labelPosition, offset: null, angle: 0, args: null };\n        return labelPosition;\n    },\n\n    // expects normalized position properties\n    // e.g. `this._normalizeLabelPosition(labelPosition)` and `this._getDefaultLabelPositionProperty()`\n    _mergeLabelPositionProperty: function(normalizedLabelPosition, normalizedDefaultLabelPosition) {\n\n        if (normalizedLabelPosition === null) return null;\n        if (normalizedLabelPosition === undefined) {\n\n            if (normalizedDefaultLabelPosition === null) return null;\n            return normalizedDefaultLabelPosition;\n        }\n\n        return merge({}, normalizedDefaultLabelPosition, normalizedLabelPosition);\n    },\n\n    updateLabelPositions: function() {\n\n        if (!this._V.labels) return this;\n\n        var path = this.path;\n        if (!path) return this;\n\n        // This method assumes all the label nodes are stored in the `this._labelCache` hash table\n        // by their indices in the `this.get('labels')` array. This is done in the `renderLabels()` method.\n\n        var model = this.model;\n        var labels = model.get('labels') || [];\n        if (!labels.length) return this;\n\n        var defaultLabelPosition = this._getDefaultLabelPositionProperty();\n\n        for (var idx = 0, n = labels.length; idx < n; idx++) {\n            var labelNode = this._labelCache[idx];\n            if (!labelNode) continue;\n            var label = labels[idx];\n            var labelPosition = this._normalizeLabelPosition(label.position);\n            var position = this._mergeLabelPositionProperty(labelPosition, defaultLabelPosition);\n            var transformationMatrix = this._getLabelTransformationMatrix(position);\n            labelNode.setAttribute('transform', V.matrixToTransformString(transformationMatrix));\n            this._cleanLabelMatrices(idx);\n        }\n\n        return this;\n    },\n\n    _cleanLabelMatrices: function(index) {\n        // Clean magnetMatrix for all nodes of the label.\n        // Cached BoundingRect does not need to updated when the position changes\n        // TODO: this doesn't work for labels with XML String markups.\n        const { metrics, _labelSelectors } = this;\n        const selectors = _labelSelectors[index];\n        if (!selectors) return;\n        for (let selector in selectors) {\n            const { id } = selectors[selector];\n            if (id && (id in metrics)) delete metrics[id].magnetMatrix;\n        }\n    },\n\n    updateToolsPosition: function() {\n\n        if (!this._V.linkTools) return this;\n\n        // Move the tools a bit to the target position but don't cover the `sourceArrowhead` marker.\n        // Note that the offset is hardcoded here. The offset should be always\n        // more than the `this.$('.marker-arrowhead[end=\"source\"]')[0].bbox().width` but looking\n        // this up all the time would be slow.\n\n        var scale = '';\n        var offset = this.options.linkToolsOffset;\n        var connectionLength = this.getConnectionLength();\n\n        // Firefox returns connectionLength=NaN in odd cases (for bezier curves).\n        // In that case we won't update tools position at all.\n        if (!Number.isNaN(connectionLength)) {\n\n            // If the link is too short, make the tools half the size and the offset twice as low.\n            if (connectionLength < this.options.shortLinkLength) {\n                scale = 'scale(.5)';\n                offset /= 2;\n            }\n\n            var toolPosition = this.getPointAtLength(offset);\n\n            this._toolCache.attr('transform', 'translate(' + toolPosition.x + ', ' + toolPosition.y + ') ' + scale);\n\n            if (this.options.doubleLinkTools && connectionLength >= this.options.longLinkLength) {\n\n                var doubleLinkToolsOffset = this.options.doubleLinkToolsOffset || offset;\n\n                toolPosition = this.getPointAtLength(connectionLength - doubleLinkToolsOffset);\n                this._tool2Cache.attr('transform', 'translate(' + toolPosition.x + ', ' + toolPosition.y + ') ' + scale);\n                this._tool2Cache.attr('display', 'inline');\n\n            } else if (this.options.doubleLinkTools) {\n\n                this._tool2Cache.attr('display', 'none');\n            }\n        }\n\n        return this;\n    },\n\n    updateArrowheadMarkers: function() {\n\n        if (!this._V.markerArrowheads) return this;\n\n        // getting bbox of an element with `display=\"none\"` in IE9 ends up with access violation\n        if ($.css(this._V.markerArrowheads.node, 'display') === 'none') return this;\n\n        var sx = this.getConnectionLength() < this.options.shortLinkLength ? .5 : 1;\n        this._V.sourceArrowhead.scale(sx);\n        this._V.targetArrowhead.scale(sx);\n\n        this._translateAndAutoOrientArrows(this._V.sourceArrowhead, this._V.targetArrowhead);\n\n        return this;\n    },\n\n    updateEndProperties: function(endType) {\n\n        const { model, paper } = this;\n        const endViewProperty = `${endType}View`;\n        const endDef = model.get(endType);\n        const endId = endDef && endDef.id;\n\n        if (!endId) {\n            // the link end is a point ~ rect 0x0\n            this[endViewProperty] = null;\n            this.updateEndMagnet(endType);\n            return true;\n        }\n\n        const endModel = paper.getModelById(endId);\n        if (!endModel) throw new Error('LinkView: invalid ' + endType + ' cell.');\n\n        const endView = endModel.findView(paper);\n        if (!endView) {\n            // A view for a model should always exist\n            return false;\n        }\n\n        this[endViewProperty] = endView;\n        this.updateEndMagnet(endType);\n        return true;\n    },\n\n    updateEndMagnet: function(endType) {\n\n        const endMagnetProperty = `${endType}Magnet`;\n        const endView = this.getEndView(endType);\n        if (endView) {\n            let connectedMagnet = endView.getMagnetFromLinkEnd(this.model.get(endType));\n            if (connectedMagnet === endView.el) connectedMagnet = null;\n            this[endMagnetProperty] = connectedMagnet;\n        } else {\n            this[endMagnetProperty] = null;\n        }\n    },\n\n    _translateAndAutoOrientArrows: function(sourceArrow, targetArrow) {\n\n        // Make the markers \"point\" to their sticky points being auto-oriented towards\n        // `targetPosition`/`sourcePosition`. And do so only if there is a markup for them.\n        var route = toArray(this.route);\n        if (sourceArrow) {\n            sourceArrow.translateAndAutoOrient(\n                this.sourcePoint,\n                route[0] || this.targetPoint,\n                this.paper.cells\n            );\n        }\n\n        if (targetArrow) {\n            targetArrow.translateAndAutoOrient(\n                this.targetPoint,\n                route[route.length - 1] || this.sourcePoint,\n                this.paper.cells\n            );\n        }\n    },\n\n    _getLabelPositionProperty: function(idx) {\n\n        return (this.model.label(idx).position || {});\n    },\n\n    _getLabelPositionAngle: function(idx) {\n\n        var labelPosition = this._getLabelPositionProperty(idx);\n        return (labelPosition.angle || 0);\n    },\n\n    _getLabelPositionArgs: function(idx) {\n\n        var labelPosition = this._getLabelPositionProperty(idx);\n        return labelPosition.args;\n    },\n\n    _getDefaultLabelPositionArgs: function() {\n\n        var defaultLabel = this.model._getDefaultLabel();\n        var defaultLabelPosition = defaultLabel.position || {};\n        return defaultLabelPosition.args;\n    },\n\n    // merge default label position args into label position args\n    // keep `undefined` or `null` because `{}` means something else\n    _mergeLabelPositionArgs: function(labelPositionArgs, defaultLabelPositionArgs) {\n\n        if (labelPositionArgs === null) return null;\n        if (labelPositionArgs === undefined) {\n\n            if (defaultLabelPositionArgs === null) return null;\n            return defaultLabelPositionArgs;\n        }\n\n        return merge({}, defaultLabelPositionArgs, labelPositionArgs);\n    },\n\n    // Add default label at given position at end of `labels` array.\n    // Four signatures:\n    // - obj, obj = point, opt\n    // - obj, num, obj = point, angle, opt\n    // - num, num, obj = x, y, opt\n    // - num, num, num, obj = x, y, angle, opt\n    // Assigns relative coordinates by default:\n    // `opt.absoluteDistance` forces absolute coordinates.\n    // `opt.reverseDistance` forces reverse absolute coordinates (if absoluteDistance = true).\n    // `opt.absoluteOffset` forces absolute coordinates for offset.\n    // Additional args:\n    // `opt.keepGradient` auto-adjusts the angle of the label to match path gradient at position.\n    // `opt.ensureLegibility` rotates labels so they are never upside-down.\n    addLabel: function(p1, p2, p3, p4) {\n\n        // normalize data from the four possible signatures\n        var localX;\n        var localY;\n        var localAngle = 0;\n        var localOpt;\n        if (typeof p1 !== 'number') {\n            // {x, y} object provided as first parameter\n            localX = p1.x;\n            localY = p1.y;\n            if (typeof p2 === 'number') {\n                // angle and opt provided as second and third parameters\n                localAngle = p2;\n                localOpt = p3;\n            } else {\n                // opt provided as second parameter\n                localOpt = p2;\n            }\n        } else {\n            // x and y provided as first and second parameters\n            localX = p1;\n            localY = p2;\n            if (typeof p3 === 'number') {\n                // angle and opt provided as third and fourth parameters\n                localAngle = p3;\n                localOpt = p4;\n            } else {\n                // opt provided as third parameter\n                localOpt = p3;\n            }\n        }\n\n        // merge label position arguments\n        var defaultLabelPositionArgs = this._getDefaultLabelPositionArgs();\n        var labelPositionArgs = localOpt;\n        var positionArgs = this._mergeLabelPositionArgs(labelPositionArgs, defaultLabelPositionArgs);\n\n        // append label to labels array\n        var label = { position: this.getLabelPosition(localX, localY, localAngle, positionArgs) };\n        var idx = -1;\n        this.model.insertLabel(idx, label, localOpt);\n        return idx;\n    },\n\n    // Add a new vertex at calculated index to the `vertices` array.\n    addVertex: function(x, y, opt) {\n\n        // accept input in form `{ x, y }, opt` or `x, y, opt`\n        var isPointProvided = (typeof x !== 'number');\n        var localX = isPointProvided ? x.x : x;\n        var localY = isPointProvided ? x.y : y;\n        var localOpt = isPointProvided ? y : opt;\n\n        var vertex = { x: localX, y: localY };\n        var idx = this.getVertexIndex(localX, localY);\n        this.model.insertVertex(idx, vertex, localOpt);\n        return idx;\n    },\n\n    // Send a token (an SVG element, usually a circle) along the connection path.\n    // Example: `link.findView(paper).sendToken(V('circle', { r: 7, fill: 'green' }).node)`\n    // `opt.duration` is optional and is a time in milliseconds that the token travels from the source to the target of the link. Default is `1000`.\n    // `opt.directon` is optional and it determines whether the token goes from source to target or other way round (`reverse`)\n    // `opt.connection` is an optional selector to the connection path.\n    // `callback` is optional and is a function to be called once the token reaches the target.\n    sendToken: function(token, opt, callback) {\n\n        function onAnimationEnd(vToken, callback) {\n            return function() {\n                vToken.remove();\n                if (typeof callback === 'function') {\n                    callback();\n                }\n            };\n        }\n\n        var duration, isReversed, selector;\n        if (isObject(opt)) {\n            duration = opt.duration;\n            isReversed = (opt.direction === 'reverse');\n            selector = opt.connection;\n        } else {\n            // Backwards compatibility\n            duration = opt;\n            isReversed = false;\n            selector = null;\n        }\n\n        duration = duration || 1000;\n\n        var animationAttributes = {\n            dur: duration + 'ms',\n            repeatCount: 1,\n            calcMode: 'linear',\n            fill: 'freeze'\n        };\n\n        if (isReversed) {\n            animationAttributes.keyPoints = '1;0';\n            animationAttributes.keyTimes = '0;1';\n        }\n\n        var vToken = V(token);\n        var connection;\n        if (typeof selector === 'string') {\n            // Use custom connection path.\n            connection = this.findBySelector(selector, this.el, this.selectors)[0];\n        } else {\n            // Select connection path automatically.\n            var cache = this._V;\n            connection = (cache.connection) ? cache.connection.node : this.el.querySelector('path');\n        }\n\n        if (!(connection instanceof SVGPathElement)) {\n            throw new Error('dia.LinkView: token animation requires a valid connection path.');\n        }\n\n        vToken\n            .appendTo(this.paper.cells)\n            .animateAlongPath(animationAttributes, connection);\n\n        setTimeout(onAnimationEnd(vToken, callback), duration);\n    },\n\n    findRoute: function(vertices) {\n\n        vertices || (vertices = []);\n\n        var namespace = this.paper.options.routerNamespace || routers;\n        var router = this.model.router();\n        var defaultRouter = this.paper.options.defaultRouter;\n\n        if (!router) {\n            if (defaultRouter) router = defaultRouter;\n            else return vertices.map(Point); // no router specified\n        }\n\n        var routerFn = isFunction(router) ? router : namespace[router.name];\n        if (!isFunction(routerFn)) {\n            throw new Error('dia.LinkView: unknown router: \"' + router.name + '\".');\n        }\n\n        var args = router.args || {};\n\n        var route = routerFn.call(\n            this, // context\n            vertices, // vertices\n            args, // options\n            this // linkView\n        );\n\n        if (!route) return vertices.map(Point);\n        return route;\n    },\n\n    // Return the `d` attribute value of the `<path>` element representing the link\n    // between `source` and `target`.\n    findPath: function(route, sourcePoint, targetPoint) {\n\n        var namespace = this.paper.options.connectorNamespace || connectors;\n        var connector = this.model.connector();\n        var defaultConnector = this.paper.options.defaultConnector;\n\n        if (!connector) {\n            connector = defaultConnector || {};\n        }\n\n        var connectorFn = isFunction(connector) ? connector : namespace[connector.name];\n        if (!isFunction(connectorFn)) {\n            throw new Error('dia.LinkView: unknown connector: \"' + connector.name + '\".');\n        }\n\n        var args = clone(connector.args || {});\n        args.raw = true; // Request raw g.Path as the result.\n\n        var path = connectorFn.call(\n            this, // context\n            sourcePoint, // start point\n            targetPoint, // end point\n            route, // vertices\n            args, // options\n            this // linkView\n        );\n\n        if (typeof path === 'string') {\n            // Backwards compatibility for connectors not supporting `raw` option.\n            path = new Path(V.normalizePathData(path));\n        }\n\n        return path;\n    },\n\n    // Public API.\n    // -----------\n\n    getConnection: function() {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.clone();\n    },\n\n    getSerializedConnection: function() {\n\n        var path = this.path;\n        if (!path) return null;\n\n        var metrics = this.metrics;\n        if (metrics.hasOwnProperty('data')) return metrics.data;\n        var data = path.serialize();\n        metrics.data = data;\n        return data;\n    },\n\n    getConnectionSubdivisions: function() {\n\n        var path = this.path;\n        if (!path) return null;\n\n        var metrics = this.metrics;\n        if (metrics.hasOwnProperty('segmentSubdivisions')) return metrics.segmentSubdivisions;\n        var subdivisions = path.getSegmentSubdivisions();\n        metrics.segmentSubdivisions = subdivisions;\n        return subdivisions;\n    },\n\n    getConnectionLength: function() {\n\n        var path = this.path;\n        if (!path) return 0;\n\n        var metrics = this.metrics;\n        if (metrics.hasOwnProperty('length')) return metrics.length;\n        var length = path.length({ segmentSubdivisions: this.getConnectionSubdivisions() });\n        metrics.length = length;\n        return length;\n    },\n\n    getPointAtLength: function(length) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.pointAtLength(length, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getPointAtRatio: function(ratio) {\n\n        var path = this.path;\n        if (!path) return null;\n        if (isPercentage(ratio)) ratio = parseFloat(ratio) / 100;\n        return path.pointAt(ratio, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getTangentAtLength: function(length) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.tangentAtLength(length, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getTangentAtRatio: function(ratio) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.tangentAt(ratio, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getClosestPoint: function(point) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.closestPoint(point, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getClosestPointLength: function(point) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.closestPointLength(point, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    getClosestPointRatio: function(point) {\n\n        var path = this.path;\n        if (!path) return null;\n\n        return path.closestPointNormalizedLength(point, { segmentSubdivisions: this.getConnectionSubdivisions() });\n    },\n\n    // Get label position object based on two provided coordinates, x and y.\n    // (Used behind the scenes when user moves labels around.)\n    // Two signatures:\n    // - num, num, obj = x, y, options\n    // - num, num, num, obj = x, y, angle, options\n    // Accepts distance/offset options = `absoluteDistance: boolean`, `reverseDistance: boolean`, `absoluteOffset: boolean`\n    // - `absoluteOffset` is necessary in order to move beyond connection endpoints\n    // Additional options = `keepGradient: boolean`, `ensureLegibility: boolean`\n    getLabelPosition: function(x, y, p3, p4) {\n\n        var position = {};\n\n        // normalize data from the two possible signatures\n        var localAngle = 0;\n        var localOpt;\n        if (typeof p3 === 'number') {\n            // angle and opt provided as third and fourth argument\n            localAngle = p3;\n            localOpt = p4;\n        } else {\n            // opt provided as third argument\n            localOpt = p3;\n        }\n\n        // save localOpt as `args` of the position object that is passed along\n        if (localOpt) position.args = localOpt;\n\n        // identify distance/offset settings\n        var isDistanceRelative = !(localOpt && localOpt.absoluteDistance); // relative by default\n        var isDistanceAbsoluteReverse = (localOpt && localOpt.absoluteDistance && localOpt.reverseDistance); // non-reverse by default\n        var isOffsetAbsolute = localOpt && localOpt.absoluteOffset; // offset is non-absolute by default\n\n        // find closest point t\n        var path = this.path;\n        var pathOpt = { segmentSubdivisions: this.getConnectionSubdivisions() };\n        var labelPoint = new Point(x, y);\n        var t = path.closestPointT(labelPoint, pathOpt);\n\n        // DISTANCE:\n        var labelDistance = path.lengthAtT(t, pathOpt);\n        if (isDistanceRelative) labelDistance = (labelDistance / this.getConnectionLength()) || 0; // fix to prevent NaN for 0 length\n        if (isDistanceAbsoluteReverse) labelDistance = (-1 * (this.getConnectionLength() - labelDistance)) || 1; // fix for end point (-0 => 1)\n        position.distance = labelDistance;\n\n        // OFFSET:\n        // use absolute offset if:\n        // - opt.absoluteOffset is true,\n        // - opt.absoluteOffset is not true but there is no tangent\n        var tangent;\n        if (!isOffsetAbsolute) tangent = path.tangentAtT(t);\n        var labelOffset;\n        if (tangent) {\n            labelOffset = tangent.pointOffset(labelPoint);\n        } else {\n            var closestPoint = path.pointAtT(t);\n            var labelOffsetDiff = labelPoint.difference(closestPoint);\n            labelOffset = { x: labelOffsetDiff.x, y: labelOffsetDiff.y };\n        }\n        position.offset = labelOffset;\n\n        // ANGLE:\n        position.angle = localAngle;\n\n        return position;\n    },\n\n    _getLabelTransformationMatrix: function(labelPosition) {\n\n        var labelDistance;\n        var labelAngle = 0;\n        var args = {};\n        if (typeof labelPosition === 'number') {\n            labelDistance = labelPosition;\n        } else if (typeof labelPosition.distance === 'number') {\n            args = labelPosition.args || {};\n            labelDistance = labelPosition.distance;\n            labelAngle = labelPosition.angle || 0;\n        } else {\n            throw new Error('dia.LinkView: invalid label position distance.');\n        }\n\n        var isDistanceRelative = ((labelDistance > 0) && (labelDistance <= 1));\n\n        var labelOffset = 0;\n        var labelOffsetCoordinates = { x: 0, y: 0 };\n        if (labelPosition.offset) {\n            var positionOffset = labelPosition.offset;\n            if (typeof positionOffset === 'number') labelOffset = positionOffset;\n            if (positionOffset.x) labelOffsetCoordinates.x = positionOffset.x;\n            if (positionOffset.y) labelOffsetCoordinates.y = positionOffset.y;\n        }\n\n        var isOffsetAbsolute = ((labelOffsetCoordinates.x !== 0) || (labelOffsetCoordinates.y !== 0) || labelOffset === 0);\n\n        var isKeepGradient = args.keepGradient;\n        var isEnsureLegibility = args.ensureLegibility;\n\n        var path = this.path;\n        var pathOpt = { segmentSubdivisions: this.getConnectionSubdivisions() };\n\n        var distance = isDistanceRelative ? (labelDistance * this.getConnectionLength()) : labelDistance;\n        var tangent = path.tangentAtLength(distance, pathOpt);\n\n        var translation;\n        var angle = labelAngle;\n        if (tangent) {\n            if (isOffsetAbsolute) {\n                translation = tangent.start.clone();\n                translation.offset(labelOffsetCoordinates);\n            } else {\n                var normal = tangent.clone();\n                normal.rotate(tangent.start, -90);\n                normal.setLength(labelOffset);\n                translation = normal.end;\n            }\n\n            if (isKeepGradient) {\n                angle = (tangent.angle() + labelAngle);\n                if (isEnsureLegibility) {\n                    angle = normalizeAngle(((angle + 90) % 180) - 90);\n                }\n            }\n\n        } else {\n            // fallback - the connection has zero length\n            translation = path.start.clone();\n            if (isOffsetAbsolute) translation.offset(labelOffsetCoordinates);\n        }\n\n        return V.createSVGMatrix()\n            .translate(translation.x, translation.y)\n            .rotate(angle);\n    },\n\n    getLabelCoordinates: function(labelPosition) {\n\n        var transformationMatrix = this._getLabelTransformationMatrix(labelPosition);\n        return new Point(transformationMatrix.e, transformationMatrix.f);\n    },\n\n    getVertexIndex: function(x, y) {\n\n        var model = this.model;\n        var vertices = model.vertices();\n\n        var vertexLength = this.getClosestPointLength(new Point(x, y));\n\n        var idx = 0;\n        for (var n = vertices.length; idx < n; idx++) {\n            var currentVertex = vertices[idx];\n            var currentVertexLength = this.getClosestPointLength(currentVertex);\n            if (vertexLength < currentVertexLength) break;\n        }\n\n        return idx;\n    },\n\n    // Interaction. The controller part.\n    // ---------------------------------\n\n    notifyPointerdown(evt, x, y) {\n        CellView.prototype.pointerdown.call(this, evt, x, y);\n        this.notify('link:pointerdown', evt, x, y);\n    },\n\n    notifyPointermove(evt, x, y) {\n        CellView.prototype.pointermove.call(this, evt, x, y);\n        this.notify('link:pointermove', evt, x, y);\n    },\n\n    notifyPointerup(evt, x, y) {\n        this.notify('link:pointerup', evt, x, y);\n        CellView.prototype.pointerup.call(this, evt, x, y);\n    },\n\n    pointerdblclick: function(evt, x, y) {\n\n        CellView.prototype.pointerdblclick.apply(this, arguments);\n        this.notify('link:pointerdblclick', evt, x, y);\n    },\n\n    pointerclick: function(evt, x, y) {\n\n        CellView.prototype.pointerclick.apply(this, arguments);\n        this.notify('link:pointerclick', evt, x, y);\n    },\n\n    contextmenu: function(evt, x, y) {\n\n        CellView.prototype.contextmenu.apply(this, arguments);\n        this.notify('link:contextmenu', evt, x, y);\n    },\n\n    pointerdown: function(evt, x, y) {\n\n        this.notifyPointerdown(evt, x, y);\n\n        // Backwards compatibility for the default markup\n        var className = evt.target.getAttribute('class');\n        switch (className) {\n\n            case 'marker-vertex':\n                this.dragVertexStart(evt, x, y);\n                return;\n\n            case 'marker-vertex-remove':\n            case 'marker-vertex-remove-area':\n                this.dragVertexRemoveStart(evt, x, y);\n                return;\n\n            case 'marker-arrowhead':\n                this.dragArrowheadStart(evt, x, y);\n                return;\n\n            case 'connection':\n            case 'connection-wrap':\n                this.dragConnectionStart(evt, x, y);\n                return;\n\n            case 'marker-source':\n            case 'marker-target':\n                return;\n        }\n\n        this.dragStart(evt, x, y);\n    },\n\n    pointermove: function(evt, x, y) {\n\n        // Backwards compatibility\n        var dragData = this._dragData;\n        if (dragData) this.eventData(evt, dragData);\n\n        var data = this.eventData(evt);\n        switch (data.action) {\n\n            case 'vertex-move':\n                this.dragVertex(evt, x, y);\n                break;\n\n            case 'label-move':\n                this.dragLabel(evt, x, y);\n                break;\n\n            case 'arrowhead-move':\n                this.dragArrowhead(evt, x, y);\n                break;\n\n            case 'move':\n                this.drag(evt, x, y);\n                break;\n        }\n\n        // Backwards compatibility\n        if (dragData) assign(dragData, this.eventData(evt));\n\n        this.notifyPointermove(evt, x, y);\n    },\n\n    pointerup: function(evt, x, y) {\n\n        // Backwards compatibility\n        var dragData = this._dragData;\n        if (dragData) {\n            this.eventData(evt, dragData);\n            this._dragData = null;\n        }\n\n        var data = this.eventData(evt);\n        switch (data.action) {\n\n            case 'vertex-move':\n                this.dragVertexEnd(evt, x, y);\n                break;\n\n            case 'label-move':\n                this.dragLabelEnd(evt, x, y);\n                break;\n\n            case 'arrowhead-move':\n                this.dragArrowheadEnd(evt, x, y);\n                break;\n\n            case 'move':\n                this.dragEnd(evt, x, y);\n        }\n\n        this.notifyPointerup(evt, x, y);\n        this.checkMouseleave(evt);\n    },\n\n    mouseover: function(evt) {\n\n        CellView.prototype.mouseover.apply(this, arguments);\n        this.notify('link:mouseover', evt);\n    },\n\n    mouseout: function(evt) {\n\n        CellView.prototype.mouseout.apply(this, arguments);\n        this.notify('link:mouseout', evt);\n    },\n\n    mouseenter: function(evt) {\n\n        CellView.prototype.mouseenter.apply(this, arguments);\n        this.notify('link:mouseenter', evt);\n    },\n\n    mouseleave: function(evt) {\n\n        CellView.prototype.mouseleave.apply(this, arguments);\n        this.notify('link:mouseleave', evt);\n    },\n\n    mousewheel: function(evt, x, y, delta) {\n\n        CellView.prototype.mousewheel.apply(this, arguments);\n        this.notify('link:mousewheel', evt, x, y, delta);\n    },\n\n    onevent: function(evt, eventName, x, y) {\n\n        // Backwards compatibility\n        var linkTool = V(evt.target).findParentByClass('link-tool', this.el);\n        if (linkTool) {\n            // No further action to be executed\n            evt.stopPropagation();\n\n            // Allow `interactive.useLinkTools=false`\n            if (this.can('useLinkTools')) {\n                if (eventName === 'remove') {\n                    // Built-in remove event\n                    this.model.remove({ ui: true });\n                    // Do not trigger link pointerdown\n                    return;\n\n                } else {\n                    // link:options and other custom events inside the link tools\n                    this.notify(eventName, evt, x, y);\n                }\n            }\n\n            this.notifyPointerdown(evt, x, y);\n            this.paper.delegateDragEvents(this, evt.data);\n\n        } else {\n            CellView.prototype.onevent.apply(this, arguments);\n        }\n    },\n\n    onlabel: function(evt, x, y) {\n\n        this.notifyPointerdown(evt, x, y);\n\n        this.dragLabelStart(evt, x, y);\n\n        var stopPropagation = this.eventData(evt).stopPropagation;\n        if (stopPropagation) evt.stopPropagation();\n    },\n\n    // Drag Start Handlers\n\n    dragConnectionStart: function(evt, x, y) {\n\n        if (!this.can('vertexAdd')) return;\n\n        // Store the index at which the new vertex has just been placed.\n        // We'll be update the very same vertex position in `pointermove()`.\n        var vertexIdx = this.addVertex({ x: x, y: y }, { ui: true });\n        this.eventData(evt, {\n            action: 'vertex-move',\n            vertexIdx: vertexIdx\n        });\n    },\n\n    dragLabelStart: function(evt, x, y) {\n\n        if (this.can('labelMove')) {\n\n            if (this.isDefaultInteractionPrevented(evt)) return;\n\n            var labelNode = evt.currentTarget;\n            var labelIdx = parseInt(labelNode.getAttribute('label-idx'), 10);\n\n            var defaultLabelPosition = this._getDefaultLabelPositionProperty();\n            var initialLabelPosition = this._normalizeLabelPosition(this._getLabelPositionProperty(labelIdx));\n            var position = this._mergeLabelPositionProperty(initialLabelPosition, defaultLabelPosition);\n\n            var coords = this.getLabelCoordinates(position);\n            var dx = coords.x - x; // how much needs to be added to cursor x to get to label x\n            var dy = coords.y - y; // how much needs to be added to cursor y to get to label y\n\n            var positionAngle = this._getLabelPositionAngle(labelIdx);\n            var labelPositionArgs = this._getLabelPositionArgs(labelIdx);\n            var defaultLabelPositionArgs = this._getDefaultLabelPositionArgs();\n            var positionArgs = this._mergeLabelPositionArgs(labelPositionArgs, defaultLabelPositionArgs);\n\n            this.eventData(evt, {\n                action: 'label-move',\n                labelIdx: labelIdx,\n                dx: dx,\n                dy: dy,\n                positionAngle: positionAngle,\n                positionArgs: positionArgs,\n                stopPropagation: true\n            });\n\n        } else {\n\n            // Backwards compatibility:\n            // If labels can't be dragged no default action is triggered.\n            this.eventData(evt, { stopPropagation: true });\n        }\n\n        this.paper.delegateDragEvents(this, evt.data);\n    },\n\n    dragVertexStart: function(evt, x, y) {\n\n        if (!this.can('vertexMove')) return;\n\n        var vertexNode = evt.target;\n        var vertexIdx = parseInt(vertexNode.getAttribute('idx'), 10);\n        this.eventData(evt, {\n            action: 'vertex-move',\n            vertexIdx: vertexIdx\n        });\n    },\n\n    dragVertexRemoveStart: function(evt, x, y) {\n\n        if (!this.can('vertexRemove')) return;\n\n        var removeNode = evt.target;\n        var vertexIdx = parseInt(removeNode.getAttribute('idx'), 10);\n        this.model.removeVertex(vertexIdx);\n    },\n\n    dragArrowheadStart: function(evt, x, y) {\n\n        if (!this.can('arrowheadMove')) return;\n\n        var arrowheadNode = evt.target;\n        var arrowheadType = arrowheadNode.getAttribute('end');\n        var data = this.startArrowheadMove(arrowheadType, { ignoreBackwardsCompatibility: true });\n\n        this.eventData(evt, data);\n    },\n\n    dragStart: function(evt, x, y) {\n\n        if (this.isDefaultInteractionPrevented(evt)) return;\n\n        if (!this.can('linkMove')) return;\n\n        this.eventData(evt, {\n            action: 'move',\n            dx: x,\n            dy: y\n        });\n    },\n\n    // Drag Handlers\n    dragLabel: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        var label = { position: this.getLabelPosition((x + data.dx), (y + data.dy), data.positionAngle, data.positionArgs) };\n        if (this.paper.options.snapLabels) delete label.position.offset;\n        // The `touchmove' events are not fired\n        // when the original event target is removed from the DOM.\n        // The labels are currently re-rendered completely when only\n        // the position changes. This is why we need to make sure that\n        // the label is updated synchronously.\n        // TODO: replace `touchmove` with `pointermove` (breaking change).\n        const setOptions = { ui: true };\n        if (this.paper.isAsync() && evt.type === 'touchmove') {\n            setOptions.async = false;\n        }\n        this.model.label(data.labelIdx, label, setOptions);\n    },\n\n    dragVertex: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        this.model.vertex(data.vertexIdx, { x: x, y: y }, { ui: true });\n    },\n\n    dragArrowhead: function(evt, x, y) {\n        if (this.paper.options.snapLinks) {\n            const isSnapped = this._snapArrowhead(evt, x, y);\n            if (!isSnapped && this.paper.options.snapLinksSelf) {\n                this._snapArrowheadSelf(evt, x, y);\n            }\n        } else {\n            if (this.paper.options.snapLinksSelf) {\n                this._snapArrowheadSelf(evt, x, y);\n            } else {\n                this._connectArrowhead(this.getEventTarget(evt), x, y, this.eventData(evt));\n            }\n        }\n    },\n\n    drag: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        this.model.translate(x - data.dx, y - data.dy, { ui: true });\n        this.eventData(evt, {\n            dx: x,\n            dy: y\n        });\n    },\n\n    // Drag End Handlers\n\n    dragLabelEnd: function() {\n        // noop\n    },\n\n    dragVertexEnd: function() {\n        // noop\n    },\n\n    dragArrowheadEnd: function(evt, x, y) {\n\n        var data = this.eventData(evt);\n        var paper = this.paper;\n\n        if (paper.options.snapLinks) {\n            this._snapArrowheadEnd(data);\n        } else {\n            this._connectArrowheadEnd(data, x, y);\n        }\n\n        if (!paper.linkAllowed(this)) {\n            // If the changed link is not allowed, revert to its previous state.\n            this._disallow(data);\n        } else {\n            this._finishEmbedding(data);\n            this._notifyConnectEvent(data, evt);\n        }\n\n        this._afterArrowheadMove(data);\n    },\n\n    dragEnd: function() {\n        // noop\n    },\n\n    _disallow: function(data) {\n\n        switch (data.whenNotAllowed) {\n\n            case 'remove':\n                this.model.remove({ ui: true });\n                break;\n\n            case 'revert':\n            default:\n                this.model.set(data.arrowhead, data.initialEnd, { ui: true });\n                break;\n        }\n    },\n\n    _finishEmbedding: function(data) {\n\n        // Reparent the link if embedding is enabled\n        if (this.paper.options.embeddingMode && this.model.reparent()) {\n            // Make sure we don't reverse to the original 'z' index (see afterArrowheadMove()).\n            data.z = null;\n        }\n    },\n\n    _notifyConnectEvent: function(data, evt) {\n\n        var arrowhead = data.arrowhead;\n        var initialEnd = data.initialEnd;\n        var currentEnd = this.model.prop(arrowhead);\n        var endChanged = currentEnd && !Link.endsEqual(initialEnd, currentEnd);\n        if (endChanged) {\n            var paper = this.paper;\n            if (initialEnd.id) {\n                this.notify('link:disconnect', evt, paper.findViewByModel(initialEnd.id), data.initialMagnet, arrowhead);\n            }\n            if (currentEnd.id) {\n                this.notify('link:connect', evt, paper.findViewByModel(currentEnd.id), data.magnetUnderPointer, arrowhead);\n            }\n        }\n    },\n\n    _snapToPoints: function(snapPoint, points, radius) {\n        let closestPointX = null;\n        let closestDistanceX = Infinity;\n\n        let closestPointY = null;\n        let closestDistanceY = Infinity;\n\n        let x = snapPoint.x;\n        let y = snapPoint.y;\n\n        for (let i = 0; i < points.length; i++) {\n            const distX = Math.abs(points[i].x - snapPoint.x);\n            if (distX < closestDistanceX) {\n                closestDistanceX = distX;\n                closestPointX = points[i];\n            }\n\n            const distY = Math.abs(points[i].y - snapPoint.y);\n            if (distY < closestDistanceY) {\n                closestDistanceY = distY;\n                closestPointY = points[i];\n            }\n        }\n\n        if (closestDistanceX < radius) {\n            x = closestPointX.x;\n        }\n        if (closestDistanceY < radius) {\n            y = closestPointY.y;\n        }\n\n        return { x, y };\n    },\n\n    _snapArrowheadSelf: function(evt, x, y) {\n\n        const { paper, model } = this;\n        const { snapLinksSelf } = paper.options;\n        const data = this.eventData(evt);\n        const radius = snapLinksSelf.radius || 20;\n\n        const anchor = this.getEndAnchor(data.arrowhead === 'source' ? 'target' : 'source');\n        const vertices = model.vertices();\n        const points = [anchor, ...vertices];\n\n        const snapPoint = this._snapToPoints({ x: x, y: y }, points, radius);\n\n        const point = paper.localToClientPoint(snapPoint);\n        this._connectArrowhead(document.elementFromPoint(point.x, point.y), snapPoint.x, snapPoint.y, this.eventData(evt));\n    },\n\n    _snapArrowhead: function(evt, x, y) {\n\n        const { paper } = this;\n        const { snapLinks, connectionStrategy } = paper.options;\n        const data = this.eventData(evt);\n        let isSnapped = false;\n        // checking view in close area of the pointer\n\n        var r = snapLinks.radius || 50;\n        var viewsInArea = paper.findViewsInArea({ x: x - r, y: y - r, width: 2 * r, height: 2 * r });\n\n        var prevClosestView = data.closestView || null;\n        var prevClosestMagnet = data.closestMagnet || null;\n        var prevMagnetProxy = data.magnetProxy || null;\n\n        data.closestView = data.closestMagnet = data.magnetProxy = null;\n\n        var minDistance = Number.MAX_VALUE;\n        var pointer = new Point(x, y);\n\n        viewsInArea.forEach(function(view) {\n            const candidates = [];\n            // skip connecting to the element in case '.': { magnet: false } attribute present\n            if (view.el.getAttribute('magnet') !== 'false') {\n                candidates.push({\n                    bbox: view.model.getBBox(),\n                    magnet: view.el\n                });\n            }\n\n            view.$('[magnet]').toArray().forEach(magnet => {\n                candidates.push({\n                    bbox: view.getNodeBBox(magnet),\n                    magnet\n                });\n            });\n\n            candidates.forEach(candidate => {\n                const { magnet, bbox } = candidate;\n                // find distance from the center of the model to pointer coordinates\n                const distance = bbox.center().squaredDistance(pointer);\n                // the connection is looked up in a circle area by `distance < r`\n                if (distance < minDistance) {\n                    const isAlreadyValidated = prevClosestMagnet === magnet;\n                    if (isAlreadyValidated || paper.options.validateConnection.apply(\n                        paper, data.validateConnectionArgs(view, (view.el === magnet) ? null : magnet)\n                    )) {\n                        minDistance = distance;\n                        data.closestView = view;\n                        data.closestMagnet = magnet;\n                    }\n                }\n            });\n\n        }, this);\n\n        var end;\n        var magnetProxy = null;\n        var closestView = data.closestView;\n        var closestMagnet = data.closestMagnet;\n        if (closestMagnet) {\n            magnetProxy = data.magnetProxy = closestView.findProxyNode(closestMagnet, 'highlighter');\n        }\n        var endType = data.arrowhead;\n        var newClosestMagnet = (prevClosestMagnet !== closestMagnet);\n        if (prevClosestView && newClosestMagnet) {\n            prevClosestView.unhighlight(prevMagnetProxy, {\n                connecting: true,\n                snapping: true\n            });\n        }\n\n        if (closestView) {\n            const { prevEnd, prevX, prevY } = data;\n            data.prevX = x;\n            data.prevY = y;\n            isSnapped = true;\n\n            if (!newClosestMagnet)  {\n                if (typeof connectionStrategy !== 'function' || (prevX === x && prevY === y)) {\n                    // the magnet has not changed and the link's end does not depend on the x and y\n                    return isSnapped;\n                }\n            }\n\n            end = closestView.getLinkEnd(closestMagnet, x, y, this.model, endType);\n            if (!newClosestMagnet && isEqual(prevEnd, end)) {\n                // the source/target json has not changed\n                return isSnapped;\n            }\n\n            data.prevEnd = end;\n\n            if (newClosestMagnet) {\n                closestView.highlight(magnetProxy, {\n                    connecting: true,\n                    snapping: true\n                });\n            }\n\n        } else {\n\n            end = { x: x, y: y };\n        }\n\n        this.model.set(endType, end || { x: x, y: y }, { ui: true });\n\n        if (prevClosestView) {\n            this.notify('link:snap:disconnect', evt, prevClosestView, prevClosestMagnet, endType);\n        }\n        if (closestView) {\n            this.notify('link:snap:connect', evt, closestView, closestMagnet, endType);\n        }\n\n        return isSnapped;\n    },\n\n    _snapArrowheadEnd: function(data) {\n\n        // Finish off link snapping.\n        // Everything except view unhighlighting was already done on pointermove.\n        var closestView = data.closestView;\n        var closestMagnet = data.closestMagnet;\n        if (closestView && closestMagnet) {\n\n            closestView.unhighlight(data.magnetProxy, { connecting: true, snapping: true });\n            data.magnetUnderPointer = closestView.findMagnet(closestMagnet);\n        }\n\n        data.closestView = data.closestMagnet = null;\n    },\n\n    _connectArrowhead: function(target, x, y, data) {\n\n        // checking views right under the pointer\n        const { paper, model } = this;\n\n        if (data.eventTarget !== target) {\n            // Unhighlight the previous view under pointer if there was one.\n            if (data.magnetProxy) {\n                data.viewUnderPointer.unhighlight(data.magnetProxy, {\n                    connecting: true\n                });\n            }\n\n            const viewUnderPointer = data.viewUnderPointer = paper.findView(target);\n            if (viewUnderPointer) {\n                // If we found a view that is under the pointer, we need to find the closest\n                // magnet based on the real target element of the event.\n                const magnetUnderPointer = data.magnetUnderPointer = viewUnderPointer.findMagnet(target);\n                const magnetProxy = data.magnetProxy = viewUnderPointer.findProxyNode(magnetUnderPointer, 'highlighter');\n\n                if (magnetUnderPointer && this.paper.options.validateConnection.apply(\n                    paper,\n                    data.validateConnectionArgs(viewUnderPointer, magnetUnderPointer)\n                )) {\n                    // If there was no magnet found, do not highlight anything and assume there\n                    // is no view under pointer we're interested in reconnecting to.\n                    // This can only happen if the overall element has the attribute `'.': { magnet: false }`.\n                    if (magnetProxy) {\n                        viewUnderPointer.highlight(magnetProxy, {\n                            connecting: true\n                        });\n                    }\n                } else {\n                    // This type of connection is not valid. Disregard this magnet.\n                    data.magnetUnderPointer = null;\n                    data.magnetProxy = null;\n                }\n            } else {\n                // Make sure we'll unset previous magnet.\n                data.magnetUnderPointer = null;\n                data.magnetProxy = null;\n            }\n        }\n\n        data.eventTarget = target;\n\n        model.set(data.arrowhead, { x: x, y: y }, { ui: true });\n    },\n\n    _connectArrowheadEnd: function(data = {}, x, y) {\n\n        const { model } = this;\n        const { viewUnderPointer, magnetUnderPointer, magnetProxy, arrowhead } = data;\n\n        if (!magnetUnderPointer || !magnetProxy || !viewUnderPointer) return;\n\n        viewUnderPointer.unhighlight(magnetProxy, { connecting: true });\n\n        // The link end is taken from the magnet under the pointer, not the proxy.\n        const end = viewUnderPointer.getLinkEnd(magnetUnderPointer, x, y, model, arrowhead);\n        model.set(arrowhead, end, { ui: true });\n    },\n\n    _beforeArrowheadMove: function(data) {\n\n        data.z = this.model.get('z');\n        this.model.toFront();\n\n        // Let the pointer propagate through the link view elements so that\n        // the `evt.target` is another element under the pointer, not the link itself.\n        var style = this.el.style;\n        data.pointerEvents = style.pointerEvents;\n        style.pointerEvents = 'none';\n\n        if (this.paper.options.markAvailable) {\n            this._markAvailableMagnets(data);\n        }\n    },\n\n    _afterArrowheadMove: function(data) {\n\n        if (data.z !== null) {\n            this.model.set('z', data.z, { ui: true });\n            data.z = null;\n        }\n\n        // Put `pointer-events` back to its original value. See `_beforeArrowheadMove()` for explanation.\n        this.el.style.pointerEvents = data.pointerEvents;\n\n        if (this.paper.options.markAvailable) {\n            this._unmarkAvailableMagnets(data);\n        }\n    },\n\n    _createValidateConnectionArgs: function(arrowhead) {\n        // It makes sure the arguments for validateConnection have the following form:\n        // (source view, source magnet, target view, target magnet and link view)\n        var args = [];\n\n        args[4] = arrowhead;\n        args[5] = this;\n\n        var oppositeArrowhead;\n        var i = 0;\n        var j = 0;\n\n        if (arrowhead === 'source') {\n            i = 2;\n            oppositeArrowhead = 'target';\n        } else {\n            j = 2;\n            oppositeArrowhead = 'source';\n        }\n\n        var end = this.model.get(oppositeArrowhead);\n\n        if (end.id) {\n            var view = args[i] = this.paper.findViewByModel(end.id);\n            var magnet = view.getMagnetFromLinkEnd(end);\n            if (magnet === view.el) magnet = undefined;\n            args[i + 1] = magnet;\n        }\n\n        function validateConnectionArgs(cellView, magnet) {\n            args[j] = cellView;\n            args[j + 1] = cellView.el === magnet ? undefined : magnet;\n            return args;\n        }\n\n        return validateConnectionArgs;\n    },\n\n    _markAvailableMagnets: function(data) {\n\n        function isMagnetAvailable(view, magnet) {\n            var paper = view.paper;\n            var validate = paper.options.validateConnection;\n            return validate.apply(paper, this.validateConnectionArgs(view, magnet));\n        }\n\n        var paper = this.paper;\n        var elements = paper.model.getCells();\n        data.marked = {};\n\n        for (var i = 0, n = elements.length; i < n; i++) {\n            var view = elements[i].findView(paper);\n\n            if (!view) {\n                continue;\n            }\n\n            var magnets = Array.prototype.slice.call(view.el.querySelectorAll('[magnet]'));\n            if (view.el.getAttribute('magnet') !== 'false') {\n                // Element wrapping group is also a magnet\n                magnets.push(view.el);\n            }\n\n            var availableMagnets = magnets.filter(isMagnetAvailable.bind(data, view));\n\n            if (availableMagnets.length > 0) {\n                // highlight all available magnets\n                for (var j = 0, m = availableMagnets.length; j < m; j++) {\n                    view.highlight(availableMagnets[j], { magnetAvailability: true });\n                }\n                // highlight the entire view\n                view.highlight(null, { elementAvailability: true });\n\n                data.marked[view.model.id] = availableMagnets;\n            }\n        }\n    },\n\n    _unmarkAvailableMagnets: function(data) {\n\n        var markedKeys = Object.keys(data.marked);\n        var id;\n        var markedMagnets;\n\n        for (var i = 0, n = markedKeys.length; i < n; i++) {\n            id = markedKeys[i];\n            markedMagnets = data.marked[id];\n\n            var view = this.paper.findViewByModel(id);\n            if (view) {\n                for (var j = 0, m = markedMagnets.length; j < m; j++) {\n                    view.unhighlight(markedMagnets[j], { magnetAvailability: true });\n                }\n                view.unhighlight(null, { elementAvailability: true });\n            }\n        }\n\n        data.marked = null;\n    },\n\n    startArrowheadMove: function(end, opt) {\n\n        opt || (opt = {});\n\n        // Allow to delegate events from an another view to this linkView in order to trigger arrowhead\n        // move without need to click on the actual arrowhead dom element.\n        var data = {\n            action: 'arrowhead-move',\n            arrowhead: end,\n            whenNotAllowed: opt.whenNotAllowed || 'revert',\n            initialMagnet: this[end + 'Magnet'] || (this[end + 'View'] ? this[end + 'View'].el : null),\n            initialEnd: clone(this.model.get(end)),\n            validateConnectionArgs: this._createValidateConnectionArgs(end)\n        };\n\n        this._beforeArrowheadMove(data);\n\n        if (opt.ignoreBackwardsCompatibility !== true) {\n            this._dragData = data;\n        }\n\n        return data;\n    },\n\n    // Lifecycle methods\n\n    onMount: function() {\n        CellView.prototype.onMount.apply(this, arguments);\n        this.mountLabels();\n    },\n\n    onDetach: function() {\n        CellView.prototype.onDetach.apply(this, arguments);\n        this.unmountLabels();\n    },\n\n    onRemove: function() {\n        CellView.prototype.onRemove.apply(this, arguments);\n        this.unmountLabels();\n    }\n\n}, {\n\n    Flags: Flags,\n});\n\nObject.defineProperty(LinkView.prototype, 'sourceBBox', {\n\n    enumerable: true,\n\n    get: function() {\n        var sourceView = this.sourceView;\n        if (!sourceView) {\n            var sourceDef = this.model.source();\n            return new Rect(sourceDef.x, sourceDef.y);\n        }\n        var sourceMagnet = this.sourceMagnet;\n        if (sourceView.isNodeConnection(sourceMagnet)) {\n            return new Rect(this.sourceAnchor);\n        }\n        return sourceView.getNodeBBox(sourceMagnet || sourceView.el);\n    }\n\n});\n\nObject.defineProperty(LinkView.prototype, 'targetBBox', {\n\n    enumerable: true,\n\n    get: function() {\n        var targetView = this.targetView;\n        if (!targetView) {\n            var targetDef = this.model.target();\n            return new Rect(targetDef.x, targetDef.y);\n        }\n        var targetMagnet = this.targetMagnet;\n        if (targetView.isNodeConnection(targetMagnet)) {\n            return new Rect(this.targetAnchor);\n        }\n        return targetView.getNodeBBox(targetMagnet || targetView.el);\n    }\n});\n\n", "export * from './stroke.mjs';\nexport * from './mask.mjs';\nexport * from './opacity.mjs';\nexport * from './addClass.mjs';\nexport * from './list.mjs';\n", "import { assign } from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nexport const stroke = HighlighterView.extend({\n\n    tagName: 'path',\n    className: 'highlight-stroke',\n    attributes: {\n        'pointer-events': 'none',\n        'vector-effect': 'non-scaling-stroke',\n        'fill': 'none'\n    },\n\n    options: {\n        padding: 3,\n        rx: 0,\n        ry: 0,\n        useFirstSubpath: false,\n        attrs: {\n            'stroke-width': 3,\n            'stroke': '#FEB663'\n        }\n    },\n\n    getPathData(cellView, node) {\n        const { options } = this;\n        const { useFirstSubpath } = options;\n        let d;\n        try {\n            const vNode = V(node);\n            d = vNode.convertToPathData().trim();\n            if (vNode.tagName() === 'PATH' && useFirstSubpath) {\n                const secondSubpathIndex = d.search(/.M/i) + 1;\n                if (secondSubpathIndex > 0) {\n                    d = d.substr(0, secondSubpathIndex);\n                }\n            }\n        } catch (error) {\n            // Failed to get path data from magnet element.\n            // Draw a rectangle around the node instead.\n            const nodeBBox = cellView.getNodeBoundingRect(node);\n            d = V.rectToPath(assign({}, options, nodeBBox.toJSON()));\n        }\n        return d;\n    },\n\n    highlightConnection(cellView) {\n        this.vel.attr('d', cellView.getSerializedConnection());\n    },\n\n    highlightNode(cellView, node) {\n        const { vel, options } = this;\n        const { padding, layer } = options;\n        let highlightMatrix = this.getNodeMatrix(cellView, node);\n        // Add padding to the highlight element.\n        if (padding) {\n            if (!layer && node === cellView.el) {\n                // If the highlighter is appended to the cellView\n                // and we measure the size of the cellView wrapping group\n                // it's necessary to remove the highlighter first\n                vel.remove();\n            }\n            let nodeBBox = cellView.getNodeBoundingRect(node);\n            const cx = nodeBBox.x + (nodeBBox.width / 2);\n            const cy = nodeBBox.y + (nodeBBox.height / 2);\n            nodeBBox = V.transformRect(nodeBBox, highlightMatrix);\n            const width = Math.max(nodeBBox.width, 1);\n            const height = Math.max(nodeBBox.height, 1);\n            const sx = (width + padding) / width;\n            const sy = (height + padding) / height;\n            const paddingMatrix = V.createSVGMatrix({\n                a: sx,\n                b: 0,\n                c: 0,\n                d: sy,\n                e: cx - sx * cx,\n                f: cy - sy * cy\n            });\n            highlightMatrix = highlightMatrix.multiply(paddingMatrix);\n        }\n        vel.attr({\n            'd': this.getPathData(cellView, node),\n            'transform': V.matrixToTransformString(highlightMatrix)\n        });\n    },\n\n    highlight(cellView, node) {\n        const { vel, options } = this;\n        vel.attr(options.attrs);\n        if (cellView.isNodeConnection(node)) {\n            this.highlightConnection(cellView);\n        } else {\n            this.highlightNode(cellView, node);\n        }\n    }\n\n});\n", "import V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nconst MASK_CLIP = 20;\n\nfunction forEachDescendant(vel, fn) {\n    const descendants = vel.children();\n    while (descendants.length > 0) {\n        const descendant = descendants.shift();\n        if (fn(descendant)) {\n            descendants.push(...descendant.children());\n        }\n    }\n}\n\nexport const mask = HighlighterView.extend({\n\n    tagName: 'rect',\n    className: 'highlight-mask',\n    attributes: {\n        'pointer-events': 'none'\n    },\n\n    options: {\n        padding: 3,\n        maskClip: MASK_CLIP,\n        deep: false,\n        attrs: {\n            'stroke': '#FEB663',\n            'stroke-width': 3,\n            'stroke-linecap': 'butt',\n            'stroke-linejoin': 'miter',\n        }\n    },\n\n    VISIBLE: 'white',\n    INVISIBLE: 'black',\n\n    MASK_ROOT_ATTRIBUTE_BLACKLIST: [\n        'marker-start',\n        'marker-end',\n        'marker-mid',\n        'transform',\n        'stroke-dasharray',\n        'class',\n    ],\n\n    MASK_CHILD_ATTRIBUTE_BLACKLIST: [\n        'stroke',\n        'fill',\n        'stroke-width',\n        'stroke-opacity',\n        'stroke-dasharray',\n        'fill-opacity',\n        'marker-start',\n        'marker-end',\n        'marker-mid',\n        'class',\n    ],\n\n    // TODO: change the list to a function callback\n    MASK_REPLACE_TAGS: [\n        'FOREIGNOBJECT',\n        'IMAGE',\n        'USE',\n        'TEXT',\n        'TSPAN',\n        'TEXTPATH'\n    ],\n\n    // TODO: change the list to a function callback\n    MASK_REMOVE_TAGS: [\n        'TEXT',\n        'TSPAN',\n        'TEXTPATH'\n    ],\n\n    transformMaskChild(cellView, childEl) {\n        const {\n            MASK_CHILD_ATTRIBUTE_BLACKLIST,\n            MASK_REPLACE_TAGS,\n            MASK_REMOVE_TAGS\n        } = this;\n        const childTagName = childEl.tagName();\n        // Do not include the element in the mask's image\n        if (!V.isSVGGraphicsElement(childEl) || MASK_REMOVE_TAGS.includes(childTagName)) {\n            childEl.remove();\n            return false;\n        }\n        // Replace the element with a rectangle\n        if (MASK_REPLACE_TAGS.includes(childTagName)) {\n            // Note: clone() method does not change the children ids\n            const originalChild = cellView.vel.findOne(`#${childEl.id}`);\n            if (originalChild) {\n                const { node: originalNode } = originalChild;\n                let childBBox = cellView.getNodeBoundingRect(originalNode);\n                if (cellView.model.isElement()) {\n                    childBBox = V.transformRect(childBBox, cellView.getNodeMatrix(originalNode));\n                }\n                const replacement = V('rect', childBBox.toJSON());\n                const { x: ox, y: oy } = childBBox.center();\n                const { angle, cx = ox, cy = oy } = originalChild.rotate();\n                if (angle) replacement.rotate(angle, cx, cy);\n                // Note: it's not important to keep the same sibling index since all subnodes are filled\n                childEl.parent().append(replacement);\n            }\n            childEl.remove();\n            return false;\n        }\n        // Keep the element, but clean it from certain attributes\n        MASK_CHILD_ATTRIBUTE_BLACKLIST.forEach(attrName => {\n            if (attrName === 'fill' && childEl.attr('fill') === 'none') return;\n            childEl.removeAttr(attrName);\n        });\n        return true;\n    },\n\n    transformMaskRoot(_cellView, rootEl) {\n        const { MASK_ROOT_ATTRIBUTE_BLACKLIST } = this;\n        MASK_ROOT_ATTRIBUTE_BLACKLIST.forEach(attrName => {\n            rootEl.removeAttr(attrName);\n        });\n    },\n\n    getMaskShape(cellView, vel) {\n        const { options, MASK_REPLACE_TAGS } = this;\n        const { deep } = options;\n        const tagName = vel.tagName();\n        let maskRoot;\n        if (tagName === 'G') {\n            if (!deep) return null;\n            maskRoot = vel.clone();\n            forEachDescendant(maskRoot, maskChild => this.transformMaskChild(cellView, maskChild));\n        } else {\n            if (MASK_REPLACE_TAGS.includes(tagName)) return null;\n            maskRoot = vel.clone();\n        }\n        this.transformMaskRoot(cellView, maskRoot);\n        return maskRoot;\n    },\n\n    getMaskId() {\n        return `highlight-mask-${this.cid}`;\n    },\n\n    getMask(cellView, vNode) {\n\n        const { VISIBLE, INVISIBLE, options } = this;\n        const { padding, attrs } = options;\n\n        const strokeWidth = ('stroke-width' in attrs) ? attrs['stroke-width'] : 1;\n        const hasNodeFill = vNode.attr('fill') !== 'none';\n        let magnetStrokeWidth = parseFloat(vNode.attr('stroke-width'));\n        if (isNaN(magnetStrokeWidth)) magnetStrokeWidth = 1;\n        // stroke of the invisible shape\n        const minStrokeWidth = magnetStrokeWidth + padding * 2;\n        // stroke of the visible shape\n        const maxStrokeWidth = minStrokeWidth + strokeWidth * 2;\n        let maskEl = this.getMaskShape(cellView, vNode);\n        if (!maskEl) {\n            const nodeBBox = cellView.getNodeBoundingRect(vNode.node);\n            // Make sure the rect is visible\n            nodeBBox.inflate(nodeBBox.width ? 0 : 0.5, nodeBBox.height ? 0 : 0.5);\n            maskEl =  V('rect', nodeBBox.toJSON());\n        }\n        maskEl.attr(attrs);\n        return V('mask', {\n            'id': this.getMaskId()\n        }).append([\n            maskEl.clone().attr({\n                'fill': hasNodeFill ? VISIBLE : 'none',\n                'stroke': VISIBLE,\n                'stroke-width': maxStrokeWidth\n            }),\n            maskEl.clone().attr({\n                'fill': hasNodeFill ? INVISIBLE : 'none',\n                'stroke': INVISIBLE,\n                'stroke-width': minStrokeWidth\n            })\n        ]);\n    },\n\n    removeMask(paper) {\n        const maskNode = paper.svg.getElementById(this.getMaskId());\n        if (maskNode) {\n            paper.defs.removeChild(maskNode);\n        }\n    },\n\n    addMask(paper, maskEl) {\n        paper.defs.appendChild(maskEl.node);\n    },\n\n    highlight(cellView, node) {\n        const { options, vel } = this;\n        const { padding, attrs, maskClip = MASK_CLIP, layer } = options;\n        const color = ('stroke' in attrs) ? attrs['stroke'] : '#000000';\n        if (!layer && node === cellView.el) {\n            // If the highlighter is appended to the cellView\n            // and we measure the size of the cellView wrapping group\n            // it's necessary to remove the highlighter first\n            vel.remove();\n        }\n        const highlighterBBox = cellView.getNodeBoundingRect(node).inflate(padding + maskClip);\n        const highlightMatrix = this.getNodeMatrix(cellView, node);\n        const maskEl = this.getMask(cellView, V(node));\n        this.addMask(cellView.paper, maskEl);\n        vel.attr(highlighterBBox.toJSON());\n        vel.attr({\n            'transform': V.matrixToTransformString(highlightMatrix),\n            'mask': `url(#${maskEl.id})`,\n            'fill': color\n        });\n    },\n\n    unhighlight(cellView) {\n        this.removeMask(cellView.paper);\n    }\n\n});\n", "import * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nexport const opacity = HighlighterView.extend({\n\n    UPDATABLE: false,\n    MOUNTABLE: false,\n\n    opacityClassName: util.addClassNamePrefix('highlight-opacity'),\n\n    highlight: function(_cellView, node) {\n        V(node).addClass(this.opacityClassName);\n    },\n\n    unhighlight: function(_cellView, node) {\n        V(node).removeClass(this.opacityClassName);\n    }\n\n});\n", "import * as util from '../util/index.mjs';\nimport V from '../V/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\n\nconst className = util.addClassNamePrefix('highlighted');\n\nexport const addClass = HighlighterView.extend({\n\n    UPDATABLE: false,\n    MOUNTABLE: false,\n\n    options: {\n        className\n    },\n\n    highlight: function(_cellView, node) {\n        V(node).addClass(this.options.className);\n    },\n\n    unhighlight: function(_cellView, node) {\n        V(node).removeClass(this.options.className);\n    }\n\n}, {\n    // Backwards Compatibility\n    className\n});\n", "import { Rect } from '../g/index.mjs';\nimport { HighlighterView } from '../dia/HighlighterView.mjs';\nimport {\n    normalizeSides,\n    isEqual,\n} from '../util/index.mjs';\nimport {\n    Positions,\n    getRectPoint,\n} from '../util/getRectPoint.mjs';\n\nconst Directions = {\n    ROW: 'row',\n    COLUMN: 'column'\n};\n\nexport const list = HighlighterView.extend({\n\n    tagName: 'g',\n    MOUNTABLE: true,\n    UPDATE_ATTRIBUTES: function() {\n        return [this.options.attribute];\n    },\n\n    _prevItems: null,\n\n    highlight(elementView, node) {\n        const element = elementView.model;\n        const { attribute, size = 20, gap = 5, direction = Directions.ROW } = this.options;\n        if (!attribute) throw new Error('List: attribute is required');\n        const normalizedSize = (typeof size === 'number') ? { width: size, height: size } : size;\n        const isRowDirection = (direction === Directions.ROW);\n        const itemWidth = isRowDirection ? normalizedSize.width : normalizedSize.height;\n        let items = element.get(attribute);\n        if (!Array.isArray(items)) items = [];\n        const prevItems = this._prevItems || [];\n        const comparison = items.map((item, index) => isEqual(prevItems[index], items[index]));\n        if (prevItems.length !== items.length || comparison.some(unchanged => !unchanged)) {\n            const prevEls = this.vel.children();\n            const itemsEls = items.map((item, index) => {\n                const prevEl = (index in prevEls) ? prevEls[index].node : null;\n                if (comparison[index]) return prevEl;\n                const itemEl = this.createListItem(item, normalizedSize, prevEl);\n                if (!itemEl) return null;\n                if (!(itemEl instanceof SVGElement)) throw new Error('List: item must be an SVGElement');\n                itemEl.dataset.index = index;\n                itemEl.dataset.attribute = attribute;\n                const offset = index * (itemWidth + gap);\n                itemEl.setAttribute('transform', (isRowDirection)\n                    ? `translate(${offset}, 0)`\n                    : `translate(0, ${offset})`\n                );\n                return itemEl;\n            });\n            this.vel.empty().append(itemsEls);\n            this._prevItems = items;\n        }\n        const itemsCount = items.length;\n        const length = (itemsCount === 0)\n            ? 0\n            : (itemsCount * itemWidth + (itemsCount - 1) * gap);\n        const listSize = (isRowDirection)\n            ? { width: length, height: normalizedSize.height }\n            : { width: normalizedSize.width, height: length };\n\n        this.position(element, listSize);\n    },\n\n    position(element, listSize) {\n        const { vel, options } = this;\n        const { margin = 5, position = 'top-left' } = options;\n        const { width, height } = element.size();\n        const { left, right, top, bottom } = normalizeSides(margin);\n        const bbox = new Rect(left, top, width - (left + right), height - (top + bottom));\n        let { x, y } = getRectPoint(bbox, position);\n        // x\n        switch (position) {\n            case Positions.CENTER:\n            case Positions.TOP:\n            case Positions.BOTTOM: {\n                x -= listSize.width / 2;\n                break;\n            }\n            case Positions.RIGHT:\n            case Positions.BOTTOM_RIGHT:\n            case Positions.TOP_RIGHT: {\n                x -= listSize.width;\n                break;\n            }\n        }\n        // y\n        switch (position) {\n            case Positions.CENTER:\n            case Positions.RIGHT:\n            case Positions.LEFT: {\n                y -= listSize.height / 2;\n                break;\n            }\n            case Positions.BOTTOM:\n            case Positions.BOTTOM_RIGHT:\n            case Positions.BOTTOM_LEFT: {\n                y -= listSize.height;\n                break;\n            }\n        }\n        vel.attr('transform', `translate(${x}, ${y})`);\n    }\n}, {\n    Directions,\n    Positions\n});\n", "import { Line, Point } from '../g/index.mjs';\nimport { isPercentage } from '../util/index.mjs';\n\nfunction connectionRatio(view, _magnet, _refPoint, opt) {\n\n    var ratio = ('ratio' in opt) ? opt.ratio : 0.5;\n    return view.getPointAtRatio(ratio);\n}\n\nfunction connectionLength(view, _magnet, _refPoint, opt) {\n\n    var length = ('length' in opt) ? opt.length : 20;\n    return view.getPointAtLength(length);\n}\n\nfunction _connectionPerpendicular(view, _magnet, refPoint, opt) {\n\n    var OFFSET = 1e6;\n    var path = view.getConnection();\n    var segmentSubdivisions = view.getConnectionSubdivisions();\n    var verticalLine = new Line(refPoint.clone().offset(0, OFFSET), refPoint.clone().offset(0, -OFFSET));\n    var horizontalLine = new Line(refPoint.clone().offset(OFFSET, 0), refPoint.clone().offset(-OFFSET, 0));\n    var verticalIntersections = verticalLine.intersect(path, { segmentSubdivisions: segmentSubdivisions });\n    var horizontalIntersections = horizontalLine.intersect(path, { segmentSubdivisions: segmentSubdivisions });\n    var intersections = [];\n    if (verticalIntersections) Array.prototype.push.apply(intersections, verticalIntersections);\n    if (horizontalIntersections) Array.prototype.push.apply(intersections, horizontalIntersections);\n    if (intersections.length > 0) return refPoint.chooseClosest(intersections);\n    if ('fallbackAt' in opt) {\n        return getPointAtLink(view, opt.fallbackAt);\n    }\n    return connectionClosest(view, _magnet, refPoint, opt);\n}\n\nfunction _connectionClosest(view, _magnet, refPoint, _opt) {\n\n    var closestPoint = view.getClosestPoint(refPoint);\n    if (!closestPoint) return new Point();\n    return closestPoint;\n}\n\nexport function resolveRef(fn) {\n    return function(view, magnet, ref, opt) {\n        if (ref instanceof Element) {\n            var refView = this.paper.findView(ref);\n            var refPoint;\n            if (refView) {\n                if (refView.isNodeConnection(ref)) {\n                    var distance = ('fixedAt' in opt) ? opt.fixedAt : '50%';\n                    refPoint = getPointAtLink(refView, distance);\n                } else {\n                    refPoint = refView.getNodeBBox(ref).center();\n                }\n            } else {\n                // Something went wrong\n                refPoint = new Point();\n            }\n            return fn.call(this, view, magnet, refPoint, opt);\n        }\n        return fn.apply(this, arguments);\n    };\n}\n\nfunction getPointAtLink(view, value) {\n    var parsedValue = parseFloat(value);\n    if (isPercentage(value)) {\n        return view.getPointAtRatio(parsedValue / 100);\n    } else {\n        return view.getPointAtLength(parsedValue);\n    }\n}\n\n// joint.linkAnchors\nexport { connectionRatio, connectionLength };\nexport const connectionPerpendicular = resolveRef(_connectionPerpendicular);\nexport const connectionClosest = resolveRef(_connectionClosest);\n", "import * as g from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport * as util from '../util/index.mjs';\n\nfunction offsetPoint(p1, p2, offset) {\n    if (util.isPlainObject(offset)) {\n        const { x, y } = offset;\n        if (isFinite(y)) {\n            const line =  new g.Line(p2, p1);\n            const { start, end } = line.parallel(y);\n            p2 = start;\n            p1 = end;\n        }\n        offset = x;\n    }\n    if (!isFinite(offset)) return p1;\n    var length = p1.distance(p2);\n    if (offset === 0 && length > 0) return p1;\n    return p1.move(p2, -Math.min(offset, length - 1));\n}\n\nfunction stroke(magnet) {\n\n    var stroke = magnet.getAttribute('stroke-width');\n    if (stroke === null) return 0;\n    return parseFloat(stroke) || 0;\n}\n\nfunction alignLine(line, type, offset = 0) {\n    let coordinate, a, b, direction;\n    const { start, end } = line;\n    switch (type) {\n        case 'left':\n            coordinate = 'x';\n            a = end;\n            b = start;\n            direction = -1;\n            break;\n        case 'right':\n            coordinate = 'x';\n            a = start;\n            b = end;\n            direction = 1;\n            break;\n        case 'top':\n            coordinate = 'y';\n            a = end;\n            b = start;\n            direction = -1;\n            break;\n        case 'bottom':\n            coordinate = 'y';\n            a = start;\n            b = end;\n            direction = 1;\n            break;\n        default:\n            return;\n    }\n    if (start[coordinate] < end[coordinate]) {\n        a[coordinate] = b[coordinate];\n    } else {\n        b[coordinate] = a[coordinate];\n    }\n    if (isFinite(offset)) {\n        a[coordinate] += direction * offset;\n        b[coordinate] += direction * offset;\n    }\n}\n\n// Connection Points\n\nfunction anchorConnectionPoint(line, _view, _magnet, opt) {\n    let { offset, alignOffset, align } = opt;\n    if (align) alignLine(line, align, alignOffset);\n    return offsetPoint(line.end, line.start, offset);\n}\n\nfunction bboxIntersection(line, view, magnet, opt) {\n\n    var bbox = view.getNodeBBox(magnet);\n    if (opt.stroke) bbox.inflate(stroke(magnet) / 2);\n    var intersections = line.intersect(bbox);\n    var cp = (intersections)\n        ? line.start.chooseClosest(intersections)\n        : line.end;\n    return offsetPoint(cp, line.start, opt.offset);\n}\n\nfunction rectangleIntersection(line, view, magnet, opt) {\n\n    var angle = view.model.angle();\n    if (angle === 0) {\n        return bboxIntersection(line, view, magnet, opt);\n    }\n\n    var bboxWORotation = view.getNodeUnrotatedBBox(magnet);\n    if (opt.stroke) bboxWORotation.inflate(stroke(magnet) / 2);\n    var center = bboxWORotation.center();\n    var lineWORotation = line.clone().rotate(center, angle);\n    var intersections = lineWORotation.setLength(1e6).intersect(bboxWORotation);\n    var cp = (intersections)\n        ? lineWORotation.start.chooseClosest(intersections).rotate(center, -angle)\n        : line.end;\n    return offsetPoint(cp, line.start, opt.offset);\n}\n\nfunction findShapeNode(magnet) {\n    if (!magnet) return null;\n    var node = magnet;\n    do {\n        var tagName = node.tagName;\n        if (typeof tagName !== 'string') return null;\n        tagName = tagName.toUpperCase();\n        if (tagName === 'G') {\n            node = node.firstElementChild;\n        } else if (tagName === 'TITLE') {\n            node = node.nextElementSibling;\n        } else break;\n    } while (node);\n    return node;\n}\n\nvar BNDR_SUBDIVISIONS = 'segmentSubdivisons';\nvar BNDR_SHAPE_BBOX = 'shapeBBox';\n\nfunction boundaryIntersection(line, view, magnet, opt) {\n\n    var node, intersection;\n    var selector = opt.selector;\n    var anchor = line.end;\n\n    if (typeof selector === 'string') {\n        node = view.findBySelector(selector)[0];\n    } else if (selector === false) {\n        node = magnet;\n    } else if (Array.isArray(selector)) {\n        node = util.getByPath(magnet, selector);\n    } else {\n        node = findShapeNode(magnet);\n    }\n\n    if (!V.isSVGGraphicsElement(node)) {\n        if (node === magnet || !V.isSVGGraphicsElement(magnet)) return anchor;\n        node = magnet;\n    }\n\n    var localShape = view.getNodeShape(node);\n    var magnetMatrix = view.getNodeMatrix(node);\n    var translateMatrix = view.getRootTranslateMatrix();\n    var rotateMatrix = view.getRootRotateMatrix();\n    var targetMatrix = translateMatrix.multiply(rotateMatrix).multiply(magnetMatrix);\n    var localMatrix = targetMatrix.inverse();\n    var localLine = V.transformLine(line, localMatrix);\n    var localRef = localLine.start.clone();\n    var data = view.getNodeData(node);\n\n    if (opt.insideout === false) {\n        if (!data[BNDR_SHAPE_BBOX]) data[BNDR_SHAPE_BBOX] = localShape.bbox();\n        var localBBox = data[BNDR_SHAPE_BBOX];\n        if (localBBox.containsPoint(localRef)) return anchor;\n    }\n\n    // Caching segment subdivisions for paths\n    var pathOpt;\n    if (localShape instanceof g.Path) {\n        var precision = opt.precision || 2;\n        if (!data[BNDR_SUBDIVISIONS]) data[BNDR_SUBDIVISIONS] = localShape.getSegmentSubdivisions({ precision: precision });\n        pathOpt = {\n            precision: precision,\n            segmentSubdivisions: data[BNDR_SUBDIVISIONS]\n        };\n    }\n\n    if (opt.extrapolate === true) localLine.setLength(1e6);\n\n    intersection = localLine.intersect(localShape, pathOpt);\n    if (intersection) {\n        // More than one intersection\n        if (V.isArray(intersection)) intersection = localRef.chooseClosest(intersection);\n    } else if (opt.sticky === true) {\n        // No intersection, find the closest point instead\n        if (localShape instanceof g.Rect) {\n            intersection = localShape.pointNearestToPoint(localRef);\n        } else if (localShape instanceof g.Ellipse) {\n            intersection = localShape.intersectionWithLineFromCenterToPoint(localRef);\n        } else {\n            intersection = localShape.closestPoint(localRef, pathOpt);\n        }\n    }\n\n    var cp = (intersection) ? V.transformPoint(intersection, targetMatrix) : anchor;\n    var cpOffset = opt.offset || 0;\n    if (opt.stroke) cpOffset += stroke(node) / 2;\n\n    return offsetPoint(cp, line.start, cpOffset);\n}\n\nexport const anchor = anchorConnectionPoint;\nexport const bbox = bboxIntersection;\nexport const rectangle = rectangleIntersection;\nexport const boundary = boundaryIntersection;\n", "import * as util from '../util/index.mjs';\nimport { toRad } from '../g/index.mjs';\nimport { resolveRef } from '../linkAnchors/index.mjs';\n\nfunction bboxWrapper(method) {\n\n    return function(view, magnet, ref, opt) {\n\n        var rotate = !!opt.rotate;\n        var bbox = (rotate) ? view.getNodeUnrotatedBBox(magnet) : view.getNodeBBox(magnet);\n        var anchor = bbox[method]();\n\n        var dx = opt.dx;\n        if (dx) {\n            var dxPercentage = util.isPercentage(dx);\n            dx = parseFloat(dx);\n            if (isFinite(dx)) {\n                if (dxPercentage) {\n                    dx /= 100;\n                    dx *= bbox.width;\n                }\n                anchor.x += dx;\n            }\n        }\n\n        var dy = opt.dy;\n        if (dy) {\n            var dyPercentage = util.isPercentage(dy);\n            dy = parseFloat(dy);\n            if (isFinite(dy)) {\n                if (dyPercentage) {\n                    dy /= 100;\n                    dy *= bbox.height;\n                }\n                anchor.y += dy;\n            }\n        }\n\n        return (rotate) ? anchor.rotate(view.model.getBBox().center(), -view.model.angle()) : anchor;\n    };\n}\n\nfunction _perpendicular(view, magnet, refPoint, opt) {\n\n    var angle = view.model.angle();\n    var bbox = view.getNodeBBox(magnet);\n    var anchor = bbox.center();\n    var topLeft = bbox.origin();\n    var bottomRight = bbox.corner();\n\n    var padding = opt.padding;\n    if (!isFinite(padding)) padding = 0;\n\n    if ((topLeft.y + padding) <= refPoint.y && refPoint.y <= (bottomRight.y - padding)) {\n        var dy = (refPoint.y - anchor.y);\n        anchor.x += (angle === 0 || angle === 180) ? 0 : dy * 1 / Math.tan(toRad(angle));\n        anchor.y += dy;\n    } else if ((topLeft.x + padding) <= refPoint.x && refPoint.x <= (bottomRight.x - padding)) {\n        var dx = (refPoint.x - anchor.x);\n        anchor.y += (angle === 90 || angle === 270) ? 0 : dx * Math.tan(toRad(angle));\n        anchor.x += dx;\n    }\n\n    return anchor;\n}\n\nfunction _midSide(view, magnet, refPoint, opt) {\n\n    var rotate = !!opt.rotate;\n    var bbox, angle, center;\n    if (rotate) {\n        bbox = view.getNodeUnrotatedBBox(magnet);\n        center = view.model.getBBox().center();\n        angle = view.model.angle();\n    } else {\n        bbox = view.getNodeBBox(magnet);\n    }\n\n    var padding = opt.padding;\n    if (isFinite(padding)) bbox.inflate(padding);\n\n    if (rotate) refPoint.rotate(center, angle);\n\n    var side = bbox.sideNearestToPoint(refPoint);\n    var anchor;\n    switch (side) {\n        case 'left':\n            anchor = bbox.leftMiddle();\n            break;\n        case 'right':\n            anchor = bbox.rightMiddle();\n            break;\n        case 'top':\n            anchor = bbox.topMiddle();\n            break;\n        case 'bottom':\n            anchor = bbox.bottomMiddle();\n            break;\n    }\n\n    return (rotate) ? anchor.rotate(center, -angle) : anchor;\n}\n\n// Can find anchor from model, when there is no selector or the link end\n// is connected to a port\nfunction _modelCenter(view, _magnet, _refPoint, opt, endType) {\n    return view.model.getPointFromConnectedLink(this.model, endType).offset(opt.dx, opt.dy);\n}\n\n//joint.anchors\nexport const center = bboxWrapper('center');\nexport const top = bboxWrapper('topMiddle');\nexport const bottom = bboxWrapper('bottomMiddle');\nexport const left = bboxWrapper('leftMiddle');\nexport const right = bboxWrapper('rightMiddle');\nexport const topLeft = bboxWrapper('origin');\nexport const topRight = bboxWrapper('topRight');\nexport const bottomLeft = bboxWrapper('bottomLeft');\nexport const bottomRight = bboxWrapper('corner');\nexport const perpendicular = resolveRef(_perpendicular);\nexport const midSide = resolveRef(_midSide);\nexport const modelCenter = _modelCenter;\n\n", "import V from '../V/index.mjs';\nimport {\n    isNumber,\n    assign,\n    nextFrame,\n    isObject,\n    cancelFrame,\n    defaults,\n    defaultsDeep,\n    addClassNamePrefix,\n    normalizeSides,\n    isFunction,\n    isPlainObject,\n    getByPath,\n    sortElements,\n    isString,\n    guid,\n    normalizeEvent,\n    normalizeWheel,\n    cap,\n    debounce,\n    omit,\n    result,\n    merge,\n    camelCase,\n    cloneDeep,\n    invoke,\n    hashCode,\n    filter as _filter,\n    parseDOMJSON,\n    toArray,\n    has\n} from '../util/index.mjs';\nimport { Rect, Point, toRad } from '../g/index.mjs';\nimport { View, views } from '../mvc/index.mjs';\nimport { CellView } from './CellView.mjs';\nimport { ElementView } from './ElementView.mjs';\nimport { LinkView } from './LinkView.mjs';\nimport { Link } from './Link.mjs';\nimport { Cell } from './Cell.mjs';\nimport { Graph } from './Graph.mjs';\nimport { LayersNames, PaperLayer } from './PaperLayer.mjs';\nimport * as highlighters from '../highlighters/index.mjs';\nimport * as linkAnchors from '../linkAnchors/index.mjs';\nimport * as connectionPoints from '../connectionPoints/index.mjs';\nimport * as anchors from '../anchors/index.mjs';\n\nimport $ from 'jquery';\nimport Backbone from 'backbone';\n\nconst sortingTypes = {\n    NONE: 'sorting-none',\n    APPROX: 'sorting-approximate',\n    EXACT: 'sorting-exact'\n};\n\nconst WHEEL_CAP = 50;\nconst WHEEL_WAIT_MS = 20;\nconst MOUNT_BATCH_SIZE = 1000;\nconst UPDATE_BATCH_SIZE = Infinity;\nconst MIN_PRIORITY = 9007199254740991; // Number.MAX_SAFE_INTEGER\n\nconst HighlightingTypes = CellView.Highlighting;\n\nconst defaultHighlighting = {\n    [HighlightingTypes.DEFAULT]: {\n        name: 'stroke',\n        options: {\n            padding: 3\n        }\n    },\n    [HighlightingTypes.MAGNET_AVAILABILITY]: {\n        name: 'addClass',\n        options: {\n            className: 'available-magnet'\n        }\n    },\n    [HighlightingTypes.ELEMENT_AVAILABILITY]: {\n        name: 'addClass',\n        options: {\n            className: 'available-cell'\n        }\n    }\n};\n\nconst defaultLayers = [{\n    name: LayersNames.BACK,\n}, {\n    name: LayersNames.CELLS,\n}, {\n    name: LayersNames.LABELS,\n}, {\n    name: LayersNames.FRONT\n}, {\n    name: LayersNames.TOOLS\n}];\n\nexport const Paper = View.extend({\n\n    className: 'paper',\n\n    options: {\n\n        width: 800,\n        height: 600,\n        origin: { x: 0, y: 0 }, // x,y coordinates in top-left corner\n        gridSize: 1,\n        // Whether or not to draw the grid lines on the paper's DOM element.\n        // e.g drawGrid: true, drawGrid: { color: 'red', thickness: 2 }\n        drawGrid: false,\n        // If not set, the size of the visual grid is the same as the `gridSize`.\n        drawGridSize: null,\n\n        // Whether or not to draw the background on the paper's DOM element.\n        // e.g. background: { color: 'lightblue', image: '/paper-background.png', repeat: 'flip-xy' }\n        background: false,\n\n        perpendicularLinks: false,\n        elementView: ElementView,\n        linkView: LinkView,\n        snapLabels: false, // false, true\n        snapLinks: false, // false, true, { radius: value }\n        snapLinksSelf: false, // false, true, { radius: value }\n\n        // Should the link labels be rendered into its own layer?\n        // `false` - the labels are part of the links\n        // `true` - the labels are appended to LayersName.LABELS\n        // [LayersName] - the labels are appended to the layer specified\n        labelsLayer: false,\n\n        // When set to FALSE, an element may not have more than 1 link with the same source and target element.\n        multiLinks: true,\n\n        // For adding custom guard logic.\n        guard: function(evt, view) {\n\n            // FALSE means the event isn't guarded.\n            return false;\n        },\n\n        highlighting: defaultHighlighting,\n\n        // Prevent the default context menu from being displayed.\n        preventContextMenu: true,\n\n        // Prevent the default action for blank:pointer<action>.\n        preventDefaultBlankAction: true,\n\n        // Prevent the default action for cell:pointer<action>.\n        preventDefaultViewAction: true,\n\n        // Restrict the translation of elements by given bounding box.\n        // Option accepts a boolean:\n        //  true - the translation is restricted to the paper area\n        //  false - no restrictions\n        // A method:\n        // restrictTranslate: function(elementView) {\n        //     var parentId = elementView.model.get('parent');\n        //     return parentId && this.model.getCell(parentId).getBBox();\n        // },\n        // Or a bounding box:\n        // restrictTranslate: { x: 10, y: 10, width: 790, height: 590 }\n        restrictTranslate: false,\n\n        // Marks all available magnets with 'available-magnet' class name and all available cells with\n        // 'available-cell' class name. Marks them when dragging a link is started and unmark\n        // when the dragging is stopped.\n        markAvailable: false,\n\n        // Defines what link model is added to the graph after an user clicks on an active magnet.\n        // Value could be the Backbone.model or a function returning the Backbone.model\n        // defaultLink: function(elementView, magnet) { return condition ? new customLink1() : new customLink2() }\n        defaultLink: new Link,\n\n        // A connector that is used by links with no connector defined on the model.\n        // e.g. { name: 'rounded', args: { radius: 5 }} or a function\n        defaultConnector: { name: 'normal' },\n\n        // A router that is used by links with no router defined on the model.\n        // e.g. { name: 'oneSide', args: { padding: 10 }} or a function\n        defaultRouter: { name: 'normal' },\n\n        defaultAnchor: { name: 'center' },\n\n        defaultLinkAnchor: { name: 'connectionRatio' },\n\n        defaultConnectionPoint: { name: 'bbox' },\n\n        /* CONNECTING */\n\n        connectionStrategy: null,\n\n        // Check whether to add a new link to the graph when user clicks on an a magnet.\n        validateMagnet: function(_cellView, magnet, _evt) {\n            return magnet.getAttribute('magnet') !== 'passive';\n        },\n\n        // Check whether to allow or disallow the link connection while an arrowhead end (source/target)\n        // being changed.\n        validateConnection: function(cellViewS, _magnetS, cellViewT, _magnetT, end, _linkView) {\n            return (end === 'target' ? cellViewT : cellViewS) instanceof ElementView;\n        },\n\n        /* EMBEDDING */\n\n        // Enables embedding. Re-parent the dragged element with elements under it and makes sure that\n        // all links and elements are visible taken the level of embedding into account.\n        embeddingMode: false,\n\n        // Check whether to allow or disallow the element embedding while an element being translated.\n        validateEmbedding: function(childView, parentView) {\n            // by default all elements can be in relation child-parent\n            return true;\n        },\n\n        // Check whether to allow or disallow an embedded element to be unembedded / to become a root.\n        validateUnembedding: function(childView) {\n            // by default all elements can become roots\n            return true;\n        },\n\n        // Determines the way how a cell finds a suitable parent when it's dragged over the paper.\n        // The cell with the highest z-index (visually on the top) will be chosen.\n        findParentBy: 'bbox', // 'bbox'|'center'|'origin'|'corner'|'topRight'|'bottomLeft'\n\n        // If enabled only the element on the very front is taken into account for the embedding.\n        // If disabled the elements under the dragged view are tested one by one\n        // (from front to back) until a valid parent found.\n        frontParentOnly: true,\n\n        // Interactive flags. See online docs for the complete list of interactive flags.\n        interactive: {\n            labelMove: false\n        },\n\n        // When set to true the links can be pinned to the paper.\n        // i.e. link source/target can be a point e.g. link.get('source') ==> { x: 100, y: 100 };\n        linkPinning: true,\n\n        // Custom validation after an interaction with a link ends.\n        // Recognizes a function. If `false` is returned, the link is disallowed (removed or reverted)\n        // (linkView, paper) => boolean\n        allowLink: null,\n\n        // Allowed number of mousemove events after which the pointerclick event will be still triggered.\n        clickThreshold: 0,\n\n        // Number of required mousemove events before the first pointermove event will be triggered.\n        moveThreshold: 0,\n\n        // Number of required mousemove events before a link is created out of the magnet.\n        // Or string `onleave` so the link is created when the pointer leaves the magnet\n        magnetThreshold: 0,\n\n        // Rendering Options\n\n        sorting: sortingTypes.EXACT,\n\n        frozen: false,\n\n        autoFreeze: false,\n\n        // no docs yet\n        onViewUpdate: function(view, flag, priority, opt, paper) {\n            // Do not update connected links when:\n            // 1. the view was just inserted (added to the graph and rendered)\n            // 2. the view was just mounted (added back to the paper by viewport function)\n            // 3. the change was marked as `isolate`.\n            // 4. the view model was just removed from the graph\n            if ((flag & (view.FLAG_INSERT | view.FLAG_REMOVE)) || opt.mounting || opt.isolate) return;\n            paper.requestConnectedLinksUpdate(view, priority, opt);\n        },\n\n        // no docs yet\n        onViewPostponed: function(view, flag, paper) {\n            return paper.forcePostponedViewUpdate(view, flag);\n        },\n\n        beforeRender: null, // function(opt, paper) { },\n\n        afterRender: null, // function(stats, opt, paper) {\n\n        viewport: null,\n\n        // Default namespaces\n\n        cellViewNamespace: null,\n\n        routerNamespace: null,\n\n        connectorNamespace: null,\n\n        highlighterNamespace: highlighters,\n\n        anchorNamespace: anchors,\n\n        linkAnchorNamespace: linkAnchors,\n\n        connectionPointNamespace: connectionPoints,\n\n        overflow: false\n    },\n\n    events: {\n        'dblclick': 'pointerdblclick',\n        'dbltap': 'pointerdblclick',\n        'contextmenu': 'contextmenu',\n        'mousedown': 'pointerdown',\n        'touchstart': 'pointerdown',\n        'mouseover': 'mouseover',\n        'mouseout': 'mouseout',\n        'mouseenter': 'mouseenter',\n        'mouseleave': 'mouseleave',\n        'wheel': 'mousewheel',\n        'mouseenter .joint-cell': 'mouseenter',\n        'mouseleave .joint-cell': 'mouseleave',\n        'mouseenter .joint-tools': 'mouseenter',\n        'mouseleave .joint-tools': 'mouseleave',\n        'dblclick .joint-cell [magnet]': 'magnetpointerdblclick',\n        'contextmenu .joint-cell [magnet]': 'magnetcontextmenu',\n        'mousedown .joint-link .label': 'onlabel', // interaction with link label\n        'touchstart .joint-link .label': 'onlabel',\n        'dragstart .joint-cell image': 'onImageDragStart' // firefox fix\n    },\n\n    documentEvents: {\n        'mousemove': 'pointermove',\n        'touchmove': 'pointermove',\n        'mouseup': 'pointerup',\n        'touchend': 'pointerup',\n        'touchcancel': 'pointerup'\n    },\n\n    svg: null,\n    viewport: null,\n    defs: null,\n    tools: null,\n    $background: null,\n    layers: null,\n    $grid: null,\n    $document: null,\n\n    // For storing the current transformation matrix (CTM) of the paper's viewport.\n    _viewportMatrix: null,\n    // For verifying whether the CTM is up-to-date. The viewport transform attribute\n    // could have been manipulated directly.\n    _viewportTransformString: null,\n    // Updates data (priorities, unmounted views etc.)\n    _updates: null,\n    // Paper Layers\n    _layers: null,\n\n    SORT_DELAYING_BATCHES: ['add', 'to-front', 'to-back'],\n    UPDATE_DELAYING_BATCHES: ['translate'],\n    // If you interact with these elements,\n    // the default interaction such as `element move` is prevented.\n    FORM_CONTROL_TAG_NAMES: ['TEXTAREA', 'INPUT', 'BUTTON', 'SELECT', 'OPTION'] ,\n    // If you interact with these elements, the events are not propagated to the paper\n    // i.e. paper events such as `element:pointerdown` are not triggered.\n    GUARDED_TAG_NAMES: [\n        // Guard <select> for consistency. When you click on it:\n        // Chrome: triggers `pointerdown`, `pointerup`, `pointerclick` to open\n        // Firefox: triggers `pointerdown` on open, `pointerup` (and `pointerclick` only if you haven't moved).\n        //          on close. However, if you open and then close by clicking elsewhere on the page,\n        //           no other event is triggered.\n        // Safari: when you open it, it triggers `pointerdown`. That's it.\n        'SELECT',\n    ],\n    MIN_SCALE: 1e-6,\n\n    init: function() {\n\n        const { options, el } = this;\n        if (!options.cellViewNamespace) {\n            /* eslint-disable no-undef */\n            options.cellViewNamespace = typeof joint !== 'undefined' && has(joint, 'shapes') ? joint.shapes : null;\n            /* eslint-enable no-undef */\n        }\n\n        const model = this.model = options.model || new Graph;\n\n        // Layers (SVGGroups)\n        this._layers = {};\n\n        this.setGrid(options.drawGrid);\n        this.cloneOptions();\n        this.render();\n        this._setDimensions();\n        this.startListening();\n\n        // Hash of all cell views.\n        this._views = {};\n\n        // Mouse wheel events buffer\n        this._mw_evt_buffer = {\n            event: null,\n            deltas: [],\n        };\n\n        // Reference to the paper owner document\n        this.$document = $(el.ownerDocument);\n        // Render existing cells in the graph\n        this.resetViews(model.attributes.cells.models);\n        // Start the Rendering Loop\n        if (!this.isFrozen() && this.isAsync()) this.updateViewsAsync();\n    },\n\n    _resetUpdates: function() {\n        return this._updates = {\n            id: null,\n            priorities: [{}, {}, {}],\n            unmountedCids: [],\n            mountedCids: [],\n            unmounted: {},\n            mounted: {},\n            count: 0,\n            keyFrozen: false,\n            freezeKey: null,\n            sort: false,\n            disabled: false,\n            idle: false\n        };\n    },\n\n    startListening: function() {\n        var model = this.model;\n        this.listenTo(model, 'add', this.onCellAdded)\n            .listenTo(model, 'remove', this.onCellRemoved)\n            .listenTo(model, 'change', this.onCellChange)\n            .listenTo(model, 'reset', this.onGraphReset)\n            .listenTo(model, 'sort', this.onGraphSort)\n            .listenTo(model, 'batch:stop', this.onGraphBatchStop);\n        this.on('cell:highlight', this.onCellHighlight)\n            .on('cell:unhighlight', this.onCellUnhighlight)\n            .on('scale translate', this.update);\n    },\n\n    onCellAdded: function(cell, _, opt) {\n        var position = opt.position;\n        if (this.isAsync() || !isNumber(position)) {\n            this.renderView(cell, opt);\n        } else {\n            if (opt.maxPosition === position) this.freeze({ key: 'addCells' });\n            this.renderView(cell, opt);\n            if (position === 0) this.unfreeze({ key: 'addCells' });\n        }\n    },\n\n    onCellRemoved: function(cell, _, opt) {\n        const view = this.findViewByModel(cell);\n        if (view) this.requestViewUpdate(view, view.FLAG_REMOVE, view.UPDATE_PRIORITY, opt);\n    },\n\n    onCellChange: function(cell, opt) {\n        if (cell === this.model.attributes.cells) return;\n        if (cell.hasChanged('z') && this.options.sorting === sortingTypes.APPROX) {\n            const view = this.findViewByModel(cell);\n            if (view) this.requestViewUpdate(view, view.FLAG_INSERT, view.UPDATE_PRIORITY, opt);\n        }\n    },\n\n    onGraphReset: function(collection, opt) {\n        this.resetLayers();\n        this.resetViews(collection.models, opt);\n    },\n\n    onGraphSort: function() {\n        if (this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)) return;\n        this.sortViews();\n    },\n\n    onGraphBatchStop: function(data) {\n        if (this.isFrozen()) return;\n        var name = data && data.batchName;\n        var graph = this.model;\n        if (!this.isAsync()) {\n            var updateDelayingBatches = this.UPDATE_DELAYING_BATCHES;\n            if (updateDelayingBatches.includes(name) && !graph.hasActiveBatch(updateDelayingBatches)) {\n                this.updateViews(data);\n            }\n        }\n        var sortDelayingBatches = this.SORT_DELAYING_BATCHES;\n        if (sortDelayingBatches.includes(name) && !graph.hasActiveBatch(sortDelayingBatches)) {\n            this.sortViews();\n        }\n    },\n\n    cloneOptions: function() {\n\n        const { options } = this;\n        const {\n            defaultConnector,\n            defaultRouter,\n            defaultConnectionPoint,\n            defaultAnchor,\n            defaultLinkAnchor,\n            origin,\n            highlighting,\n            cellViewNamespace,\n            interactive\n        } = options;\n\n        // Default cellView namespace for ES5\n        /* eslint-disable no-undef */\n        if (!cellViewNamespace && typeof joint !== 'undefined' && has(joint, 'shapes')) {\n            options.cellViewNamespace = joint.shapes;\n        }\n        /* eslint-enable no-undef */\n\n        // Here if a function was provided, we can not clone it, as this would result in loosing the function.\n        // If the default is used, the cloning is necessary in order to prevent modifying the options on prototype.\n        if (!isFunction(defaultConnector)) {\n            options.defaultConnector = cloneDeep(defaultConnector);\n        }\n        if (!isFunction(defaultRouter)) {\n            options.defaultRouter = cloneDeep(defaultRouter);\n        }\n        if (!isFunction(defaultConnectionPoint)) {\n            options.defaultConnectionPoint = cloneDeep(defaultConnectionPoint);\n        }\n        if (!isFunction(defaultAnchor)) {\n            options.defaultAnchor = cloneDeep(defaultAnchor);\n        }\n        if (!isFunction(defaultLinkAnchor)) {\n            options.defaultLinkAnchor = cloneDeep(defaultLinkAnchor);\n        }\n        if (isPlainObject(interactive)) {\n            options.interactive = assign({}, interactive);\n        }\n        if (isPlainObject(highlighting)) {\n            // Return the default highlighting options into the user specified options.\n            options.highlighting = defaultsDeep({}, highlighting, defaultHighlighting);\n        }\n        options.origin = assign({}, origin);\n    },\n\n    children: function() {\n        var ns = V.namespace;\n        return [{\n            namespaceURI: ns.xhtml,\n            tagName: 'div',\n            className: addClassNamePrefix('paper-background'),\n            selector: 'background'\n        }, {\n            namespaceURI: ns.xhtml,\n            tagName: 'div',\n            className: addClassNamePrefix('paper-grid'),\n            selector: 'grid'\n        }, {\n            namespaceURI: ns.svg,\n            tagName: 'svg',\n            attributes: {\n                'width': '100%',\n                'height': '100%',\n                'xmlns:xlink': ns.xlink\n            },\n            selector: 'svg',\n            children: [{\n                // Append `<defs>` element to the SVG document. This is useful for filters and gradients.\n                // It's desired to have the defs defined before the viewport (e.g. to make a PDF document pick up defs properly).\n                tagName: 'defs',\n                selector: 'defs'\n            }, {\n                tagName: 'g',\n                className: addClassNamePrefix('layers'),\n                selector: 'layers'\n            }]\n        }];\n    },\n\n    hasLayerView(layerName) {\n        return  (layerName in this._layers);\n    },\n\n    getLayerView(layerName) {\n        const { _layers } = this;\n        if (layerName in _layers) return _layers[layerName];\n        throw new Error(`dia.Paper: Unknown layer \"${layerName}\"`);\n    },\n\n    getLayerNode(layerName) {\n        return this.getLayerView(layerName).el;\n    },\n\n    render: function() {\n\n        this.renderChildren();\n        const { childNodes, options } = this;\n        const { svg, defs, layers, background, grid } = childNodes;\n\n        svg.style.overflow = options.overflow ? 'visible' : 'hidden';\n\n        this.svg = svg;\n        this.defs = defs;\n        this.layers = layers;\n        this.$background = $(background);\n        this.$grid = $(grid);\n\n        this.renderLayers();\n\n        V.ensureId(svg);\n\n        if (options.background) {\n            this.drawBackground(options.background);\n        }\n\n        if (options.drawGrid) {\n            this.drawGrid();\n        }\n\n        return this;\n    },\n\n    renderLayers: function(layers = defaultLayers) {\n        this.removeLayers();\n        // TODO: Layers to be read from the graph `layers` attribute\n        layers.forEach(({ name, sorted }) => {\n            const layerView = new PaperLayer({ name });\n            this.layers.appendChild(layerView.el);\n            this._layers[name] = layerView;\n        });\n        // Throws an exception if doesn't exist\n        const cellsLayerView = this.getLayerView(LayersNames.CELLS);\n        const toolsLayerView = this.getLayerView(LayersNames.TOOLS);\n        const labelsLayerView = this.getLayerView(LayersNames.LABELS);\n        // backwards compatibility\n        this.tools = toolsLayerView.el;\n        this.cells = this.viewport = cellsLayerView.el;\n        // user-select: none;\n        cellsLayerView.vel.addClass(addClassNamePrefix('viewport'));\n        labelsLayerView.vel.addClass(addClassNamePrefix('viewport'));\n    },\n\n    removeLayers: function() {\n        const { _layers } = this;\n        Object.keys(_layers).forEach(name => {\n            _layers[name].remove();\n            delete _layers[name];\n        });\n    },\n\n    resetLayers: function() {\n        const { _layers } = this;\n        Object.keys(_layers).forEach(name => {\n            _layers[name].removePivots();\n        });\n    },\n\n    update: function() {\n\n        if (this.options.drawGrid) {\n            this.drawGrid();\n        }\n\n        if (this._background) {\n            this.updateBackgroundImage(this._background);\n        }\n\n        return this;\n    },\n\n    matrix: function(ctm) {\n\n        var viewport = this.layers;\n\n        // Getter:\n        if (ctm === undefined) {\n\n            var transformString = viewport.getAttribute('transform');\n\n            if ((this._viewportTransformString || null) === transformString) {\n                // It's ok to return the cached matrix. The transform attribute has not changed since\n                // the matrix was stored.\n                ctm = this._viewportMatrix;\n            } else {\n                // The viewport transform attribute has changed. Measure the matrix and cache again.\n                ctm = viewport.getCTM();\n                this._viewportMatrix = ctm;\n                this._viewportTransformString = transformString;\n            }\n\n            // Clone the cached current transformation matrix.\n            // If no matrix previously stored the identity matrix is returned.\n            return V.createSVGMatrix(ctm);\n        }\n\n        // Setter:\n        ctm = V.createSVGMatrix(ctm);\n        var ctmString = V.matrixToTransformString(ctm);\n        viewport.setAttribute('transform', ctmString);\n\n        this._viewportMatrix = ctm;\n        this._viewportTransformString = viewport.getAttribute('transform');\n\n        return this;\n    },\n\n    clientMatrix: function() {\n\n        return V.createSVGMatrix(this.cells.getScreenCTM());\n    },\n\n    requestConnectedLinksUpdate: function(view, priority, opt) {\n        if (view instanceof CellView) {\n            var model = view.model;\n            var links = this.model.getConnectedLinks(model);\n            for (var j = 0, n = links.length; j < n; j++) {\n                var link = links[j];\n                var linkView = this.findViewByModel(link);\n                if (!linkView) continue;\n                var flagLabels = ['UPDATE'];\n                if (link.getTargetCell() === model) flagLabels.push('TARGET');\n                if (link.getSourceCell() === model) flagLabels.push('SOURCE');\n                var nextPriority = Math.max(priority + 1, linkView.UPDATE_PRIORITY);\n                this.scheduleViewUpdate(linkView, linkView.getFlag(flagLabels), nextPriority, opt);\n            }\n        }\n    },\n\n    forcePostponedViewUpdate: function(view, flag) {\n        if (!view || !(view instanceof CellView)) return false;\n        var model = view.model;\n        if (model.isElement()) return false;\n        if ((flag & view.getFlag(['SOURCE', 'TARGET'])) === 0) {\n            var dumpOptions = { silent: true };\n            // LinkView is waiting for the target or the source cellView to be rendered\n            // This can happen when the cells are not in the viewport.\n            var sourceFlag = 0;\n            var sourceView = this.findViewByModel(model.getSourceCell());\n            if (sourceView && !this.isViewMounted(sourceView)) {\n                sourceFlag = this.dumpView(sourceView, dumpOptions);\n                view.updateEndMagnet('source');\n            }\n            var targetFlag = 0;\n            var targetView = this.findViewByModel(model.getTargetCell());\n            if (targetView && !this.isViewMounted(targetView)) {\n                targetFlag = this.dumpView(targetView, dumpOptions);\n                view.updateEndMagnet('target');\n            }\n            if (sourceFlag === 0 && targetFlag === 0) {\n                // If leftover flag is 0, all view updates were done.\n                return !this.dumpView(view, dumpOptions);\n            }\n        }\n        return false;\n    },\n\n    requestViewUpdate: function(view, flag, priority, opt) {\n        opt || (opt = {});\n        this.scheduleViewUpdate(view, flag, priority, opt);\n        var isAsync = this.isAsync();\n        if (this.isFrozen() || (isAsync && opt.async !== false)) return;\n        if (this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)) return;\n        var stats = this.updateViews(opt);\n        if (isAsync) this.notifyAfterRender(stats, opt);\n    },\n\n    scheduleViewUpdate: function(view, type, priority, opt) {\n        const { _updates: updates, options } = this;\n        if (updates.idle) {\n            if (options.autoFreeze) {\n                updates.idle = false;\n                this.unfreeze();\n            }\n        }\n        const { FLAG_REMOVE, FLAG_INSERT, UPDATE_PRIORITY, cid } = view;\n        let priorityUpdates = updates.priorities[priority];\n        if (!priorityUpdates) priorityUpdates = updates.priorities[priority] = {};\n        // Move higher priority updates to this priority\n        if (priority > UPDATE_PRIORITY) {\n            // Not the default priority for this view. It's most likely a link view\n            // connected to another link view, which triggered the update.\n            // TODO: If there is an update scheduled with a lower priority already, we should\n            // change the requested priority to the lowest one. Does not seem to be critical\n            // right now, as it \"only\" results in multiple updates on the same view.\n            for (let i = priority - 1; i >= UPDATE_PRIORITY; i--) {\n                const prevPriorityUpdates = updates.priorities[i];\n                if (!prevPriorityUpdates || !(cid in prevPriorityUpdates)) continue;\n                priorityUpdates[cid] |= prevPriorityUpdates[cid];\n                delete prevPriorityUpdates[cid];\n            }\n        }\n        let currentType = priorityUpdates[cid] || 0;\n        // Prevent cycling\n        if ((currentType & type) === type) return;\n        if (!currentType) updates.count++;\n        if (type & FLAG_REMOVE && currentType & FLAG_INSERT) {\n            // When a view is removed we need to remove the insert flag as this is a reinsert\n            priorityUpdates[cid] ^= FLAG_INSERT;\n        } else if (type & FLAG_INSERT && currentType & FLAG_REMOVE) {\n            // When a view is added we need to remove the remove flag as this is view was previously removed\n            priorityUpdates[cid] ^= FLAG_REMOVE;\n        }\n        priorityUpdates[cid] |= type;\n        const viewUpdateFn = options.onViewUpdate;\n        if (typeof viewUpdateFn === 'function') viewUpdateFn.call(this, view, type, priority, opt || {}, this);\n    },\n\n    dumpViewUpdate: function(view) {\n        if (!view) return 0;\n        var updates = this._updates;\n        var cid = view.cid;\n        var priorityUpdates = updates.priorities[view.UPDATE_PRIORITY];\n        var flag = this.registerMountedView(view) | priorityUpdates[cid];\n        delete priorityUpdates[cid];\n        return flag;\n    },\n\n    dumpView: function(view, opt = {}) {\n        const flag = this.dumpViewUpdate(view);\n        if (!flag) return 0;\n        const shouldNotify = !opt.silent;\n        if (shouldNotify) this.notifyBeforeRender(opt);\n        const leftover = this.updateView(view, flag, opt);\n        if (shouldNotify) {\n            const stats = { updated: 1, priority: view.UPDATE_PRIORITY };\n            this.notifyAfterRender(stats, opt);\n        }\n        return leftover;\n    },\n\n    updateView: function(view, flag, opt) {\n        if (!view) return 0;\n        const { FLAG_REMOVE, FLAG_INSERT, FLAG_INIT, model } = view;\n        if (view instanceof CellView) {\n            if (flag & FLAG_REMOVE) {\n                this.removeView(model);\n                return 0;\n            }\n            if (flag & FLAG_INSERT) {\n                const isInitialInsert = !!(flag & FLAG_INIT);\n                if (isInitialInsert) {\n                    flag ^= FLAG_INIT;\n                }\n                this.insertView(view, isInitialInsert);\n                flag ^= FLAG_INSERT;\n            }\n        }\n        if (!flag) return 0;\n        return view.confirmUpdate(flag, opt || {});\n    },\n\n    requireView: function(model, opt) {\n        var view = this.findViewByModel(model);\n        if (!view) return null;\n        this.dumpView(view, opt);\n        return view;\n    },\n\n    registerUnmountedView: function(view) {\n        var cid = view.cid;\n        var updates = this._updates;\n        if (cid in updates.unmounted) return 0;\n        var flag = updates.unmounted[cid] |= view.FLAG_INSERT;\n        updates.unmountedCids.push(cid);\n        delete updates.mounted[cid];\n        return flag;\n    },\n\n    registerMountedView: function(view) {\n        var cid = view.cid;\n        var updates = this._updates;\n        if (cid in updates.mounted) return 0;\n        updates.mounted[cid] = true;\n        updates.mountedCids.push(cid);\n        var flag = updates.unmounted[cid] || 0;\n        delete updates.unmounted[cid];\n        return flag;\n    },\n\n    isViewMounted: function(view) {\n        if (!view) return false;\n        var cid = view.cid;\n        var updates = this._updates;\n        return (cid in updates.mounted);\n    },\n\n    dumpViews: function(opt) {\n        var passingOpt = defaults({}, opt, { viewport: null });\n        this.checkViewport(passingOpt);\n        this.updateViews(passingOpt);\n    },\n\n    // Synchronous views update\n    updateViews: function(opt) {\n        this.notifyBeforeRender(opt);\n        let batchStats;\n        let updateCount = 0;\n        let batchCount = 0;\n        let priority = MIN_PRIORITY;\n        do {\n            batchCount++;\n            batchStats = this.updateViewsBatch(opt);\n            updateCount += batchStats.updated;\n            priority = Math.min(batchStats.priority, priority);\n        } while (!batchStats.empty);\n        const stats = { updated: updateCount, batches: batchCount, priority };\n        this.notifyAfterRender(stats, opt);\n        return stats;\n    },\n\n    hasScheduledUpdates: function() {\n        const priorities = this._updates.priorities;\n        const priorityIndexes = Object.keys(priorities); // convert priorities to a dense array\n        let i = priorityIndexes.length;\n        while (i > 0 && i--) {\n            // a faster way how to check if an object is empty\n            for (let _key in priorities[priorityIndexes[i]]) return true;\n        }\n        return false;\n    },\n\n    updateViewsAsync: function(opt, data) {\n        opt || (opt = {});\n        data || (data = { processed: 0, priority: MIN_PRIORITY });\n        const { _updates: updates, options } = this;\n        const id = updates.id;\n        if (id) {\n            cancelFrame(id);\n            if (data.processed === 0 && this.hasScheduledUpdates()) {\n                this.notifyBeforeRender(opt);\n            }\n            const stats = this.updateViewsBatch(opt);\n            const passingOpt = defaults({}, opt, {\n                mountBatchSize: MOUNT_BATCH_SIZE - stats.mounted,\n                unmountBatchSize: MOUNT_BATCH_SIZE - stats.unmounted\n            });\n            const checkStats = this.checkViewport(passingOpt);\n            const unmountCount = checkStats.unmounted;\n            const mountCount = checkStats.mounted;\n            let processed = data.processed;\n            const total = updates.count;\n            if (stats.updated > 0) {\n                // Some updates have been just processed\n                processed += stats.updated + stats.unmounted;\n                stats.processed = processed;\n                data.priority = Math.min(stats.priority, data.priority);\n                if (stats.empty && mountCount === 0) {\n                    stats.unmounted += unmountCount;\n                    stats.mounted += mountCount;\n                    stats.priority = data.priority;\n                    this.notifyAfterRender(stats, opt);\n                    data.processed = 0;\n                    data.priority = MIN_PRIORITY;\n                    updates.count = 0;\n                } else {\n                    data.processed = processed;\n                }\n            } else {\n                if (!updates.idle) {\n                    if (options.autoFreeze) {\n                        this.freeze();\n                        updates.idle = true;\n                        this.trigger('render:idle', opt);\n                    }\n                }\n            }\n            // Progress callback\n            const progressFn = opt.progress;\n            if (total && typeof progressFn === 'function') {\n                progressFn.call(this, stats.empty, processed, total, stats, this);\n            }\n            // The current frame could have been canceled in a callback\n            if (updates.id !== id) return;\n        }\n        if (updates.disabled) {\n            throw new Error('dia.Paper: can not unfreeze the paper after it was removed');\n        }\n        updates.id = nextFrame(this.updateViewsAsync, this, opt, data);\n    },\n\n    notifyBeforeRender: function(opt = {}) {\n        let beforeFn = opt.beforeRender;\n        if (typeof beforeFn !== 'function') {\n            beforeFn = this.options.beforeRender;\n            if (typeof beforeFn !== 'function') return;\n        }\n        beforeFn.call(this, opt, this);\n    },\n\n    notifyAfterRender: function(stats, opt = {}) {\n        let afterFn = opt.afterRender;\n        if (typeof afterFn !== 'function') {\n            afterFn = this.options.afterRender;\n        }\n        if (typeof afterFn === 'function') {\n            afterFn.call(this, stats, opt, this);\n        }\n        this.trigger('render:done', stats, opt);\n    },\n\n    updateViewsBatch: function(opt) {\n        opt || (opt = {});\n        var batchSize = opt.batchSize || UPDATE_BATCH_SIZE;\n        var updates = this._updates;\n        var updateCount = 0;\n        var postponeCount = 0;\n        var unmountCount = 0;\n        var mountCount = 0;\n        var maxPriority = MIN_PRIORITY;\n        var empty = true;\n        var options = this.options;\n        var priorities = updates.priorities;\n        var viewportFn = 'viewport' in opt ? opt.viewport : options.viewport;\n        if (typeof viewportFn !== 'function') viewportFn = null;\n        var postponeViewFn = options.onViewPostponed;\n        if (typeof postponeViewFn !== 'function') postponeViewFn = null;\n        var priorityIndexes = Object.keys(priorities); // convert priorities to a dense array\n        main: for (var i = 0, n = priorityIndexes.length; i < n; i++) {\n            var priority = +priorityIndexes[i];\n            var priorityUpdates = priorities[priority];\n            for (var cid in priorityUpdates) {\n                if (updateCount >= batchSize) {\n                    empty = false;\n                    break main;\n                }\n                var view = views[cid];\n                if (!view) {\n                    // This should not occur\n                    delete priorityUpdates[cid];\n                    continue;\n                }\n                var currentFlag = priorityUpdates[cid];\n                if ((currentFlag & view.FLAG_REMOVE) === 0) {\n                    // We should never check a view for viewport if we are about to remove the view\n                    var isDetached = cid in updates.unmounted;\n                    if (view.DETACHABLE && viewportFn && !viewportFn.call(this, view, !isDetached, this)) {\n                        // Unmount View\n                        if (!isDetached) {\n                            this.registerUnmountedView(view);\n                            this.detachView(view);\n                        }\n                        updates.unmounted[cid] |= currentFlag;\n                        delete priorityUpdates[cid];\n                        unmountCount++;\n                        continue;\n                    }\n                    // Mount View\n                    if (isDetached) {\n                        currentFlag |= view.FLAG_INSERT;\n                        mountCount++;\n                    }\n                    currentFlag |= this.registerMountedView(view);\n                }\n                var leftoverFlag = this.updateView(view, currentFlag, opt);\n                if (leftoverFlag > 0) {\n                    // View update has not finished completely\n                    priorityUpdates[cid] = leftoverFlag;\n                    if (!postponeViewFn || !postponeViewFn.call(this, view, leftoverFlag, this) || priorityUpdates[cid]) {\n                        postponeCount++;\n                        empty = false;\n                        continue;\n                    }\n                }\n                if (maxPriority > priority) maxPriority = priority;\n                updateCount++;\n                delete priorityUpdates[cid];\n            }\n        }\n        return {\n            priority: maxPriority,\n            updated: updateCount,\n            postponed: postponeCount,\n            unmounted: unmountCount,\n            mounted: mountCount,\n            empty: empty\n        };\n    },\n\n    getUnmountedViews: function() {\n        const updates = this._updates;\n        const unmountedCids = Object.keys(updates.unmounted);\n        const n = unmountedCids.length;\n        const unmountedViews = new Array(n);\n        for (var i = 0; i < n; i++) {\n            unmountedViews[i] = views[unmountedCids[i]];\n        }\n        return unmountedViews;\n    },\n\n    getMountedViews: function() {\n        const updates = this._updates;\n        const mountedCids = Object.keys(updates.mounted);\n        const n = mountedCids.length;\n        const mountedViews = new Array(n);\n        for (var i = 0; i < n; i++) {\n            mountedViews[i] = views[mountedCids[i]];\n        }\n        return mountedViews;\n    },\n\n    checkUnmountedViews: function(viewportFn, opt) {\n        opt || (opt  = {});\n        var mountCount = 0;\n        if (typeof viewportFn !== 'function') viewportFn = null;\n        var batchSize = 'mountBatchSize' in opt ? opt.mountBatchSize : Infinity;\n        var updates = this._updates;\n        var unmountedCids = updates.unmountedCids;\n        var unmounted = updates.unmounted;\n        for (var i = 0, n = Math.min(unmountedCids.length, batchSize); i < n; i++) {\n            var cid = unmountedCids[i];\n            if (!(cid in unmounted)) continue;\n            var view = views[cid];\n            if (!view) continue;\n            if (view.DETACHABLE && viewportFn && !viewportFn.call(this, view, false, this)) {\n                // Push at the end of all unmounted ids, so this can be check later again\n                unmountedCids.push(cid);\n                continue;\n            }\n            mountCount++;\n            var flag = this.registerMountedView(view);\n            if (flag) this.scheduleViewUpdate(view, flag, view.UPDATE_PRIORITY, { mounting: true });\n        }\n        // Get rid of views, that have been mounted\n        unmountedCids.splice(0, i);\n        return mountCount;\n    },\n\n    checkMountedViews: function(viewportFn, opt) {\n        opt || (opt = {});\n        var unmountCount = 0;\n        if (typeof viewportFn !== 'function') return unmountCount;\n        var batchSize = 'unmountBatchSize' in opt ? opt.unmountBatchSize : Infinity;\n        var updates = this._updates;\n        var mountedCids = updates.mountedCids;\n        var mounted = updates.mounted;\n        for (var i = 0, n = Math.min(mountedCids.length, batchSize); i < n; i++) {\n            var cid = mountedCids[i];\n            if (!(cid in mounted)) continue;\n            var view = views[cid];\n            if (!view) continue;\n            if (!view.DETACHABLE || viewportFn.call(this, view, true, this)) {\n                // Push at the end of all mounted ids, so this can be check later again\n                mountedCids.push(cid);\n                continue;\n            }\n            unmountCount++;\n            var flag = this.registerUnmountedView(view);\n            if (flag) this.detachView(view);\n        }\n        // Get rid of views, that have been unmounted\n        mountedCids.splice(0, i);\n        return unmountCount;\n    },\n\n    checkViewVisibility: function(cellView, opt = {}) {\n        let viewportFn = 'viewport' in opt ? opt.viewport : this.options.viewport;\n        if (typeof viewportFn !== 'function') viewportFn = null;\n        const updates = this._updates;\n        const { mounted, unmounted } = updates;\n        const visible = !cellView.DETACHABLE || !viewportFn || viewportFn.call(this, cellView, false, this);\n\n        let isUnmounted = false;\n        let isMounted = false;\n\n        if (cellView.cid in mounted && !visible) {\n            const flag = this.registerUnmountedView(cellView);\n            if (flag) this.detachView(cellView);\n            const i = updates.mountedCids.indexOf(cellView.cid);\n            updates.mountedCids.splice(i, 1);\n            isUnmounted = true;\n        }\n\n        if (!isUnmounted && cellView.cid in unmounted && visible) {\n            const i = updates.unmountedCids.indexOf(cellView.cid);\n            updates.unmountedCids.splice(i, 1);\n            var flag = this.registerMountedView(cellView);\n            if (flag) this.scheduleViewUpdate(cellView, flag, cellView.UPDATE_PRIORITY, { mounting: true });\n            isMounted = true;\n        }\n\n        return {\n            mounted: isMounted ? 1 : 0,\n            unmounted: isUnmounted ? 1 : 0\n        };\n    },\n\n    checkViewport: function(opt) {\n        var passingOpt = defaults({}, opt, {\n            mountBatchSize: Infinity,\n            unmountBatchSize: Infinity\n        });\n        var viewportFn = 'viewport' in passingOpt ? passingOpt.viewport : this.options.viewport;\n        var unmountedCount = this.checkMountedViews(viewportFn, passingOpt);\n        if (unmountedCount > 0) {\n            // Do not check views, that have been just unmounted and pushed at the end of the cids array\n            var unmountedCids = this._updates.unmountedCids;\n            passingOpt.mountBatchSize = Math.min(unmountedCids.length - unmountedCount, passingOpt.mountBatchSize);\n        }\n        var mountedCount = this.checkUnmountedViews(viewportFn, passingOpt);\n        return {\n            mounted: mountedCount,\n            unmounted: unmountedCount\n        };\n    },\n\n    freeze: function(opt) {\n        opt || (opt = {});\n        var updates = this._updates;\n        var key = opt.key;\n        var isFrozen = this.options.frozen;\n        var freezeKey = updates.freezeKey;\n        if (key && key !== freezeKey)  {\n            // key passed, but the paper is already freezed with another key\n            if (isFrozen && freezeKey) return;\n            updates.freezeKey = key;\n            updates.keyFrozen = isFrozen;\n        }\n        this.options.frozen = true;\n        var id = updates.id;\n        updates.id = null;\n        if (this.isAsync() && id) cancelFrame(id);\n    },\n\n    unfreeze: function(opt) {\n        opt || (opt = {});\n        var updates = this._updates;\n        var key = opt.key;\n        var freezeKey = updates.freezeKey;\n        // key passed, but the paper is already freezed with another key\n        if (key && freezeKey && key !== freezeKey) return;\n        updates.freezeKey = null;\n        // key passed, but the paper is already freezed\n        if (key && key === freezeKey && updates.keyFrozen) return;\n        if (this.isAsync()) {\n            this.freeze();\n            this.updateViewsAsync(opt);\n        } else {\n            this.updateViews(opt);\n        }\n        this.options.frozen = updates.keyFrozen = false;\n        if (updates.sort) {\n            this.sortViews();\n            updates.sort = false;\n        }\n    },\n\n    isAsync: function() {\n        return !!this.options.async;\n    },\n\n    isFrozen: function() {\n        return !!this.options.frozen;\n    },\n\n    isExactSorting: function() {\n        return this.options.sorting === sortingTypes.EXACT;\n    },\n\n    onRemove: function() {\n\n        this.freeze();\n        this._updates.disabled = true;\n        //clean up all DOM elements/views to prevent memory leaks\n        this.removeLayers();\n        this.removeViews();\n    },\n\n    getComputedSize: function() {\n\n        var options = this.options;\n        var w = options.width;\n        var h = options.height;\n        if (!isNumber(w)) w = this.el.clientWidth;\n        if (!isNumber(h)) h = this.el.clientHeight;\n        return { width: w, height: h };\n    },\n\n    setDimensions: function(width, height) {\n        const { options } = this;\n        const { width: currentWidth, height: currentHeight } = options;\n        let w = (width === undefined) ? currentWidth : width;\n        let h = (height === undefined) ? currentHeight : height;\n        if (currentWidth === w && currentHeight === h) return;\n        options.width = w;\n        options.height = h;\n        this._setDimensions();\n        const computedSize = this.getComputedSize();\n        this.trigger('resize', computedSize.width, computedSize.height);\n    },\n\n    _setDimensions: function() {\n        const { options } = this;\n        let w = options.width;\n        let h = options.height;\n        if (isNumber(w)) w = Math.round(w);\n        if (isNumber(h)) h = Math.round(h);\n        this.$el.css({\n            width: (w === null) ? '' : w,\n            height: (h === null) ? '' : h\n        });\n    },\n\n    setOrigin: function(ox, oy) {\n        return this.translate(ox || 0, oy || 0);\n    },\n\n    // Expand/shrink the paper to fit the content.\n    // Alternatively signature function(opt)\n    fitToContent: function(gridWidth, gridHeight, padding, opt) {\n\n        if (isObject(gridWidth)) {\n            // first parameter is an option object\n            opt = gridWidth;\n        } else {\n            // Support for a deprecated signature\n            opt = assign({ gridWidth, gridHeight, padding }, opt);\n        }\n\n        const { x, y, width, height } = this.getFitToContentArea(opt);\n        const { sx, sy } = this.scale();\n\n        this.setOrigin(-x * sx, -y * sy);\n        this.setDimensions(width * sx, height * sy);\n\n        return new Rect(x, y, width, height);\n    },\n\n    getFitToContentArea: function(opt = {}) {\n\n        // Calculate the paper size to accommodate all the graph's elements.\n\n        const gridWidth = opt.gridWidth || 1;\n        const gridHeight = opt.gridHeight || 1;\n        const padding = normalizeSides(opt.padding || 0);\n\n        const minWidth = Math.max(opt.minWidth || 0, gridWidth);\n        const minHeight = Math.max(opt.minHeight || 0, gridHeight);\n        const maxWidth = opt.maxWidth || Number.MAX_VALUE;\n        const maxHeight = opt.maxHeight || Number.MAX_VALUE;\n        const newOrigin = opt.allowNewOrigin;\n\n        const area = ('contentArea' in opt) ? new Rect(opt.contentArea) : this.getContentArea(opt);\n        const { sx, sy } = this.scale();\n        area.x *= sx;\n        area.y *= sy;\n        area.width *= sx;\n        area.height *= sy;\n\n        let calcWidth = Math.ceil((area.width + area.x) / gridWidth);\n        let calcHeight = Math.ceil((area.height + area.y) / gridHeight);\n        if (!opt.allowNegativeBottomRight) {\n            calcWidth = Math.max(calcWidth, 1);\n            calcHeight = Math.max(calcHeight, 1);\n        }\n        calcWidth *= gridWidth;\n        calcHeight *= gridHeight;\n\n        let tx = 0;\n        if ((newOrigin === 'negative' && area.x < 0) || (newOrigin === 'positive' && area.x >= 0) || newOrigin === 'any') {\n            tx = Math.ceil(-area.x / gridWidth) * gridWidth;\n            tx += padding.left;\n            calcWidth += tx;\n        }\n\n        let ty = 0;\n        if ((newOrigin === 'negative' && area.y < 0) || (newOrigin === 'positive' && area.y >= 0) || newOrigin === 'any') {\n            ty = Math.ceil(-area.y / gridHeight) * gridHeight;\n            ty += padding.top;\n            calcHeight += ty;\n        }\n\n        calcWidth += padding.right;\n        calcHeight += padding.bottom;\n\n        // Make sure the resulting width and height are greater than minimum.\n        calcWidth = Math.max(calcWidth, minWidth);\n        calcHeight = Math.max(calcHeight, minHeight);\n\n        // Make sure the resulting width and height are lesser than maximum.\n        calcWidth = Math.min(calcWidth, maxWidth);\n        calcHeight = Math.min(calcHeight, maxHeight);\n\n        return new Rect(-tx / sx, -ty / sy, calcWidth / sx, calcHeight / sy);\n    },\n\n    transformToFitContent: function(opt) {\n        opt || (opt = {});\n\n        let contentBBox, contentLocalOrigin;\n        if ('contentArea' in opt) {\n            const contentArea = opt.contentArea;\n            contentBBox = this.localToPaperRect(contentArea);\n            contentLocalOrigin = new Point(contentArea);\n        } else {\n            contentBBox = this.getContentBBox(opt);\n            contentLocalOrigin = this.paperToLocalPoint(contentBBox);\n        }\n\n        if (!contentBBox.width || !contentBBox.height) return;\n\n        defaults(opt, {\n            padding: 0,\n            preserveAspectRatio: true,\n            scaleGrid: null,\n            minScale: 0,\n            maxScale: Number.MAX_VALUE,\n            verticalAlign: 'top',\n            horizontalAlign: 'left',\n            //minScaleX\n            //minScaleY\n            //maxScaleX\n            //maxScaleY\n            //fittingBBox\n        });\n\n        const padding = normalizeSides(opt.padding);\n\n        const minScaleX = opt.minScaleX || opt.minScale;\n        const maxScaleX = opt.maxScaleX || opt.maxScale;\n        const minScaleY = opt.minScaleY || opt.minScale;\n        const maxScaleY = opt.maxScaleY || opt.maxScale;\n\n        let fittingBBox;\n        if (opt.fittingBBox) {\n            fittingBBox = opt.fittingBBox;\n        } else {\n            const currentTranslate = this.translate();\n            const computedSize = this.getComputedSize();\n            fittingBBox = {\n                x: currentTranslate.tx,\n                y: currentTranslate.ty,\n                width: computedSize.width,\n                height: computedSize.height\n            };\n        }\n\n        fittingBBox = new Rect(fittingBBox).moveAndExpand({\n            x: padding.left,\n            y: padding.top,\n            width: -padding.left - padding.right,\n            height: -padding.top - padding.bottom\n        });\n\n        const currentScale = this.scale();\n\n        let newSx = fittingBBox.width / contentBBox.width * currentScale.sx;\n        let newSy = fittingBBox.height / contentBBox.height * currentScale.sy;\n\n        if (opt.preserveAspectRatio) {\n            newSx = newSy = Math.min(newSx, newSy);\n        }\n\n        // snap scale to a grid\n        if (opt.scaleGrid) {\n\n            const gridSize = opt.scaleGrid;\n\n            newSx = gridSize * Math.floor(newSx / gridSize);\n            newSy = gridSize * Math.floor(newSy / gridSize);\n        }\n\n        // scale min/max boundaries\n        newSx = Math.min(maxScaleX, Math.max(minScaleX, newSx));\n        newSy = Math.min(maxScaleY, Math.max(minScaleY, newSy));\n\n        const scaleDiff = {\n            x: newSx / currentScale.sx,\n            y: newSy / currentScale.sy\n        };\n\n        const origin = this.options.origin;\n        let newOx = fittingBBox.x - contentLocalOrigin.x * newSx - origin.x;\n        let newOy = fittingBBox.y - contentLocalOrigin.y * newSy - origin.y;\n\n        switch (opt.verticalAlign) {\n            case 'middle':\n                newOy = newOy + (fittingBBox.height - contentBBox.height * scaleDiff.y) / 2;\n                break;\n            case 'bottom':\n                newOy = newOy + (fittingBBox.height - contentBBox.height * scaleDiff.y);\n                break;\n            case 'top':\n            default:\n                break;\n        }\n\n        switch (opt.horizontalAlign) {\n            case 'middle':\n                newOx = newOx + (fittingBBox.width - contentBBox.width * scaleDiff.x) / 2;\n                break;\n            case 'right':\n                newOx = newOx + (fittingBBox.width - contentBBox.width * scaleDiff.x);\n                break;\n            case 'left':\n            default:\n                break;\n        }\n\n        this.scale(newSx, newSy);\n        this.translate(newOx, newOy);\n    },\n\n    scaleContentToFit: function(opt) {\n        this.transformToFitContent(opt);\n    },\n\n    // Return the dimensions of the content area in local units (without transformations).\n    getContentArea: function(opt) {\n\n        if (opt && opt.useModelGeometry) {\n            return this.model.getBBox() || new Rect();\n        }\n\n        return V(this.cells).getBBox();\n    },\n\n    // Return the dimensions of the content bbox in the paper units (as it appears on screen).\n    getContentBBox: function(opt) {\n\n        return this.localToPaperRect(this.getContentArea(opt));\n    },\n\n    // Returns a geometry rectangle representing the entire\n    // paper area (coordinates from the left paper border to the right one\n    // and the top border to the bottom one).\n    getArea: function() {\n\n        return this.paperToLocalRect(this.getComputedSize());\n    },\n\n    getRestrictedArea: function(...args) {\n\n        const { restrictTranslate } = this.options;\n\n        let restrictedArea;\n        if (isFunction(restrictTranslate)) {\n            // A method returning a bounding box\n            restrictedArea = restrictTranslate.apply(this, args);\n        } else if (restrictTranslate === true) {\n            // The paper area\n            restrictedArea = this.getArea();\n        } else if (!restrictTranslate) {\n            // falsy value\n            restrictedArea = null;\n        } else {\n            // any other value\n            restrictedArea = new Rect(restrictTranslate);\n        }\n\n        return restrictedArea;\n    },\n\n    createViewForModel: function(cell) {\n\n        const { options } = this;\n        // A class taken from the paper options.\n        var optionalViewClass;\n\n        // A default basic class (either dia.ElementView or dia.LinkView)\n        var defaultViewClass;\n\n        // A special class defined for this model in the corresponding namespace.\n        // e.g. joint.shapes.basic.Rect searches for joint.shapes.basic.RectView\n        var namespace = options.cellViewNamespace;\n        var type = cell.get('type') + 'View';\n        var namespaceViewClass = getByPath(namespace, type, '.');\n\n        if (cell.isLink()) {\n            optionalViewClass = options.linkView;\n            defaultViewClass = LinkView;\n        } else {\n            optionalViewClass = options.elementView;\n            defaultViewClass = ElementView;\n        }\n\n        // a) the paper options view is a class (deprecated)\n        //  1. search the namespace for a view\n        //  2. if no view was found, use view from the paper options\n        // b) the paper options view is a function\n        //  1. call the function from the paper options\n        //  2. if no view was return, search the namespace for a view\n        //  3. if no view was found, use the default\n        var ViewClass = (optionalViewClass.prototype instanceof Backbone.View)\n            ? namespaceViewClass || optionalViewClass\n            : optionalViewClass.call(this, cell) || namespaceViewClass || defaultViewClass;\n\n        return new ViewClass({\n            model: cell,\n            interactive: options.interactive,\n            labelsLayer: options.labelsLayer === true ? LayersNames.LABELS : options.labelsLayer\n        });\n    },\n\n    removeView: function(cell) {\n\n        const { id } = cell;\n        const { _views, _updates } = this;\n        const view = _views[id];\n        if (view) {\n            var { cid } = view;\n            const { mounted, unmounted } = _updates;\n            view.remove();\n            delete _views[id];\n            delete mounted[cid];\n            delete unmounted[cid];\n        }\n        return view;\n    },\n\n    renderView: function(cell, opt) {\n\n        const { id } = cell;\n        const views = this._views;\n        let view, flag;\n        let create = true;\n        if (id in views) {\n            view = views[id];\n            if (view.model === cell) {\n                flag = view.FLAG_INSERT;\n                create = false;\n            } else {\n                // The view for this `id` already exist.\n                // The cell is a new instance of the model with identical id\n                // We simply remove the existing view and create a new one\n                this.removeView(cell);\n            }\n        }\n        if (create) {\n            view = views[id] = this.createViewForModel(cell);\n            view.paper = this;\n            flag = this.registerUnmountedView(view) | this.FLAG_INIT | view.getFlag(result(view, 'initFlag'));\n        }\n        this.requestViewUpdate(view, flag, view.UPDATE_PRIORITY, opt);\n        return view;\n    },\n\n    onImageDragStart: function() {\n        // This is the only way to prevent image dragging in Firefox that works.\n        // Setting -moz-user-select: none, draggable=\"false\" attribute or user-drag: none didn't help.\n\n        return false;\n    },\n\n    resetViews: function(cells, opt) {\n        opt || (opt = {});\n        cells || (cells = []);\n        this._resetUpdates();\n        // clearing views removes any event listeners\n        this.removeViews();\n        // Allows to unfreeze normally while in the idle state using autoFreeze option\n        const key = this.options.autoFreeze ? null : 'reset';\n        this.freeze({ key });\n        for (var i = 0, n = cells.length; i < n; i++) {\n            this.renderView(cells[i], opt);\n        }\n        this.unfreeze({ key });\n        this.sortViews();\n    },\n\n    removeViews: function() {\n\n        invoke(this._views, 'remove');\n\n        this._views = {};\n    },\n\n    sortViews: function() {\n\n        if (!this.isExactSorting()) {\n            // noop\n            return;\n        }\n        if (this.isFrozen()) {\n            // sort views once unfrozen\n            this._updates.sort = true;\n            return;\n        }\n        this.sortViewsExact();\n    },\n\n    sortViewsExact: function() {\n\n        // Run insertion sort algorithm in order to efficiently sort DOM elements according to their\n        // associated model `z` attribute.\n\n        var $cells = $(this.cells).children('[model-id]');\n        var cells = this.model.get('cells');\n\n        sortElements($cells, function(a, b) {\n            var cellA = cells.get(a.getAttribute('model-id'));\n            var cellB = cells.get(b.getAttribute('model-id'));\n            var zA = cellA.attributes.z || 0;\n            var zB = cellB.attributes.z || 0;\n            return (zA === zB) ? 0 : (zA < zB) ? -1 : 1;\n        });\n    },\n\n    insertView: function(view, isInitialInsert) {\n        const layerView = this.getLayerView(LayersNames.CELLS);\n        const { el, model } = view;\n        switch (this.options.sorting) {\n            case sortingTypes.APPROX:\n                layerView.insertSortedNode(el, model.get('z'));\n                break;\n            case sortingTypes.EXACT:\n            default:\n                layerView.insertNode(el);\n                break;\n        }\n        view.onMount(isInitialInsert);\n    },\n\n    detachView(view) {\n        view.unmount();\n        view.onDetach();\n    },\n\n    scale: function(sx, sy, ox, oy) {\n\n        // getter\n        if (sx === undefined) {\n            return V.matrixToScale(this.matrix());\n        }\n\n        // setter\n        if (sy === undefined) {\n            sy = sx;\n        }\n        if (ox === undefined) {\n            ox = 0;\n            oy = 0;\n        }\n\n        var translate = this.translate();\n\n        if (ox || oy || translate.tx || translate.ty) {\n            var newTx = translate.tx - ox * (sx - 1);\n            var newTy = translate.ty - oy * (sy - 1);\n            this.translate(newTx, newTy);\n        }\n\n        sx = Math.max(sx || 0, this.MIN_SCALE);\n        sy = Math.max(sy || 0, this.MIN_SCALE);\n\n        var ctm = this.matrix();\n        ctm.a = sx;\n        ctm.d = sy;\n\n        this.matrix(ctm);\n\n        this.trigger('scale', sx, sy, ox, oy);\n\n        return this;\n    },\n\n    // Experimental - do not use in production.\n    rotate: function(angle, cx, cy) {\n\n        // getter\n        if (angle === undefined) {\n            return V.matrixToRotate(this.matrix());\n        }\n\n        // setter\n\n        // If the origin is not set explicitely, rotate around the center. Note that\n        // we must use the plain bounding box (`this.el.getBBox()` instead of the one that gives us\n        // the real bounding box (`bbox()`) including transformations).\n        if (cx === undefined) {\n            var bbox = this.cells.getBBox();\n            cx = bbox.width / 2;\n            cy = bbox.height / 2;\n        }\n\n        var ctm = this.matrix().translate(cx, cy).rotate(angle).translate(-cx, -cy);\n        this.matrix(ctm);\n\n        return this;\n    },\n\n    translate: function(tx, ty) {\n\n        // getter\n        if (tx === undefined) {\n            return V.matrixToTranslate(this.matrix());\n        }\n\n        const { options } = this;\n        const { origin, drawGrid } = options;\n\n        // setter\n        tx || (tx = 0);\n        ty || (ty = 0);\n\n        const ctm = this.matrix();\n        if (ctm.e === tx && ctm.f === ty) return this;\n        ctm.e = tx;\n        ctm.f = ty;\n\n        this.matrix(ctm);\n\n        const { tx: ox, ty: oy } = this.translate();\n        origin.x = ox;\n        origin.y = oy;\n\n        this.trigger('translate', ox, oy);\n\n        if (drawGrid) {\n            this.drawGrid();\n        }\n\n        return this;\n    },\n\n    // Find the first view climbing up the DOM tree starting at element `el`. Note that `el` can also\n    // be a selector or a jQuery object.\n    findView: function($el) {\n\n        var el = isString($el)\n            ? this.cells.querySelector($el)\n            : $el instanceof $ ? $el[0] : $el;\n\n        var id = this.findAttribute('model-id', el);\n        if (id) return this._views[id];\n\n        return undefined;\n    },\n\n    // Find a view for a model `cell`. `cell` can also be a string or number representing a model `id`.\n    findViewByModel: function(cell) {\n\n        var id = (isString(cell) || isNumber(cell)) ? cell : (cell && cell.id);\n\n        return this._views[id];\n    },\n\n    // Find all views at given point\n    findViewsFromPoint: function(p) {\n\n        p = new Point(p);\n\n        var views = this.model.getElements().map(this.findViewByModel, this);\n\n        return views.filter(function(view) {\n            return view && view.vel.getBBox({ target: this.cells }).containsPoint(p);\n        }, this);\n    },\n\n    // Find all views in given area\n    findViewsInArea: function(rect, opt) {\n\n        opt = defaults(opt || {}, { strict: false });\n        rect = new Rect(rect);\n\n        var views = this.model.getElements().map(this.findViewByModel, this);\n        var method = opt.strict ? 'containsRect' : 'intersect';\n\n        return views.filter(function(view) {\n            return view && rect[method](view.vel.getBBox({ target: this.cells }));\n        }, this);\n    },\n\n    removeTools: function() {\n        this.dispatchToolsEvent('remove');\n        return this;\n    },\n\n    hideTools: function() {\n        this.dispatchToolsEvent('hide');\n        return this;\n    },\n\n    showTools: function() {\n        this.dispatchToolsEvent('show');\n        return this;\n    },\n\n    dispatchToolsEvent: function(event, ...args) {\n        if (typeof event !== 'string') return;\n        this.trigger('tools:event', event, ...args);\n    },\n\n\n    getModelById: function(id) {\n\n        return this.model.getCell(id);\n    },\n\n    snapToGrid: function(x, y) {\n\n        // Convert global coordinates to the local ones of the `viewport`. Otherwise,\n        // improper transformation would be applied when the viewport gets transformed (scaled/rotated).\n        return this.clientToLocalPoint(x, y).snapToGrid(this.options.gridSize);\n    },\n\n    localToPaperPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var localPoint = new Point(x, y);\n        var paperPoint = V.transformPoint(localPoint, this.matrix());\n        return paperPoint;\n    },\n\n    localToPaperRect: function(x, y, width, height) {\n        // allow `x` to be a rectangle and rest arguments undefined\n        var localRect = new Rect(x, y, width, height);\n        var paperRect = V.transformRect(localRect, this.matrix());\n        return paperRect;\n    },\n\n    paperToLocalPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var paperPoint = new Point(x, y);\n        var localPoint = V.transformPoint(paperPoint, this.matrix().inverse());\n        return localPoint;\n    },\n\n    paperToLocalRect: function(x, y, width, height) {\n        // allow `x` to be a rectangle and rest arguments undefined\n        var paperRect = new Rect(x, y, width, height);\n        var localRect = V.transformRect(paperRect, this.matrix().inverse());\n        return localRect;\n    },\n\n    localToClientPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var localPoint = new Point(x, y);\n        var clientPoint = V.transformPoint(localPoint, this.clientMatrix());\n        return clientPoint;\n    },\n\n    localToClientRect: function(x, y, width, height) {\n        // allow `x` to be a point and `y` undefined\n        var localRect = new Rect(x, y, width, height);\n        var clientRect = V.transformRect(localRect, this.clientMatrix());\n        return clientRect;\n    },\n\n    // Transform client coordinates to the paper local coordinates.\n    // Useful when you have a mouse event object and you'd like to get coordinates\n    // inside the paper that correspond to `evt.clientX` and `evt.clientY` point.\n    // Example: var localPoint = paper.clientToLocalPoint({ x: evt.clientX, y: evt.clientY });\n    clientToLocalPoint: function(x, y) {\n        // allow `x` to be a point and `y` undefined\n        var clientPoint = new Point(x, y);\n        var localPoint = V.transformPoint(clientPoint, this.clientMatrix().inverse());\n        return localPoint;\n    },\n\n    clientToLocalRect: function(x, y, width, height) {\n        // allow `x` to be a point and `y` undefined\n        var clientRect = new Rect(x, y, width, height);\n        var localRect = V.transformRect(clientRect, this.clientMatrix().inverse());\n        return localRect;\n    },\n\n    localToPagePoint: function(x, y) {\n\n        return this.localToPaperPoint(x, y).offset(this.pageOffset());\n    },\n\n    localToPageRect: function(x, y, width, height) {\n\n        return this.localToPaperRect(x, y, width, height).offset(this.pageOffset());\n    },\n\n    pageToLocalPoint: function(x, y) {\n\n        var pagePoint = new Point(x, y);\n        var paperPoint = pagePoint.difference(this.pageOffset());\n        return this.paperToLocalPoint(paperPoint);\n    },\n\n    pageToLocalRect: function(x, y, width, height) {\n\n        var pageOffset = this.pageOffset();\n        var paperRect = new Rect(x, y, width, height);\n        paperRect.x -= pageOffset.x;\n        paperRect.y -= pageOffset.y;\n        return this.paperToLocalRect(paperRect);\n    },\n\n    clientOffset: function() {\n\n        var clientRect = this.svg.getBoundingClientRect();\n        return new Point(clientRect.left, clientRect.top);\n    },\n\n    pageOffset: function() {\n\n        return this.clientOffset().offset(window.scrollX, window.scrollY);\n    },\n\n    linkAllowed: function(linkView) {\n\n        if (!(linkView instanceof LinkView)) {\n            throw new Error('Must provide a linkView.');\n        }\n\n        var link = linkView.model;\n        var paperOptions = this.options;\n        var graph = this.model;\n        var ns = graph.constructor.validations;\n\n        if (!paperOptions.multiLinks) {\n            if (!ns.multiLinks.call(this, graph, link)) return false;\n        }\n\n        if (!paperOptions.linkPinning) {\n            // Link pinning is not allowed and the link is not connected to the target.\n            if (!ns.linkPinning.call(this, graph, link)) return false;\n        }\n\n        if (typeof paperOptions.allowLink === 'function') {\n            if (!paperOptions.allowLink.call(this, linkView, this)) return false;\n        }\n\n        return true;\n    },\n\n    getDefaultLink: function(cellView, magnet) {\n\n        return isFunction(this.options.defaultLink)\n        // default link is a function producing link model\n            ? this.options.defaultLink.call(this, cellView, magnet)\n        // default link is the Backbone model\n            : this.options.defaultLink.clone();\n    },\n\n    // Cell highlighting.\n    // ------------------\n\n    resolveHighlighter: function(opt = {}) {\n\n        let { highlighter: highlighterDef, type } = opt;\n        const { highlighting,highlighterNamespace  } = this.options;\n\n        /*\n            Expecting opt.highlighter to have the following structure:\n            {\n                name: 'highlighter-name',\n                options: {\n                    some: 'value'\n                }\n            }\n        */\n        if (highlighterDef === undefined) {\n\n            // Is highlighting disabled?\n            if (!highlighting) return false;\n            // check for built-in types\n            if (type) {\n                highlighterDef = highlighting[type];\n                // Is a specific type highlight disabled?\n                if (highlighterDef === false) return false;\n            }\n            if (!highlighterDef) {\n                // Type not defined use default highlight\n                highlighterDef = highlighting['default'];\n            }\n        }\n\n        // Do nothing if opt.highlighter is falsy.\n        // This allows the case to not highlight cell(s) in certain cases.\n        // For example, if you want to NOT highlight when embedding elements\n        // or use a custom highlighter.\n        if (!highlighterDef) return false;\n\n        // Allow specifying a highlighter by name.\n        if (isString(highlighterDef)) {\n            highlighterDef = {\n                name: highlighterDef\n            };\n        }\n\n        const name = highlighterDef.name;\n        const highlighter = highlighterNamespace[name];\n\n        // Highlighter validation\n        if (!highlighter) {\n            throw new Error('Unknown highlighter (\"' + name + '\")');\n        }\n        if (typeof highlighter.highlight !== 'function') {\n            throw new Error('Highlighter (\"' + name + '\") is missing required highlight() method');\n        }\n        if (typeof highlighter.unhighlight !== 'function') {\n            throw new Error('Highlighter (\"' + name + '\") is missing required unhighlight() method');\n        }\n\n        return {\n            highlighter,\n            options: highlighterDef.options || {},\n            name\n        };\n    },\n\n    onCellHighlight: function(cellView, magnetEl, opt) {\n        const highlighterDescriptor = this.resolveHighlighter(opt);\n        if (!highlighterDescriptor) return;\n        const { highlighter, options } = highlighterDescriptor;\n        highlighter.highlight(cellView, magnetEl, options);\n    },\n\n    onCellUnhighlight: function(cellView, magnetEl, opt) {\n        const highlighterDescriptor = this.resolveHighlighter(opt);\n        if (!highlighterDescriptor) return;\n        const { highlighter, options } = highlighterDescriptor;\n        highlighter.unhighlight(cellView, magnetEl, options);\n    },\n\n    // Interaction.\n    // ------------\n\n    pointerdblclick: function(evt) {\n\n        evt.preventDefault();\n\n        // magnetpointerdblclick can stop propagation\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        if (view) {\n            view.pointerdblclick(evt, localPoint.x, localPoint.y);\n\n        } else {\n            this.trigger('blank:pointerdblclick', evt, localPoint.x, localPoint.y);\n        }\n    },\n\n    pointerclick: function(evt) {\n\n        // magnetpointerclick can stop propagation\n\n        var data = this.eventData(evt);\n        // Trigger event only if mouse has not moved.\n        if (data.mousemoved <= this.options.clickThreshold) {\n\n            evt = normalizeEvent(evt);\n\n            var view = this.findView(evt.target);\n            if (this.guard(evt, view)) return;\n\n            var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n            if (view) {\n                view.pointerclick(evt, localPoint.x, localPoint.y);\n\n            } else {\n                this.trigger('blank:pointerclick', evt, localPoint.x, localPoint.y);\n            }\n        }\n    },\n\n    contextmenu: function(evt) {\n\n        if (this.options.preventContextMenu) evt.preventDefault();\n\n        if (this.contextMenuFired) {\n            this.contextMenuFired = false;\n            return;\n        }\n\n        evt = normalizeEvent(evt);\n\n        this.contextMenuTrigger(evt);\n    },\n\n    contextMenuTrigger: function(evt) {\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        if (view) {\n            view.contextmenu(evt, localPoint.x, localPoint.y);\n\n        } else {\n            this.trigger('blank:contextmenu', evt, localPoint.x, localPoint.y);\n        }\n    },\n\n    pointerdown: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        const { target, button } = evt;\n        const view = this.findView(target);\n        const isContextMenu = (button === 2);\n\n        if (view) {\n\n            if (!isContextMenu && this.guard(evt, view)) return;\n\n            const isTargetFormNode = this.FORM_CONTROL_TAG_NAMES.includes(target.tagName);\n\n            if (this.options.preventDefaultViewAction && !isTargetFormNode) {\n                // If the target is a form element, we do not want to prevent the default action.\n                // For example, we want to be able to select text in a text input or\n                // to be able to click on a checkbox.\n                evt.preventDefault();\n            }\n\n            if (isTargetFormNode) {\n                // If the target is a form element, we do not want to start dragging the element.\n                // For example, we want to be able to select text by dragging the mouse.\n                view.preventDefaultInteraction(evt);\n            }\n\n            // Custom event\n            const eventEvt = this.customEventTrigger(evt, view);\n            if (eventEvt) {\n            // `onevent` could have stopped propagation\n                if (eventEvt.isPropagationStopped()) return;\n\n                evt.data = eventEvt.data;\n            }\n\n            // Element magnet\n            const magnetNode = target.closest('[magnet]');\n            if (magnetNode && view.el !== magnetNode && view.el.contains(magnetNode)) {\n                const magnetEvt = normalizeEvent($.Event(evt.originalEvent, {\n                    data: evt.data,\n                    // Originally the event listener was attached to the magnet element.\n                    currentTarget: magnetNode\n                }));\n                this.onmagnet(magnetEvt);\n                if (magnetEvt.isDefaultPrevented()) {\n                    evt.preventDefault();\n                }\n                // `onmagnet` stops propagation when `addLinkFromMagnet` is allowed\n                if (magnetEvt.isPropagationStopped()) {\n                    // `magnet:pointermove` and `magnet:pointerup` events must be fired\n                    if (isContextMenu) return;\n                    this.delegateDragEvents(view, magnetEvt.data);\n                    return;\n                }\n                evt.data = magnetEvt.data;\n            }\n        }\n\n        if (isContextMenu) {\n            this.contextMenuFired = true;\n            const contextmenuEvt = $.Event(evt.originalEvent, { type: 'contextmenu', data: evt.data });\n            this.contextMenuTrigger(contextmenuEvt);\n        } else {\n            const localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n            if (view) {\n                view.pointerdown(evt, localPoint.x, localPoint.y);\n            } else {\n                if (this.options.preventDefaultBlankAction) {\n                    evt.preventDefault();\n                }\n                this.trigger('blank:pointerdown', evt, localPoint.x, localPoint.y);\n            }\n\n            this.delegateDragEvents(view, evt.data);\n        }\n\n    },\n\n    pointermove: function(evt) {\n\n        // mouse moved counter\n        var data = this.eventData(evt);\n        if (!data.mousemoved) {\n            data.mousemoved = 0;\n            // Make sure that events like `mouseenter` and `mouseleave` are\n            // not triggered while the user is dragging a cellView.\n            this.undelegateEvents();\n            // Note: the events are undelegated after the first `pointermove` event.\n            // Not on `pointerdown` to make sure that `dbltap` is recognized.\n        }\n\n        var mousemoved = ++data.mousemoved;\n\n        if (mousemoved <= this.options.moveThreshold) return;\n\n        evt = normalizeEvent(evt);\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n\n        var view = data.sourceView;\n        if (view) {\n            view.pointermove(evt, localPoint.x, localPoint.y);\n        } else {\n            this.trigger('blank:pointermove', evt, localPoint.x, localPoint.y);\n        }\n\n        this.eventData(evt, data);\n    },\n\n    pointerup: function(evt) {\n\n        this.undelegateDocumentEvents();\n\n        var normalizedEvt = normalizeEvent(evt);\n\n        var localPoint = this.snapToGrid(normalizedEvt.clientX, normalizedEvt.clientY);\n\n        var view = this.eventData(evt).sourceView;\n        if (view) {\n            view.pointerup(normalizedEvt, localPoint.x, localPoint.y);\n        } else {\n            this.trigger('blank:pointerup', normalizedEvt, localPoint.x, localPoint.y);\n        }\n\n        if (!normalizedEvt.isPropagationStopped()) {\n            this.pointerclick($.Event(evt.originalEvent, { type: 'click', data: evt.data }));\n        }\n\n        this.delegateEvents();\n    },\n\n    mouseover: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        if (view) {\n            view.mouseover(evt);\n\n        } else {\n            if (this.el === evt.target) return; // prevent border of paper from triggering this\n            this.trigger('blank:mouseover', evt);\n        }\n    },\n\n    mouseout: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        var view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        if (view) {\n            view.mouseout(evt);\n\n        } else {\n            if (this.el === evt.target) return; // prevent border of paper from triggering this\n            this.trigger('blank:mouseout', evt);\n        }\n    },\n\n    mouseenter: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        const {\n            target, // The EventTarget the pointing device entered to\n            relatedTarget, // The EventTarget the pointing device exited from\n            currentTarget // The EventTarget on which the event listener was registered\n        } = evt;\n        const view = this.findView(target);\n        if (this.guard(evt, view)) return;\n        const relatedView = this.findView(relatedTarget);\n        if (view) {\n            if (relatedView === view) {\n                // Mouse left a cell tool\n                return;\n            }\n            view.mouseenter(evt);\n            if (this.el.contains(relatedTarget)) {\n                // The pointer remains inside the paper.\n                return;\n            }\n        }\n        if (relatedView) {\n            return;\n        }\n        // prevent double `mouseenter` event if the `relatedTarget` is outside the paper\n        // (mouseenter method would be fired twice)\n        if (currentTarget === this.el) {\n            // `paper` (more descriptive), not `blank`\n            this.trigger('paper:mouseenter', evt);\n        }\n    },\n\n    mouseleave: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        const {\n            target, // The EventTarget the pointing device exited from\n            relatedTarget, // The EventTarget the pointing device entered to\n            currentTarget // The EventTarget on which the event listener was registered\n        } = evt;\n        const view = this.findView(target);\n        if (this.guard(evt, view)) return;\n        const relatedView = this.findView(relatedTarget);\n        if (view) {\n            if (relatedView === view) {\n                // Mouse entered a cell tool\n                return;\n            }\n            view.mouseleave(evt);\n            if (this.el.contains(relatedTarget)) {\n                // The pointer has exited a cellView. The pointer is still inside of the paper.\n                return;\n            }\n        }\n        if (relatedView) {\n            // The pointer has entered a new cellView\n            return;\n        }\n        // prevent double `mouseleave` event if the `relatedTarget` is outside the paper\n        // (mouseleave method would be fired twice)\n        if (currentTarget === this.el) {\n            // There is no cellView under the pointer, nor the blank area of the paper\n            this.trigger('paper:mouseleave', evt);\n        }\n    },\n\n    _processMouseWheelEvtBuf: debounce(function() {\n        const { event, deltas } = this._mw_evt_buffer;\n        const deltaY = deltas.reduce((acc, deltaY) => acc + cap(deltaY, WHEEL_CAP), 0);\n\n        const scale = Math.pow(0.995, deltaY); // 1.005 for inverted pinch/zoom\n        const { x, y } = this.clientToLocalPoint(event.clientX, event.clientY);\n        this.trigger('paper:pinch', event, x, y, scale);\n\n        this._mw_evt_buffer = {\n            event: null,\n            deltas: [],\n        };\n    }, WHEEL_WAIT_MS, { maxWait: WHEEL_WAIT_MS }),\n\n    mousewheel: function(evt) {\n\n        evt = normalizeEvent(evt);\n\n        const view = this.findView(evt.target);\n        if (this.guard(evt, view)) return;\n\n        const originalEvent = evt.originalEvent;\n        const localPoint = this.snapToGrid(originalEvent.clientX, originalEvent.clientY);\n        const { deltaX, deltaY } = normalizeWheel(originalEvent);\n\n        const pinchHandlers = this._events['paper:pinch'];\n\n        // Touchpad devices will send a fake CTRL press when a pinch is performed\n        //\n        // We also check if there are any subscribers to paper:pinch event. If there are none,\n        // just skip the entire block of code (we don't want to blindly call\n        // .preventDefault() if we really don't have to).\n        if (evt.ctrlKey && pinchHandlers && pinchHandlers.length > 0) {\n            // This is a pinch gesture, it's safe to assume that we must call .preventDefault()\n            originalEvent.preventDefault();\n            this._mw_evt_buffer.event = originalEvent;\n            this._mw_evt_buffer.deltas.push(deltaY);\n            this._processMouseWheelEvtBuf();\n        } else {\n            const delta = Math.max(-1, Math.min(1, originalEvent.wheelDelta));\n            if (view) {\n                view.mousewheel(evt, localPoint.x, localPoint.y, delta);\n\n            } else {\n                this.trigger('blank:mousewheel', evt, localPoint.x, localPoint.y, delta);\n            }\n\n            this.trigger('paper:pan', evt, deltaX, deltaY);\n        }\n    },\n\n    onevent: function(evt) {\n\n        var eventNode = evt.currentTarget;\n        var eventName = eventNode.getAttribute('event');\n        if (eventName) {\n            var view = this.findView(eventNode);\n            if (view) {\n\n                evt = normalizeEvent(evt);\n                if (this.guard(evt, view)) return;\n\n                var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n                view.onevent(evt, eventName, localPoint.x, localPoint.y);\n            }\n        }\n    },\n\n    magnetEvent: function(evt, handler) {\n\n        var magnetNode = evt.currentTarget;\n        var magnetValue = magnetNode.getAttribute('magnet');\n        if (magnetValue) {\n            var view = this.findView(magnetNode);\n            if (view) {\n                evt = normalizeEvent(evt);\n                if (this.guard(evt, view)) return;\n                var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n                handler.call(this, view, evt, magnetNode, localPoint.x, localPoint.y);\n            }\n        }\n    },\n\n    onmagnet: function(evt) {\n\n        if (evt.button === 2) {\n            this.contextMenuFired = true;\n            this.magnetContextMenuFired = true;\n            const contextmenuEvt = $.Event(evt.originalEvent, {\n                type: 'contextmenu',\n                data: evt.data,\n                currentTarget: evt.currentTarget,\n            });\n            this.magnetContextMenuTrigger(contextmenuEvt);\n            if (contextmenuEvt.isPropagationStopped()) {\n                evt.stopPropagation();\n            }\n        } else {\n            this.magnetEvent(evt, function(view, evt, _, x, y) {\n                view.onmagnet(evt, x, y);\n            });\n        }\n    },\n\n    magnetpointerdblclick: function(evt) {\n\n        this.magnetEvent(evt, function(view, evt, magnet, x, y) {\n            view.magnetpointerdblclick(evt, magnet, x, y);\n        });\n    },\n\n    magnetcontextmenu: function(evt) {\n        if (this.options.preventContextMenu) evt.preventDefault();\n\n        if (this.magnetContextMenuFired) {\n            this.magnetContextMenuFired = false;\n            return;\n        }\n\n        this.magnetContextMenuTrigger(evt);\n    },\n\n    magnetContextMenuTrigger: function(evt) {\n        this.magnetEvent(evt, function(view, evt, magnet, x, y) {\n            view.magnetcontextmenu(evt, magnet, x, y);\n        });\n    },\n\n    onlabel: function(evt) {\n\n        var labelNode = evt.currentTarget;\n\n        var view = this.findView(labelNode);\n        if (!view) return;\n\n        evt = normalizeEvent(evt);\n        if (this.guard(evt, view)) return;\n\n        // Custom event\n        const eventEvt = this.customEventTrigger(evt, view, labelNode);\n        if (eventEvt) {\n            // `onevent` could have stopped propagation\n            if (eventEvt.isPropagationStopped()) return;\n\n            evt.data = eventEvt.data;\n        }\n\n        var localPoint = this.snapToGrid(evt.clientX, evt.clientY);\n        view.onlabel(evt, localPoint.x, localPoint.y);\n    },\n\n    getPointerArgs(evt) {\n        const normalizedEvt = normalizeEvent(evt);\n        const { x, y } = this.snapToGrid(normalizedEvt.clientX, normalizedEvt.clientY);\n        return [normalizedEvt, x, y];\n    },\n\n    delegateDragEvents: function(view, data) {\n\n        data || (data = {});\n        this.eventData({ data: data }, { sourceView: view || null, mousemoved: 0 });\n        this.delegateDocumentEvents(null, data);\n    },\n\n    // Guard the specified event. If the event should be ignored, guard returns `true`.\n    // Otherwise, it returns `false`.\n    guard: function(evt, view) {\n\n        if (evt.type === 'mousedown' && evt.button === 2) {\n            // handled as `contextmenu` type\n            return true;\n        }\n\n        if (this.options.guard && this.options.guard(evt, view)) {\n            return true;\n        }\n\n        if (evt.data && evt.data.guarded !== undefined) {\n            return evt.data.guarded;\n        }\n\n        const { target } = evt;\n\n        if (this.GUARDED_TAG_NAMES.includes(target.tagName)) {\n            return true;\n        }\n\n        if (view && view.model && (view.model instanceof Cell)) {\n            return false;\n        }\n\n        if (this.svg === target || this.el === target || $.contains(this.svg, target)) {\n            return false;\n        }\n\n        return true;    // Event guarded. Paper should not react on it in any way.\n    },\n\n    setGridSize: function(gridSize) {\n\n        const { options } = this;\n        options.gridSize = gridSize;\n\n        if (options.drawGrid && !options.drawGridSize) {\n            // Do not redraw the grid if the `drawGridSize` is set.\n            this.drawGrid();\n        }\n\n        return this;\n    },\n\n    clearGrid: function() {\n\n        if (this.$grid) {\n            this.$grid.css('backgroundImage', 'none');\n        }\n        return this;\n    },\n\n    _getGridRefs: function() {\n\n        if (!this._gridCache) {\n\n            this._gridCache = {\n                root: V('svg', { width: '100%', height: '100%' }, V('defs')),\n                patterns: {},\n                add: function(id, vel) {\n                    V(this.root.node.childNodes[0]).append(vel);\n                    this.patterns[id] = vel;\n                    this.root.append(V('rect', { width: '100%', height: '100%', fill: 'url(#' + id + ')' }));\n                },\n                get: function(id) {\n                    return this.patterns[id];\n                },\n                exist: function(id) {\n                    return this.patterns[id] !== undefined;\n                }\n            };\n        }\n\n        return this._gridCache;\n    },\n\n    setGrid: function(drawGrid) {\n\n        this.clearGrid();\n\n        this._gridCache = null;\n        this._gridSettings = [];\n\n        var optionsList = Array.isArray(drawGrid) ? drawGrid : [drawGrid || {}];\n        optionsList.forEach(function(item) {\n            this._gridSettings.push.apply(this._gridSettings, this._resolveDrawGridOption(item));\n        }, this);\n        return this;\n    },\n\n    _resolveDrawGridOption: function(opt) {\n\n        var namespace = this.constructor.gridPatterns;\n        if (isString(opt) && Array.isArray(namespace[opt])) {\n            return namespace[opt].map(function(item) {\n                return assign({}, item);\n            });\n        }\n\n        var options = opt || { args: [{}] };\n        var isArray = Array.isArray(options);\n        var name = options.name;\n\n        if (!isArray && !name && !options.markup) {\n            name = 'dot';\n        }\n\n        if (name && Array.isArray(namespace[name])) {\n            var pattern = namespace[name].map(function(item) {\n                return assign({}, item);\n            });\n\n            var args = Array.isArray(options.args) ? options.args : [options.args || {}];\n\n            defaults(args[0], omit(opt, 'args'));\n            for (var i = 0; i < args.length; i++) {\n                if (pattern[i]) {\n                    assign(pattern[i], args[i]);\n                }\n            }\n            return pattern;\n        }\n\n        return isArray ? options : [options];\n    },\n\n    drawGrid: function(opt) {\n\n        const gridSize = this.options.drawGridSize || this.options.gridSize;\n        if (gridSize <= 1) {\n            return this.clearGrid();\n        }\n\n        var localOptions = Array.isArray(opt) ? opt : [opt];\n\n        var ctm = this.matrix();\n        var refs = this._getGridRefs();\n\n        this._gridSettings.forEach(function(gridLayerSetting, index) {\n\n            var id = 'pattern_' + index;\n            var options = merge(gridLayerSetting, localOptions[index], {\n                sx: ctm.a || 1,\n                sy: ctm.d || 1,\n                ox: ctm.e || 0,\n                oy: ctm.f || 0\n            });\n\n            options.width = gridSize * (ctm.a || 1) * (options.scaleFactor || 1);\n            options.height = gridSize * (ctm.d || 1) * (options.scaleFactor || 1);\n\n            if (!refs.exist(id)) {\n                refs.add(id, V('pattern', { id: id, patternUnits: 'userSpaceOnUse' }, V(options.markup)));\n            }\n\n            var patternDefVel = refs.get(id);\n\n            if (isFunction(options.update)) {\n                options.update(patternDefVel.node.childNodes[0], options);\n            }\n\n            var x = options.ox % options.width;\n            if (x < 0) x += options.width;\n\n            var y = options.oy % options.height;\n            if (y < 0) y += options.height;\n\n            patternDefVel.attr({\n                x: x,\n                y: y,\n                width: options.width,\n                height: options.height\n            });\n        });\n\n        var patternUri = new XMLSerializer().serializeToString(refs.root.node);\n        patternUri = 'url(data:image/svg+xml;base64,' + btoa(patternUri) + ')';\n\n        this.$grid.css('backgroundImage', patternUri);\n\n        return this;\n    },\n\n    updateBackgroundImage: function(opt) {\n\n        opt = opt || {};\n\n        var backgroundPosition = opt.position || 'center';\n        var backgroundSize = opt.size || 'auto auto';\n\n        var currentScale = this.scale();\n        var currentTranslate = this.translate();\n\n        // backgroundPosition\n        if (isObject(backgroundPosition)) {\n            var x = currentTranslate.tx + (currentScale.sx * (backgroundPosition.x || 0));\n            var y = currentTranslate.ty + (currentScale.sy * (backgroundPosition.y || 0));\n            backgroundPosition = x + 'px ' + y + 'px';\n        }\n\n        // backgroundSize\n        if (isObject(backgroundSize)) {\n            backgroundSize = new Rect(backgroundSize).scale(currentScale.sx, currentScale.sy);\n            backgroundSize = backgroundSize.width + 'px ' + backgroundSize.height + 'px';\n        }\n\n        this.$background.css({\n            backgroundSize: backgroundSize,\n            backgroundPosition: backgroundPosition\n        });\n    },\n\n    drawBackgroundImage: function(img, opt) {\n\n        // Clear the background image if no image provided\n        if (!(img instanceof HTMLImageElement)) {\n            this.$background.css('backgroundImage', '');\n            return;\n        }\n\n        if (!this._background || this._background.id !== opt.id) {\n            // Draw only the last image requested (see drawBackground())\n            return;\n        }\n\n        opt = opt || {};\n\n        var backgroundImage;\n        var backgroundSize = opt.size;\n        var backgroundRepeat = opt.repeat || 'no-repeat';\n        var backgroundOpacity = opt.opacity || 1;\n        var backgroundQuality = Math.abs(opt.quality) || 1;\n        var backgroundPattern = this.constructor.backgroundPatterns[camelCase(backgroundRepeat)];\n\n        if (isFunction(backgroundPattern)) {\n            // 'flip-x', 'flip-y', 'flip-xy', 'watermark' and custom\n            img.width *= backgroundQuality;\n            img.height *= backgroundQuality;\n            var canvas = backgroundPattern(img, opt);\n            if (!(canvas instanceof HTMLCanvasElement)) {\n                throw new Error('dia.Paper: background pattern must return an HTML Canvas instance');\n            }\n\n            backgroundImage = canvas.toDataURL('image/png');\n            backgroundRepeat = 'repeat';\n            if (isObject(backgroundSize)) {\n                // recalculate the tile size if an object passed in\n                backgroundSize.width *= canvas.width / img.width;\n                backgroundSize.height *= canvas.height / img.height;\n            } else if (backgroundSize === undefined) {\n                // calculate the tile size if no provided\n                opt.size = {\n                    width: canvas.width / backgroundQuality,\n                    height: canvas.height / backgroundQuality\n                };\n            }\n        } else {\n            // backgroundRepeat:\n            // no-repeat', 'round', 'space', 'repeat', 'repeat-x', 'repeat-y'\n            backgroundImage = img.src;\n            if (backgroundSize === undefined) {\n                // pass the image size for  the backgroundSize if no size provided\n                opt.size = {\n                    width: img.width,\n                    height: img.height\n                };\n            }\n        }\n\n        this.$background.css({\n            opacity: backgroundOpacity,\n            backgroundRepeat: backgroundRepeat,\n            backgroundImage: 'url(' + backgroundImage + ')'\n        });\n\n        this.updateBackgroundImage(opt);\n    },\n\n    updateBackgroundColor: function(color) {\n\n        this.$el.css('backgroundColor', color || '');\n    },\n\n    drawBackground: function(opt) {\n\n        opt = opt || {};\n\n        this.updateBackgroundColor(opt.color);\n\n        if (opt.image) {\n            opt = this._background = cloneDeep(opt);\n            guid(opt);\n            var img = document.createElement('img');\n            img.onload = this.drawBackgroundImage.bind(this, img, opt);\n            img.src = opt.image;\n        } else {\n            this.drawBackgroundImage(null);\n            this._background = null;\n        }\n\n        return this;\n    },\n\n    setInteractivity: function(value) {\n\n        this.options.interactive = value;\n\n        invoke(this._views, 'setInteractivity', value);\n    },\n\n    // Paper definitions.\n    // ------------------\n\n    isDefined: function(defId) {\n\n        return !!this.svg.getElementById(defId);\n    },\n\n    defineFilter: function(filter) {\n\n        if (!isObject(filter)) {\n            throw new TypeError('dia.Paper: defineFilter() requires 1. argument to be an object.');\n        }\n\n        var filterId = filter.id;\n        var name = filter.name;\n        // Generate a hash code from the stringified filter definition. This gives us\n        // a unique filter ID for different definitions.\n        if (!filterId) {\n            filterId = name + this.svg.id + hashCode(JSON.stringify(filter));\n        }\n        // If the filter already exists in the document,\n        // we're done and we can just use it (reference it using `url()`).\n        // If not, create one.\n        if (!this.isDefined(filterId)) {\n\n            var namespace = _filter;\n            var filterSVGString = namespace[name] && namespace[name](filter.args || {});\n            if (!filterSVGString) {\n                throw new Error('Non-existing filter ' + name);\n            }\n\n            // Set the filter area to be 3x the bounding box of the cell\n            // and center the filter around the cell.\n            var filterAttrs = assign({\n                filterUnits: 'objectBoundingBox',\n                x: -1,\n                y: -1,\n                width: 3,\n                height: 3\n            }, filter.attrs, {\n                id: filterId\n            });\n\n            V(filterSVGString, filterAttrs).appendTo(this.defs);\n        }\n\n        return filterId;\n    },\n\n    defineGradient: function(gradient) {\n        if (!isObject(gradient)) {\n            throw new TypeError('dia.Paper: defineGradient() requires 1. argument to be an object.');\n        }\n        const { svg, defs } = this;\n        const {\n            type,\n            // Generate a hash code from the stringified filter definition. This gives us\n            // a unique filter ID for different definitions.\n            id = type + svg.id + hashCode(JSON.stringify(gradient)),\n            stops,\n            attrs = {}\n        } = gradient;\n        // If the gradient already exists in the document,\n        // we're done and we can just use it (reference it using `url()`).\n        if (this.isDefined(id)) return id;\n        // If not, create one.\n        const stopVEls = toArray(stops).map(({ offset, color, opacity }) => {\n            return V('stop').attr({\n                'offset': offset,\n                'stop-color': color,\n                'stop-opacity': Number.isFinite(opacity) ? opacity : 1\n            });\n        });\n        const gradientVEl = V(type, attrs, stopVEls);\n        gradientVEl.id = id;\n        gradientVEl.appendTo(defs);\n        return id;\n    },\n\n    definePattern: function(pattern) {\n        if (!isObject(pattern)) {\n            throw new TypeError('dia.Paper: definePattern() requires 1. argument to be an object.');\n        }\n        const { svg, defs } = this;\n        const {\n            // Generate a hash code from the stringified filter definition. This gives us\n            // a unique filter ID for different definitions.\n            id = svg.id + hashCode(JSON.stringify(pattern)),\n            markup,\n            attrs = {}\n        } = pattern;\n        if (!markup) {\n            throw new TypeError('dia.Paper: definePattern() requires markup.');\n        }\n        // If the gradient already exists in the document,\n        // we're done and we can just use it (reference it using `url()`).\n        if (this.isDefined(id)) return id;\n        // If not, create one.\n        const patternVEl = V('pattern', {\n            patternUnits: 'userSpaceOnUse'\n        });\n        patternVEl.id = id;\n        patternVEl.attr(attrs);\n        if (typeof markup === 'string') {\n            patternVEl.append(V(markup));\n        } else {\n            const { fragment } = parseDOMJSON(markup);\n            patternVEl.append(fragment);\n        }\n        patternVEl.appendTo(defs);\n        return id;\n    },\n\n    defineMarker: function(marker) {\n        if (!isObject(marker)) {\n            throw new TypeError('dia.Paper: defineMarker() requires the first argument to be an object.');\n        }\n        const { svg, defs } = this;\n        const {\n            // Generate a hash code from the stringified filter definition. This gives us\n            // a unique filter ID for different definitions.\n            id = svg.id + hashCode(JSON.stringify(marker)),\n            // user-provided markup\n            // (e.g. defined when creating link via `attrs/line/sourceMarker/markup`)\n            markup,\n            // user-provided attributes\n            // (e.g. defined when creating link via `attrs/line/sourceMarker/attrs`)\n            // note: `transform` attrs are ignored by browsers\n            attrs = {},\n            // deprecated - use `attrs/markerUnits` instead (which has higher priority)\n            markerUnits = 'userSpaceOnUse'\n        } = marker;\n        // If the marker already exists in the document,\n        // we're done and we can just use it (reference it using `url()`).\n        if (this.isDefined(id)) return id;\n        // If not, create one.\n        const markerVEl = V('marker', {\n            orient: 'auto',\n            overflow: 'visible',\n            markerUnits: markerUnits\n        });\n        markerVEl.id = id;\n        markerVEl.attr(attrs);\n        let markerContentVEl;\n        if (markup) {\n            let markupVEl;\n            if (typeof markup === 'string') {\n                // Marker object has a `markup` property of type string.\n                // - Construct V from the provided string.\n                markupVEl = V(markup);\n                // `markupVEl` is now either a single VEl, or an array of VEls.\n                // - Coerce it to an array.\n                markupVEl = (Array.isArray(markupVEl) ? markupVEl : [markupVEl]);\n            } else {\n                // Marker object has a `markup` property of type object.\n                // - Construct V from the object by parsing it as DOM JSON.\n                const { fragment } = parseDOMJSON(markup);\n                markupVEl = V(fragment).children();\n            }\n            // `markupVEl` is an array with one or more VEls inside.\n            // - If there are multiple VEls, wrap them in a newly-constructed <g> element\n            if (markupVEl.length > 1) {\n                markerContentVEl = V('g').append(markupVEl);\n            } else {\n                markerContentVEl = markupVEl[0];\n            }\n        } else {\n            // Marker object is a flat structure.\n            // - Construct a new V of type `marker.type`.\n            const { type = 'path' } = marker;\n            markerContentVEl = V(type);\n        }\n        // `markerContentVEl` is a single VEl.\n        // Assign additional attributes to it (= context attributes + marker attributes):\n        // - Attribute values are taken from non-special properties of `marker`.\n        const markerAttrs = omit(marker, 'type', 'id', 'markup', 'attrs', 'markerUnits');\n        const markerAttrsKeys = Object.keys(markerAttrs);\n        markerAttrsKeys.forEach((key) => {\n            const value = markerAttrs[key];\n            const markupValue = markerContentVEl.attr(key); // value coming from markupVEl (if any) = higher priority\n            if (markupValue == null) {\n                // Default logic:\n                markerContentVEl.attr(key, value);\n            } else {\n                // Properties with special logic should be added as cases to this switch block:\n                switch(key) {\n                    case 'transform':\n                        // - Prepend `transform` to existing value.\n                        markerContentVEl.attr(key, (value + ' ' + markupValue));\n                        break;\n                }\n            }\n        });\n        markerContentVEl.appendTo(markerVEl);\n        markerVEl.appendTo(defs);\n        return id;\n    },\n\n    customEventTrigger: function(evt, view, rootNode = view.el) {\n\n        const eventNode = evt.target.closest('[event]');\n\n        if (eventNode && rootNode !== eventNode && view.el.contains(eventNode)) {\n            const eventEvt = normalizeEvent($.Event(evt.originalEvent, {\n                data: evt.data,\n                // Originally the event listener was attached to the event element.\n                currentTarget: eventNode\n            }));\n\n            this.onevent(eventEvt);\n\n            if (eventEvt.isDefaultPrevented()) {\n                evt.preventDefault();\n            }\n\n            return eventEvt;\n        }\n\n        return null;\n    }\n\n}, {\n\n    sorting: sortingTypes,\n\n    Layers: LayersNames,\n\n    backgroundPatterns: {\n\n        flipXy: function(img) {\n            // d b\n            // q p\n\n            var canvas = document.createElement('canvas');\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            canvas.width = 2 * imgWidth;\n            canvas.height = 2 * imgHeight;\n\n            var ctx = canvas.getContext('2d');\n            // top-left image\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // xy-flipped bottom-right image\n            ctx.setTransform(-1, 0, 0, -1, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // x-flipped top-right image\n            ctx.setTransform(-1, 0, 0, 1, canvas.width, 0);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // y-flipped bottom-left image\n            ctx.setTransform(1, 0, 0, -1, 0, canvas.height);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n\n            return canvas;\n        },\n\n        flipX: function(img) {\n            // d b\n            // d b\n\n            var canvas = document.createElement('canvas');\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            canvas.width = imgWidth * 2;\n            canvas.height = imgHeight;\n\n            var ctx = canvas.getContext('2d');\n            // left image\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // flipped right image\n            ctx.translate(2 * imgWidth, 0);\n            ctx.scale(-1, 1);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n\n            return canvas;\n        },\n\n        flipY: function(img) {\n            // d d\n            // q q\n\n            var canvas = document.createElement('canvas');\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            canvas.width = imgWidth;\n            canvas.height = imgHeight * 2;\n\n            var ctx = canvas.getContext('2d');\n            // top image\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n            // flipped bottom image\n            ctx.translate(0, 2 * imgHeight);\n            ctx.scale(1, -1);\n            ctx.drawImage(img, 0, 0, imgWidth, imgHeight);\n\n            return canvas;\n        },\n\n        watermark: function(img, opt) {\n            //   d\n            // d\n\n            opt = opt || {};\n\n            var imgWidth = img.width;\n            var imgHeight = img.height;\n\n            var canvas = document.createElement('canvas');\n            canvas.width = imgWidth * 3;\n            canvas.height = imgHeight * 3;\n\n            var ctx = canvas.getContext('2d');\n            var angle = isNumber(opt.watermarkAngle) ? -opt.watermarkAngle : -20;\n            var radians = toRad(angle);\n            var stepX = canvas.width / 4;\n            var stepY = canvas.height / 4;\n\n            for (var i = 0; i < 4; i++) {\n                for (var j = 0; j < 4; j++) {\n                    if ((i + j) % 2 > 0) {\n                        // reset the current transformations\n                        ctx.setTransform(1, 0, 0, 1, (2 * i - 1) * stepX, (2 * j - 1) * stepY);\n                        ctx.rotate(radians);\n                        ctx.drawImage(img, -imgWidth / 2, -imgHeight / 2, imgWidth, imgHeight);\n                    }\n                }\n            }\n\n            return canvas;\n        }\n    },\n\n    gridPatterns: {\n        dot: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'rect',\n            update: function(el, opt) {\n                V(el).attr({\n                    width: opt.thickness * opt.sx,\n                    height: opt.thickness * opt.sy,\n                    fill: opt.color\n                });\n            }\n        }],\n        fixedDot: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'rect',\n            update: function(el, opt) {\n                var size = opt.sx <= 1 ? opt.thickness * opt.sx : opt.thickness;\n                V(el).attr({ width: size, height: size, fill: opt.color });\n            }\n        }],\n        mesh: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'path',\n            update: function(el, opt) {\n\n                var d;\n                var width = opt.width;\n                var height = opt.height;\n                var thickness = opt.thickness;\n\n                if (width - thickness >= 0 && height - thickness >= 0) {\n                    d = ['M', width, 0, 'H0 M0 0 V0', height].join(' ');\n                } else {\n                    d = 'M 0 0 0 0';\n                }\n\n                V(el).attr({ 'd': d, stroke: opt.color, 'stroke-width': opt.thickness });\n            }\n        }],\n        doubleMesh: [{\n            color: '#AAAAAA',\n            thickness: 1,\n            markup: 'path',\n            update: function(el, opt) {\n\n                var d;\n                var width = opt.width;\n                var height = opt.height;\n                var thickness = opt.thickness;\n\n                if (width - thickness >= 0 && height - thickness >= 0) {\n                    d = ['M', width, 0, 'H0 M0 0 V0', height].join(' ');\n                } else {\n                    d = 'M 0 0 0 0';\n                }\n\n                V(el).attr({ 'd': d, stroke: opt.color, 'stroke-width': opt.thickness });\n            }\n        }, {\n            color: '#000000',\n            thickness: 3,\n            scaleFactor: 4,\n            markup: 'path',\n            update: function(el, opt) {\n\n                var d;\n                var width = opt.width;\n                var height = opt.height;\n                var thickness = opt.thickness;\n\n                if (width - thickness >= 0 && height - thickness >= 0) {\n                    d = ['M', width, 0, 'H0 M0 0 V0', height].join(' ');\n                } else {\n                    d = 'M 0 0 0 0';\n                }\n\n                V(el).attr({ 'd': d, stroke: opt.color, 'stroke-width': opt.thickness });\n            }\n        }]\n    }\n});\n\n", "import * as mvc from '../mvc/index.mjs';\n\nexport const ToolView = mvc.View.extend({\n    name: null,\n    tagName: 'g',\n    className: 'tool',\n    svgElement: true,\n    _visible: true,\n\n    init: function() {\n        var name = this.name;\n        if (name) this.vel.attr('data-tool-name', name);\n    },\n\n    configure: function(view, toolsView) {\n        this.relatedView = view;\n        this.paper = view.paper;\n        this.parentView = toolsView;\n        this.simulateRelatedView(this.el);\n        // Delegate events in case the ToolView was removed from the DOM and reused.\n        this.delegateEvents();\n        return this;\n    },\n\n    simulateRelatedView: function(el) {\n        if (el) el.setAttribute('model-id', this.relatedView.model.id);\n    },\n\n    getName: function() {\n        return this.name;\n    },\n\n    show: function() {\n        this.el.style.display = '';\n        this._visible = true;\n    },\n\n    hide: function() {\n        this.el.style.display = 'none';\n        this._visible = false;\n    },\n\n    isVisible: function() {\n        return !!this._visible;\n    },\n\n    focus: function() {\n        var opacity = this.options.focusOpacity;\n        if (isFinite(opacity)) this.el.style.opacity = opacity;\n        this.parentView.focusTool(this);\n    },\n\n    blur: function() {\n        this.el.style.opacity = '';\n        this.parentView.blurTool(this);\n    },\n\n    update: function() {\n        // to be overridden\n    },\n\n    guard: function(evt) {\n        // Let the context-menu event bubble up to the relatedView\n        const { paper, relatedView } = this;\n        if (!paper || !relatedView) return true;\n        return paper.guard(evt, relatedView);\n    }\n});\n\n", "import * as mvc from '../mvc/index.mjs';\nimport * as util from '../util/index.mjs';\nimport { CellView } from './CellView.mjs';\nimport { LayersNames } from './PaperLayer.mjs';\nimport { ToolView } from './ToolView.mjs';\n\nexport const ToolsView = mvc.View.extend({\n    tagName: 'g',\n    className: 'tools',\n    svgElement: true,\n    tools: null,\n    isRendered: false,\n    options: {\n        tools: null,\n        relatedView: null,\n        name: null,\n        // layer?: LayersNames.TOOLS\n        // z?: number\n    },\n\n    configure: function(options) {\n        options = util.assign(this.options, options);\n        var tools = options.tools;\n        if (!Array.isArray(tools)) return this;\n        var relatedView = options.relatedView;\n        if (!(relatedView instanceof CellView)) return this;\n        var views = this.tools = [];\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (!(tool instanceof ToolView)) continue;\n            tool.configure(relatedView, this);\n            this.vel.append(tool.el);\n            views.push(tool);\n        }\n        this.isRendered = false;\n        relatedView.requestUpdate(relatedView.getFlag('TOOLS'));\n        return this;\n    },\n\n    getName: function() {\n        return this.options.name;\n    },\n\n    update: function(opt) {\n\n        opt || (opt = {});\n        var tools = this.tools;\n        if (!tools) return this;\n        var isRendered = this.isRendered;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (!isRendered) {\n                // First update executes render()\n                tool.render();\n            } else if (opt.tool !== tool.cid && tool.isVisible()) {\n                tool.update();\n            }\n        }\n        if (!this.isMounted()) {\n            this.mount();\n        }\n        if (!isRendered) {\n            // Make sure tools are visible (if they were hidden and the tool removed)\n            this.blurTool();\n            this.isRendered = true;\n        }\n        return this;\n    },\n\n    focusTool: function(focusedTool) {\n\n        var tools = this.tools;\n        if (!tools) return this;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (focusedTool === tool) {\n                tool.show();\n            } else {\n                tool.hide();\n            }\n        }\n        return this;\n    },\n\n    blurTool: function(blurredTool) {\n        var tools = this.tools;\n        if (!tools) return this;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            var tool = tools[i];\n            if (tool !== blurredTool && !tool.isVisible()) {\n                tool.show();\n                tool.update();\n            }\n        }\n        return this;\n    },\n\n    hide: function() {\n        return this.focusTool(null);\n    },\n\n    show: function() {\n        return this.blurTool(null);\n    },\n\n    onRemove: function() {\n        var tools = this.tools;\n        if (!tools) return this;\n        for (var i = 0, n = tools.length; i < n; i++) {\n            tools[i].remove();\n        }\n        this.tools = null;\n    },\n\n    mount: function() {\n        const { options, el } = this;\n        const { relatedView, layer = LayersNames.TOOLS, z } = options;\n        if (relatedView) {\n            if (layer) {\n                relatedView.paper.getLayerView(layer).insertSortedNode(el, z);\n            } else {\n                relatedView.el.appendChild(el);\n            }\n        }\n        return this;\n    }\n\n});\n", "import * as util from '../../util/index.mjs';\nimport { Graph } from '../../dia/index.mjs';\nimport * as g from '../../g/index.mjs';\n\nexport const DirectedGraph = {\n\n    exportElement: function(element) {\n\n        // The width and height of the element.\n        return element.size();\n    },\n\n    exportLink: function(link) {\n\n        var labelSize = link.get('labelSize') || {};\n        var edge = {\n            // The number of ranks to keep between the source and target of the edge.\n            minLen: link.get('minLen') || 1,\n            // The weight to assign edges. Higher weight edges are generally\n            // made shorter and straighter than lower weight edges.\n            weight: link.get('weight') || 1,\n            // Where to place the label relative to the edge.\n            // l = left, c = center r = right.\n            labelpos: link.get('labelPosition') || 'c',\n            // How many pixels to move the label away from the edge.\n            // Applies only when labelpos is l or r.\n            labeloffset: link.get('labelOffset') || 0,\n            // The width of the edge label in pixels.\n            width: labelSize.width || 0,\n            // The height of the edge label in pixels.\n            height: labelSize.height || 0\n        };\n\n        return edge;\n    },\n\n    importElement: function(opt, v, gl) {\n\n        var element = this.getCell(v);\n        var glNode = gl.node(v);\n\n        if (opt.setPosition) {\n            opt.setPosition(element, glNode);\n        } else {\n            element.set('position', {\n                x: glNode.x - glNode.width / 2,\n                y: glNode.y - glNode.height / 2\n            });\n        }\n    },\n\n    importLink: function(opt, edgeObj, gl) {\n\n        const SIMPLIFY_THRESHOLD = 0.001;\n\n        const link = this.getCell(edgeObj.name);\n        const glEdge = gl.edge(edgeObj);\n        const points = glEdge.points || [];\n        const polyline = new g.Polyline(points);\n\n        // check the `setLinkVertices` here for backwards compatibility\n        if (opt.setVertices || opt.setLinkVertices) {\n            if (util.isFunction(opt.setVertices)) {\n                opt.setVertices(link, points);\n            } else {\n                // simplify the `points` polyline\n                polyline.simplify({ threshold: SIMPLIFY_THRESHOLD });\n                const polylinePoints = polyline.points.map((point) => (point.toJSON())); // JSON of points after simplification\n                const numPolylinePoints = polylinePoints.length; // number of points after simplification\n                // set simplified polyline points as link vertices\n                // remove first and last polyline points (= source/target sonnectionPoints)\n                link.set('vertices', polylinePoints.slice(1, numPolylinePoints - 1));\n            }\n        }\n\n        if (opt.setLabels && ('x' in glEdge) && ('y' in glEdge)) {\n            const labelPosition = { x: glEdge.x, y: glEdge.y };\n            if (util.isFunction(opt.setLabels)) {\n                opt.setLabels(link, labelPosition, points);\n            } else {\n                // convert the absolute label position to a relative position\n                // towards the closest point on the edge\n                const length = polyline.closestPointLength(labelPosition);\n                const closestPoint = polyline.pointAtLength(length);\n                const distance = (length / polyline.length());\n                const offset = new g.Point(labelPosition).difference(closestPoint).toJSON();\n                link.label(0, {\n                    position: {\n                        distance: distance,\n                        offset: offset\n                    }\n                });\n            }\n        }\n    },\n\n    layout: function(graphOrCells, opt) {\n\n        var graph;\n\n        if (graphOrCells instanceof Graph) {\n            graph = graphOrCells;\n        } else {\n            // Reset cells in dry mode so the graph reference is not stored on the cells.\n            // `sort: false` to prevent elements to change their order based on the z-index\n            graph = (new Graph()).resetCells(graphOrCells, { dry: true, sort: false });\n        }\n\n        // This is not needed anymore.\n        graphOrCells = null;\n\n        opt = util.defaults(opt || {}, {\n            resizeClusters: true,\n            clusterPadding: 10,\n            exportElement: this.exportElement,\n            exportLink: this.exportLink\n        });\n\n        /* eslint-disable no-undef */\n        const dagreUtil = opt.dagre || (typeof dagre !== 'undefined' ? dagre : undefined);\n        /* eslint-enable no-undef */\n\n        if (dagreUtil === undefined) throw new Error('The the \"dagre\" utility is a mandatory dependency.');\n\n        // create a graphlib.Graph that represents the joint.dia.Graph\n        // var glGraph = graph.toGraphLib({\n        var glGraph = DirectedGraph.toGraphLib(graph, {\n            graphlib: opt.graphlib,\n            directed: true,\n            // We are about to use edge naming feature.\n            multigraph: true,\n            // We are able to layout graphs with embeds.\n            compound: true,\n            setNodeLabel: opt.exportElement,\n            setEdgeLabel: opt.exportLink,\n            setEdgeName: function(link) {\n                // Graphlib edges have no ids. We use edge name property\n                // to store and retrieve ids instead.\n                return link.id;\n            }\n        });\n\n        var glLabel = {};\n        var marginX = opt.marginX || 0;\n        var marginY = opt.marginY || 0;\n\n        // Dagre layout accepts options as lower case.\n        // Direction for rank nodes. Can be TB, BT, LR, or RL\n        if (opt.rankDir) glLabel.rankdir = opt.rankDir;\n        // Alignment for rank nodes. Can be UL, UR, DL, or DR\n        if (opt.align) glLabel.align = opt.align;\n        // Number of pixels that separate nodes horizontally in the layout.\n        if (opt.nodeSep) glLabel.nodesep = opt.nodeSep;\n        // Number of pixels that separate edges horizontally in the layout.\n        if (opt.edgeSep) glLabel.edgesep = opt.edgeSep;\n        // Number of pixels between each rank in the layout.\n        if (opt.rankSep) glLabel.ranksep = opt.rankSep;\n        // Type of algorithm to assign a rank to each node in the input graph.\n        // Possible values: network-simplex, tight-tree or longest-path\n        if (opt.ranker) glLabel.ranker = opt.ranker;\n        // Number of pixels to use as a margin around the left and right of the graph.\n        if (marginX) glLabel.marginx = marginX;\n        // Number of pixels to use as a margin around the top and bottom of the graph.\n        if (marginY) glLabel.marginy = marginY;\n\n        // Set the option object for the graph label.\n        glGraph.setGraph(glLabel);\n\n        // Executes the layout.\n        dagreUtil.layout(glGraph, { debugTiming: !!opt.debugTiming });\n\n        // Wrap all graph changes into a batch.\n        graph.startBatch('layout');\n\n        DirectedGraph.fromGraphLib(glGraph, {\n            importNode: this.importElement.bind(graph, opt),\n            importEdge: this.importLink.bind(graph, opt)\n        });\n\n        // // Update the graph.\n        // graph.fromGraphLib(glGraph, {\n        //     importNode: this.importElement.bind(graph, opt),\n        //     importEdge: this.importLink.bind(graph, opt)\n        // });\n\n        if (opt.resizeClusters) {\n            // Resize and reposition cluster elements (parents of other elements)\n            // to fit their children.\n            // 1. filter clusters only\n            // 2. map id on cells\n            // 3. sort cells by their depth (the deepest first)\n            // 4. resize cell to fit their direct children only.\n            var clusters = glGraph.nodes()\n                .filter(function(v) { return glGraph.children(v).length > 0; })\n                .map(graph.getCell.bind(graph))\n                .sort(function(aCluster, bCluster) {\n                    return bCluster.getAncestors().length - aCluster.getAncestors().length;\n                });\n\n            util.invoke(clusters, 'fitToChildren', { padding: opt.clusterPadding });\n        }\n\n        graph.stopBatch('layout');\n\n        // Width and height of the graph extended by margins.\n        var glSize = glGraph.graph();\n        // Return the bounding box of the graph after the layout.\n        return new g.Rect(\n            marginX,\n            marginY,\n            Math.abs(glSize.width - 2 * marginX),\n            Math.abs(glSize.height - 2 * marginY)\n        );\n    },\n\n    fromGraphLib: function(glGraph, opt) {\n\n        opt = opt || {};\n\n        var importNode = opt.importNode || util.noop;\n        var importEdge = opt.importEdge || util.noop;\n        var graph = (this instanceof Graph) ? this : new Graph;\n\n        // Import all nodes.\n        glGraph.nodes().forEach(function(node) {\n            importNode.call(graph, node, glGraph, graph, opt);\n        });\n\n        // Import all edges.\n        glGraph.edges().forEach(function(edge) {\n            importEdge.call(graph, edge, glGraph, graph, opt);\n        });\n\n        return graph;\n    },\n\n    // Create new graphlib graph from existing JointJS graph.\n    toGraphLib: function(graph, opt) {\n\n        opt = opt || {};\n\n        /* eslint-disable no-undef */\n        const graphlibUtil = opt.graphlib || (typeof graphlib !== 'undefined' ? graphlib : undefined);\n        /* eslint-enable no-undef */\n\n        if (graphlibUtil === undefined) throw new Error('The the \"graphlib\" utility is a mandatory dependency.');\n\n        var glGraphType = util.pick(opt, 'directed', 'compound', 'multigraph');\n        var glGraph = new graphlibUtil.Graph(glGraphType);\n        var setNodeLabel = opt.setNodeLabel || util.noop;\n        var setEdgeLabel = opt.setEdgeLabel || util.noop;\n        var setEdgeName = opt.setEdgeName || util.noop;\n        var collection = graph.get('cells');\n\n        for (var i = 0, n = collection.length; i < n; i++) {\n\n            var cell = collection.at(i);\n            if (cell.isLink()) {\n\n                var source = cell.get('source');\n                var target = cell.get('target');\n\n                // Links that end at a point are ignored.\n                if (!source.id || !target.id) break;\n\n                // Note that if we are creating a multigraph we can name the edges. If\n                // we try to name edges on a non-multigraph an exception is thrown.\n                glGraph.setEdge(source.id, target.id, setEdgeLabel(cell), setEdgeName(cell));\n\n            } else {\n\n                glGraph.setNode(cell.id, setNodeLabel(cell));\n\n                // For the compound graphs we have to take embeds into account.\n                if (glGraph.isCompound() && cell.has('parent')) {\n                    var parentId = cell.get('parent');\n                    if (collection.has(parentId)) {\n                        // Make sure the parent cell is included in the graph (this can\n                        // happen when the layout is run on part of the graph only).\n                        glGraph.setParent(cell.id, parentId);\n                    }\n                }\n            }\n        }\n\n        return glGraph;\n    }\n};\n\nGraph.prototype.toGraphLib = function(opt) {\n\n    return DirectedGraph.toGraphLib(this, opt);\n};\n\nGraph.prototype.fromGraphLib = function(glGraph, opt) {\n\n    return DirectedGraph.fromGraphLib.call(this, glGraph, opt);\n};\n", "import * as basic from './basic.mjs';\nimport * as standard from './standard.mjs';\nimport * as devs from './devs.mjs';\nimport * as logic from './logic.mjs';\nimport * as chess from './chess.mjs';\nimport * as erd from './erd.mjs';\nimport * as fsa from './fsa.mjs';\nimport * as org from './org.mjs';\nimport * as pn from './pn.mjs';\nimport * as uml from './uml.mjs';\n\nexport { basic, standard, devs, logic, chess, erd, fsa, org, pn, uml };\n", "import { Element } from '../dia/Element.mjs';\nimport { ElementView } from '../dia/ElementView.mjs';\nimport { omit, assign, sanitizeHTML, merge, has, breakText, setByPath } from '../util/index.mjs';\nimport { env } from '../env/index.mjs';\n\nexport const Generic = Element.define('basic.Generic', {\n    attrs: {\n        '.': { fill: '#ffffff', stroke: 'none' }\n    }\n});\n\nexport const Rect = Generic.define('basic.Rect', {\n    attrs: {\n        'rect': {\n            fill: '#ffffff',\n            stroke: '#000000',\n            width: 100,\n            height: 60\n        },\n        'text': {\n            fill: '#000000',\n            text: '',\n            'font-size': 14,\n            'ref-x': .5,\n            'ref-y': .5,\n            'text-anchor': 'middle',\n            'y-alignment': 'middle',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect/></g><text/></g>'\n});\n\nexport const TextView = ElementView.extend({\n\n    presentationAttributes: ElementView.addPresentationAttributes({\n        // The element view is not automatically re-scaled to fit the model size\n        // when the attribute 'attrs' is changed.\n        attrs: ['SCALE']\n    }),\n\n    confirmUpdate: function() {\n        var flags = ElementView.prototype.confirmUpdate.apply(this, arguments);\n        if (this.hasFlag(flags, 'SCALE')) {\n            this.resize();\n            flags = this.removeFlag(flags, 'SCALE');\n        }\n        return flags;\n    }\n});\n\nexport const Text = Generic.define('basic.Text', {\n    attrs: {\n        'text': {\n            'font-size': 18,\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><text/></g></g>',\n});\n\nexport const Circle = Generic.define('basic.Circle', {\n    size: { width: 60, height: 60 },\n    attrs: {\n        'circle': {\n            fill: '#ffffff',\n            stroke: '#000000',\n            r: 30,\n            cx: 30,\n            cy: 30\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': .5,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle/></g><text/></g>',\n});\n\nexport const Ellipse = Generic.define('basic.Ellipse', {\n    size: { width: 60, height: 40 },\n    attrs: {\n        'ellipse': {\n            fill: '#ffffff',\n            stroke: '#000000',\n            rx: 30,\n            ry: 20,\n            cx: 30,\n            cy: 20\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': .5,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><ellipse/></g><text/></g>',\n});\n\nexport const Polygon = Generic.define('basic.Polygon', {\n    size: { width: 60, height: 40 },\n    attrs: {\n        'polygon': {\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-dy': 20,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon/></g><text/></g>',\n});\n\nexport const Polyline = Generic.define('basic.Polyline', {\n    size: { width: 60, height: 40 },\n    attrs: {\n        'polyline': {\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-dy': 20,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polyline/></g><text/></g>',\n});\n\nexport const Image = Generic.define('basic.Image', {\n    attrs: {\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-dy': 20,\n            'y-alignment': 'middle',\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><image/></g><text/></g>',\n});\n\nexport const Path = Generic.define('basic.Path', {\n    size: { width: 60, height: 60 },\n    attrs: {\n        'path': {\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n        'text': {\n            'font-size': 14,\n            text: '',\n            'text-anchor': 'middle',\n            'ref': 'path',\n            'ref-x': .5,\n            'ref-dy': 10,\n            fill: '#000000',\n            'font-family': 'Arial, helvetica, sans-serif'\n        }\n    }\n\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><path/></g><text/></g>',\n});\n\nexport const Rhombus = Path.define('basic.Rhombus', {\n    attrs: {\n        'path': {\n            d: 'M 30 0 L 60 30 30 60 0 30 z'\n        },\n        'text': {\n            'ref-y': .5,\n            'ref-dy': null,\n            'y-alignment': 'middle'\n        }\n    }\n});\n\nconst svgForeignObjectSupported = env.test('svgforeignobject');\n\nexport const TextBlock = Generic.define('basic.TextBlock', {\n    // see joint.css for more element styles\n    attrs: {\n        rect: {\n            fill: '#ffffff',\n            stroke: '#000000',\n            width: 80,\n            height: 100\n        },\n        text: {\n            fill: '#000000',\n            'font-size': 14,\n            'font-family': 'Arial, helvetica, sans-serif'\n        },\n        '.content': {\n            text: '',\n            'ref-x': .5,\n            'ref-y': .5,\n            'y-alignment': 'middle',\n            'x-alignment': 'middle'\n        }\n    },\n\n    content: ''\n}, {\n    markup: [\n        '<g class=\"rotatable\">',\n        '<g class=\"scalable\"><rect/></g>',\n        svgForeignObjectSupported\n            ? '<foreignObject class=\"fobj\"><body xmlns=\"http://www.w3.org/1999/xhtml\"><div class=\"content\"/></body></foreignObject>'\n            : '<text class=\"content\"/>',\n        '</g>'\n    ].join(''),\n\n    initialize: function() {\n\n        this.listenTo(this, 'change:size', this.updateSize);\n        this.listenTo(this, 'change:content', this.updateContent);\n        this.updateSize(this, this.get('size'));\n        this.updateContent(this, this.get('content'));\n        Generic.prototype.initialize.apply(this, arguments);\n    },\n\n    updateSize: function(cell, size) {\n\n        // Selector `foreignObject' doesn't work across all browsers, we're using class selector instead.\n        // We have to clone size as we don't want attributes.div.style to be same object as attributes.size.\n        this.attr({\n            '.fobj': assign({}, size),\n            div: {\n                style: assign({}, size)\n            }\n        });\n    },\n\n    updateContent: function(cell, content) {\n\n        if (svgForeignObjectSupported) {\n\n            // Content element is a <div> element.\n            this.attr({\n                '.content': {\n                    html: sanitizeHTML(content)\n                }\n            });\n\n        } else {\n\n            // Content element is a <text> element.\n            // SVG elements don't have innerHTML attribute.\n            this.attr({\n                '.content': {\n                    text: content\n                }\n            });\n        }\n    },\n\n    // Here for backwards compatibility:\n    setForeignObjectSize: function() {\n\n        this.updateSize.apply(this, arguments);\n    },\n\n    // Here for backwards compatibility:\n    setDivContent: function() {\n\n        this.updateContent.apply(this, arguments);\n    }\n});\n\n// TextBlockView implements the fallback for IE when no foreignObject exists and\n// the text needs to be manually broken.\nexport const TextBlockView = ElementView.extend({\n\n    presentationAttributes: svgForeignObjectSupported\n        ? ElementView.prototype.presentationAttributes\n        : ElementView.addPresentationAttributes({\n            content: ['CONTENT'],\n            size: ['CONTENT']\n        }),\n\n    initFlag: ['RENDER', 'CONTENT'],\n\n    confirmUpdate: function() {\n        var flags = ElementView.prototype.confirmUpdate.apply(this, arguments);\n        if (this.hasFlag(flags, 'CONTENT')) {\n            this.updateContent(this.model);\n            flags = this.removeFlag(flags, 'CONTENT');\n        }\n        return flags;\n    },\n\n    update: function(_, renderingOnlyAttrs) {\n\n        var model = this.model;\n\n        if (!svgForeignObjectSupported) {\n\n            // Update everything but the content first.\n            var noTextAttrs = omit(renderingOnlyAttrs || model.get('attrs'), '.content');\n            ElementView.prototype.update.call(this, model, noTextAttrs);\n\n            if (!renderingOnlyAttrs || has(renderingOnlyAttrs, '.content')) {\n                // Update the content itself.\n                this.updateContent(model, renderingOnlyAttrs);\n            }\n\n        } else {\n\n            ElementView.prototype.update.call(this, model, renderingOnlyAttrs);\n        }\n    },\n\n    updateContent: function(cell, renderingOnlyAttrs) {\n\n        // Create copy of the text attributes\n        var textAttrs = merge({}, (renderingOnlyAttrs || cell.get('attrs'))['.content']);\n\n        textAttrs = omit(textAttrs, 'text');\n\n        // Break the content to fit the element size taking into account the attributes\n        // set on the model.\n        var text = breakText(cell.get('content'), cell.get('size'), textAttrs, {\n            // measuring sandbox svg document\n            svgDocument: this.paper.svg\n        });\n\n        // Create a new attrs with same structure as the model attrs { text: { *textAttributes* }}\n        var attrs = setByPath({}, '.content', textAttrs, '/');\n\n        // Replace text attribute with the one we just processed.\n        attrs['.content'].text = text;\n\n        // Update the view using renderingOnlyAttributes parameter.\n        ElementView.prototype.update.call(this, cell, attrs);\n    }\n});\n", "export const env = {\n\n    _results: {},\n\n    _tests: {\n\n        svgforeignobject: function() {\n            return !!document.createElementNS &&\n                /SVGForeignObject/.test(({}).toString.call(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject')));\n        }\n    },\n\n    addTest: function(name, fn) {\n\n        return this._tests[name] = fn;\n    },\n\n    test: function(name) {\n\n        var fn = this._tests[name];\n\n        if (!fn) {\n            throw new Error('Test not defined (\"' + name + '\"). Use `joint.env.addTest(name, fn) to add a new test.`');\n        }\n\n        var result = this._results[name];\n\n        if (typeof result !== 'undefined') {\n            return result;\n        }\n\n        try {\n            result = fn();\n        } catch (error) {\n            result = false;\n        }\n\n        // Cache the test result.\n        this._results[name] = result;\n\n        return result;\n    }\n};\n", "import V from '../V/index.mjs';\nimport { Element } from '../dia/Element.mjs';\nimport { Link as LinkBase } from '../dia/Link.mjs';\nimport { isPercentage, assign } from '../util/index.mjs';\nimport { attributes } from '../dia/attributes/index.mjs';\nimport { env } from '../env/index.mjs';\n\n\n// ELEMENTS\n\nexport const Rectangle = Element.define('standard.Rectangle', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            strokeWidth: 2,\n            stroke: '#000000',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body',\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Circle = Element.define('standard.Circle', {\n    attrs: {\n        body: {\n            refCx: '50%',\n            refCy: '50%',\n            refR: '50%',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'circle',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Ellipse = Element.define('standard.Ellipse', {\n    attrs: {\n        body: {\n            refCx: '50%',\n            refCy: '50%',\n            refRx: '50%',\n            refRy: '50%',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'ellipse',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Path = Element.define('standard.Path', {\n    attrs: {\n        body: {\n            refD: 'M 0 0 L 10 0 10 10 0 10 Z',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Polygon = Element.define('standard.Polygon', {\n    attrs: {\n        body: {\n            refPoints: '0 0 10 0 10 10 0 10',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'polygon',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Polyline = Element.define('standard.Polyline', {\n    attrs: {\n        body: {\n            refPoints: '0 0 10 0 10 10 0 10 0 0',\n            strokeWidth: 2,\n            stroke: '#333333',\n            fill: '#FFFFFF'\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'polyline',\n        selector: 'body'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const Image = Element.define('standard.Image', {\n    attrs: {\n        image: {\n            refWidth: '100%',\n            refHeight: '100%',\n            // xlinkHref: '[URL]'\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const BorderedImage = Element.define('standard.BorderedImage', {\n    attrs: {\n        border: {\n            refWidth: '100%',\n            refHeight: '100%',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        background: {\n            refWidth: -1,\n            refHeight: -1,\n            x: 0.5,\n            y: 0.5,\n            fill: '#FFFFFF'\n        },\n        image: {\n            // xlinkHref: '[URL]'\n            refWidth: -1,\n            refHeight: -1,\n            x: 0.5,\n            y: 0.5\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'background',\n        attributes: {\n            'stroke': 'none'\n        }\n    }, {\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'rect',\n        selector: 'border',\n        attributes: {\n            'fill': 'none'\n        }\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const EmbeddedImage = Element.define('standard.EmbeddedImage', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            stroke: '#333333',\n            fill: '#FFFFFF',\n            strokeWidth: 2\n        },\n        image: {\n            // xlinkHref: '[URL]'\n            refWidth: '30%',\n            refHeight: -20,\n            x: 10,\n            y: 10,\n            preserveAspectRatio: 'xMidYMin'\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'left',\n            refX: '30%',\n            refX2: 20, // 10 + 10\n            refY: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body'\n    }, {\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const InscribedImage = Element.define('standard.InscribedImage', {\n    attrs: {\n        border: {\n            refRx: '50%',\n            refRy: '50%',\n            refCx: '50%',\n            refCy: '50%',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        background: {\n            refRx: '50%',\n            refRy: '50%',\n            refCx: '50%',\n            refCy: '50%',\n            fill: '#FFFFFF'\n        },\n        image: {\n            // The image corners touch the border when its size is Math.sqrt(2) / 2 = 0.707.. ~= 70%\n            refWidth: '68%',\n            refHeight: '68%',\n            // The image offset is calculated as (100% - 68%) / 2\n            refX: '16%',\n            refY: '16%',\n            preserveAspectRatio: 'xMidYMid'\n            // xlinkHref: '[URL]'\n        },\n        label: {\n            textVerticalAnchor: 'top',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 10,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'ellipse',\n        selector: 'background'\n    }, {\n        tagName: 'image',\n        selector: 'image'\n    }, {\n        tagName: 'ellipse',\n        selector: 'border',\n        attributes: {\n            'fill': 'none'\n        }\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }]\n});\n\nexport const HeaderedRectangle = Element.define('standard.HeaderedRectangle', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            strokeWidth: 2,\n            stroke: '#000000',\n            fill: '#FFFFFF'\n        },\n        header: {\n            refWidth: '100%',\n            height: 30,\n            strokeWidth: 2,\n            stroke: '#000000',\n            fill: '#FFFFFF'\n        },\n        headerText: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: 15,\n            fontSize: 16,\n            fill: '#333333'\n        },\n        bodyText: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '50%',\n            refY2: 15,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body'\n    }, {\n        tagName: 'rect',\n        selector: 'header'\n    }, {\n        tagName: 'text',\n        selector: 'headerText'\n    }, {\n        tagName: 'text',\n        selector: 'bodyText'\n    }]\n});\n\nvar CYLINDER_TILT = 10;\n\nexport const Cylinder = Element.define('standard.Cylinder', {\n    attrs: {\n        body: {\n            lateralArea: CYLINDER_TILT,\n            fill: '#FFFFFF',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        top: {\n            refCx: '50%',\n            cy: CYLINDER_TILT,\n            refRx: '50%',\n            ry: CYLINDER_TILT,\n            fill: '#FFFFFF',\n            stroke: '#333333',\n            strokeWidth: 2\n        },\n        label: {\n            textVerticalAnchor: 'middle',\n            textAnchor: 'middle',\n            refX: '50%',\n            refY: '100%',\n            refY2: 15,\n            fontSize: 14,\n            fill: '#333333'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'body'\n    }, {\n        tagName: 'ellipse',\n        selector: 'top'\n    }, {\n        tagName: 'text',\n        selector: 'label'\n    }],\n\n    topRy: function(t, opt) {\n        // getter\n        if (t === undefined) return this.attr('body/lateralArea');\n\n        // setter\n        var isPercentageSetter = isPercentage(t);\n\n        var bodyAttrs = { lateralArea: t };\n        var topAttrs = isPercentageSetter\n            ? { refCy: t, refRy: t, cy: null, ry: null }\n            : { refCy: null, refRy: null, cy: t, ry: t };\n\n        return this.attr({ body: bodyAttrs, top: topAttrs }, opt);\n    }\n\n}, {\n    attributes: {\n        lateralArea: {\n            set: function(t, refBBox) {\n                var isPercentageSetter = isPercentage(t);\n                if (isPercentageSetter) t = parseFloat(t) / 100;\n\n                var x = refBBox.x;\n                var y = refBBox.y;\n                var w = refBBox.width;\n                var h = refBBox.height;\n\n                // curve control point variables\n                var rx = w / 2;\n                var ry = isPercentageSetter ? (h * t) : t;\n\n                var kappa = V.KAPPA;\n                var cx = kappa * rx;\n                var cy = kappa * (isPercentageSetter ? (h * t) : t);\n\n                // shape variables\n                var xLeft = x;\n                var xCenter = x + (w / 2);\n                var xRight = x + w;\n\n                var ySideTop = y + ry;\n                var yCurveTop = ySideTop - ry;\n                var ySideBottom = y + h - ry;\n                var yCurveBottom = y + h;\n\n                // return calculated shape\n                var data = [\n                    'M', xLeft, ySideTop,\n                    'L', xLeft, ySideBottom,\n                    'C', x, (ySideBottom + cy), (xCenter - cx), yCurveBottom, xCenter, yCurveBottom,\n                    'C', (xCenter + cx), yCurveBottom, xRight, (ySideBottom + cy), xRight, ySideBottom,\n                    'L', xRight, ySideTop,\n                    'C', xRight, (ySideTop - cy), (xCenter + cx), yCurveTop, xCenter, yCurveTop,\n                    'C', (xCenter - cx), yCurveTop, xLeft, (ySideTop - cy), xLeft, ySideTop,\n                    'Z'\n                ];\n                return { d: data.join(' ') };\n            }\n        }\n    }\n});\n\nvar foLabelMarkup = {\n    tagName: 'foreignObject',\n    selector: 'foreignObject',\n    attributes: {\n        'overflow': 'hidden'\n    },\n    children: [{\n        tagName: 'div',\n        namespaceURI: 'http://www.w3.org/1999/xhtml',\n        selector: 'label',\n        style: {\n            width: '100%',\n            height: '100%',\n            position: 'static',\n            backgroundColor: 'transparent',\n            textAlign: 'center',\n            margin: 0,\n            padding: '0px 5px',\n            boxSizing: 'border-box',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n        }\n    }]\n};\n\nvar svgLabelMarkup = {\n    tagName: 'text',\n    selector: 'label',\n    attributes: {\n        'text-anchor': 'middle'\n    }\n};\n\nvar labelMarkup = (env.test('svgforeignobject')) ? foLabelMarkup : svgLabelMarkup;\n\nexport const TextBlock = Element.define('standard.TextBlock', {\n    attrs: {\n        body: {\n            refWidth: '100%',\n            refHeight: '100%',\n            stroke: '#333333',\n            fill: '#ffffff',\n            strokeWidth: 2\n        },\n        foreignObject: {\n            refWidth: '100%',\n            refHeight: '100%'\n        },\n        label: {\n            style: {\n                fontSize: 14\n            }\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'rect',\n        selector: 'body'\n    }, labelMarkup]\n}, {\n    attributes: {\n        text: {\n            set: function(text, refBBox, node, attrs) {\n                if (node instanceof HTMLElement) {\n                    node.textContent = text;\n                } else {\n                    // No foreign object\n                    var style = attrs.style || {};\n                    var wrapValue = { text: text, width: -5, height: '100%' };\n                    var wrapAttrs = assign({ textVerticalAnchor: 'middle' }, style);\n                    attributes.textWrap.set.call(this, wrapValue, refBBox, node, wrapAttrs);\n                    return { fill: style.color || null };\n                }\n            },\n            position: function(text, refBBox, node) {\n                // No foreign object\n                if (node instanceof SVGElement) return refBBox.center();\n            }\n        }\n    }\n});\n\n// LINKS\n\nexport const Link = LinkBase.define('standard.Link', {\n    attrs: {\n        line: {\n            connection: true,\n            stroke: '#333333',\n            strokeWidth: 2,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                'type': 'path',\n                'd': 'M 10 -5 0 0 10 5 z'\n            }\n        },\n        wrapper: {\n            connection: true,\n            strokeWidth: 10,\n            strokeLinejoin: 'round'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'wrapper',\n        attributes: {\n            'fill': 'none',\n            'cursor': 'pointer',\n            'stroke': 'transparent',\n            'stroke-linecap': 'round'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'line',\n        attributes: {\n            'fill': 'none',\n            'pointer-events': 'none'\n        }\n    }]\n});\n\nexport const DoubleLink = LinkBase.define('standard.DoubleLink', {\n    attrs: {\n        line: {\n            connection: true,\n            stroke: '#DDDDDD',\n            strokeWidth: 4,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                type: 'path',\n                stroke: '#000000',\n                d: 'M 10 -3 10 -10 -2 0 10 10 10 3'\n            }\n        },\n        outline: {\n            connection: true,\n            stroke: '#000000',\n            strokeWidth: 6,\n            strokeLinejoin: 'round'\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'outline',\n        attributes: {\n            'fill': 'none',\n            'cursor': 'pointer'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'line',\n        attributes: {\n            'fill': 'none',\n            'pointer-events': 'none'\n        }\n    }]\n});\n\nexport const ShadowLink = LinkBase.define('standard.ShadowLink', {\n    attrs: {\n        line: {\n            connection: true,\n            stroke: '#FF0000',\n            strokeWidth: 20,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                'type': 'path',\n                'stroke': 'none',\n                'd': 'M 0 -10 -10 0 0 10 z'\n            },\n            sourceMarker: {\n                'type': 'path',\n                'stroke': 'none',\n                'd': 'M -10 -10 0 0 -10 10 0 10 0 -10 z'\n            }\n        },\n        shadow: {\n            connection: true,\n            refX: 3,\n            refY: 6,\n            stroke: '#000000',\n            strokeOpacity: 0.2,\n            strokeWidth: 20,\n            strokeLinejoin: 'round',\n            targetMarker: {\n                'type': 'path',\n                'd': 'M 0 -10 -10 0 0 10 z',\n                'stroke': 'none'\n            },\n            sourceMarker: {\n                'type': 'path',\n                'stroke': 'none',\n                'd': 'M -10 -10 0 0 -10 10 0 10 0 -10 z'\n            }\n        }\n    }\n}, {\n    markup: [{\n        tagName: 'path',\n        selector: 'shadow',\n        attributes: {\n            'fill': 'none',\n            'pointer-events': 'none'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'line',\n        attributes: {\n            'fill': 'none',\n            'cursor': 'pointer'\n        }\n    }]\n});\n", "import { Generic } from './basic.mjs';\nimport { Link as LinkBase } from '../dia/Link.mjs';\nimport { uniq, difference, assign, toArray, without, isObject } from '../util/index.mjs';\n\n/**\n * @deprecated use the port api instead\n */\nexport const Model = Generic.define('devs.Model', {\n    inPorts: [],\n    outPorts: [],\n    size: {\n        width: 80,\n        height: 80\n    },\n    attrs: {\n        '.': {\n            magnet: false\n        },\n        '.label': {\n            text: 'Model',\n            'ref-x': .5,\n            'ref-y': 10,\n            'font-size': 18,\n            'text-anchor': 'middle',\n            fill: '#000'\n        },\n        '.body': {\n            'ref-width': '100%',\n            'ref-height': '100%',\n            stroke: '#000'\n        }\n    },\n    ports: {\n        groups: {\n            'in': {\n                position: {\n                    name: 'left'\n                },\n                attrs: {\n                    '.port-label': {\n                        fill: '#000'\n                    },\n                    '.port-body': {\n                        fill: '#fff',\n                        stroke: '#000',\n                        r: 10,\n                        magnet: true\n                    }\n                },\n                label: {\n                    position: {\n                        name: 'left',\n                        args: {\n                            y: 10\n                        }\n                    }\n                }\n            },\n            'out': {\n                position: {\n                    name: 'right'\n                },\n                attrs: {\n                    '.port-label': {\n                        fill: '#000'\n                    },\n                    '.port-body': {\n                        fill: '#fff',\n                        stroke: '#000',\n                        r: 10,\n                        magnet: true\n                    }\n                },\n                label: {\n                    position: {\n                        name: 'right',\n                        args: {\n                            y: 10\n                        }\n                    }\n                }\n            }\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><rect class=\"body\"/><text class=\"label\"/></g>',\n    portMarkup: '<circle class=\"port-body\"/>',\n    portLabelMarkup: '<text class=\"port-label\"/>',\n\n    initialize: function() {\n\n        Generic.prototype.initialize.apply(this, arguments);\n\n        this.on('change:inPorts change:outPorts', this.updatePortItems, this);\n        this.updatePortItems();\n    },\n\n    updatePortItems: function(model, changed, opt) {\n\n        // Make sure all ports are unique.\n        var inPorts = uniq(this.get('inPorts'));\n        var outPorts = difference(uniq(this.get('outPorts')), inPorts);\n\n        var inPortItems = this.createPortItems('in', inPorts);\n        var outPortItems = this.createPortItems('out', outPorts);\n\n        this.prop('ports/items', inPortItems.concat(outPortItems), assign({ rewrite: true }, opt));\n    },\n\n    createPortItem: function(group, port) {\n\n        return {\n            id: port,\n            group: group,\n            attrs: {\n                '.port-label': {\n                    text: port\n                }\n            }\n        };\n    },\n\n    createPortItems: function(group, ports) {\n\n        return toArray(ports).map(this.createPortItem.bind(this, group));\n    },\n\n    _addGroupPort: function(port, group, opt) {\n\n        var ports = this.get(group);\n        return this.set(group, Array.isArray(ports) ? ports.concat(port) : [port], opt);\n    },\n\n    addOutPort: function(port, opt) {\n\n        return this._addGroupPort(port, 'outPorts', opt);\n    },\n\n    addInPort: function(port, opt) {\n\n        return this._addGroupPort(port, 'inPorts', opt);\n    },\n\n    _removeGroupPort: function(port, group, opt) {\n\n        return this.set(group, without(this.get(group), port), opt);\n    },\n\n    removeOutPort: function(port, opt) {\n\n        return this._removeGroupPort(port, 'outPorts', opt);\n    },\n\n    removeInPort: function(port, opt) {\n\n        return this._removeGroupPort(port, 'inPorts', opt);\n    },\n\n    _changeGroup: function(group, properties, opt) {\n\n        return this.prop('ports/groups/' + group, isObject(properties) ? properties : {}, opt);\n    },\n\n    changeInGroup: function(properties, opt) {\n\n        return this._changeGroup('in', properties, opt);\n    },\n\n    changeOutGroup: function(properties, opt) {\n\n        return this._changeGroup('out', properties, opt);\n    }\n});\n\nexport const Atomic = Model.define('devs.Atomic', {\n    size: {\n        width: 80,\n        height: 80\n    },\n    attrs: {\n        '.label': {\n            text: 'Atomic'\n        }\n    }\n});\n\nexport const Coupled = Model.define('devs.Coupled', {\n    size: {\n        width: 200,\n        height: 300\n    },\n    attrs: {\n        '.label': {\n            text: 'Coupled'\n        }\n    }\n});\n\nexport const Link = LinkBase.define('devs.Link', {\n    attrs: {\n        '.connection': {\n            'stroke-width': 2\n        }\n    }\n});\n\n", "import { Generic } from './basic.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const Gate = Generic.define('logic.Gate', {\n    size: { width: 80, height: 40 },\n    attrs: {\n        '.': { magnet: false },\n        '.body': { width: 100, height: 50 },\n        circle: { r: 7, stroke: 'black', fill: 'transparent', 'stroke-width': 2 }\n    }\n}, {\n    operation: function() {\n        return true;\n    }\n});\n\nexport const IO = Gate.define('logic.IO', {\n    size: { width: 60, height: 30 },\n    attrs: {\n        '.body': { fill: 'white', stroke: 'black', 'stroke-width': 2 },\n        '.wire': { ref: '.body', 'ref-y': .5, stroke: 'black' },\n        text: {\n            fill: 'black',\n            ref: '.body', 'ref-x': .5, 'ref-y': .5, 'y-alignment': 'middle',\n            'text-anchor': 'middle',\n            'font-weight': 'bold',\n            'font-variant': 'small-caps',\n            'text-transform': 'capitalize',\n            'font-size': '14px'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect class=\"body\"/></g><path class=\"wire\"/><circle/><text/></g>',\n});\n\nexport const Input = IO.define('logic.Input', {\n    attrs: {\n        '.wire': { 'ref-dx': 0, d: 'M 0 0 L 23 0' },\n        circle: { ref: '.body', 'ref-dx': 30, 'ref-y': 0.5, magnet: true, 'class': 'output', port: 'out' },\n        text: { text: 'input' }\n    }\n});\n\nexport const Output = IO.define('logic.Output', {\n    attrs: {\n        '.wire': { 'ref-x': 0, d: 'M 0 0 L -23 0' },\n        circle: { ref: '.body', 'ref-x': -30, 'ref-y': 0.5, magnet: 'passive', 'class': 'input', port: 'in' },\n        text: { text: 'output' }\n    }\n});\n\nexport const Gate11 = Gate.define('logic.Gate11', {\n    attrs: {\n        '.input': { ref: '.body', 'ref-x': -2, 'ref-y': 0.5, magnet: 'passive', port: 'in' },\n        '.output': { ref: '.body', 'ref-dx': 2, 'ref-y': 0.5, magnet: true, port: 'out' }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><image class=\"body\"/></g><circle class=\"input\"/><circle class=\"output\"/></g>',\n});\n\nexport const Gate21 = Gate.define('logic.Gate21', {\n    attrs: {\n        '.input1': { ref: '.body', 'ref-x': -2, 'ref-y': 0.3, magnet: 'passive', port: 'in1' },\n        '.input2': { ref: '.body', 'ref-x': -2, 'ref-y': 0.7, magnet: 'passive', port: 'in2' },\n        '.output': { ref: '.body', 'ref-dx': 2, 'ref-y': 0.5, magnet: true, port: 'out' }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><image class=\"body\"/></g><circle class=\"input input1\"/><circle  class=\"input input2\"/><circle class=\"output\"/></g>',\n});\n\nexport const Repeater = Gate11.define('logic.Repeater', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo=' }}\n}, {\n    operation: function(input) {\n        return input;\n    }\n});\n\nexport const Not = Gate11.define('logic.Not', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K' }}\n}, {\n    operation: function(input) {\n        return !input;\n    }\n});\n\nexport const Or = Gate21.define('logic.Or', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=' }}\n}, {\n    operation: function(input1, input2) {\n        return input1 || input2;\n    }\n});\n\nexport const And = Gate21.define('logic.And', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg==' }}\n\n}, {\n    operation: function(input1, input2) {\n        return input1 && input2;\n    }\n});\n\nexport const Nor = Gate21.define('logic.Nor', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K' }}\n}, {\n    operation: function(input1, input2) {\n        return !(input1 || input2);\n    }\n});\n\nexport const Nand = Gate21.define('logic.Nand', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg==' }}\n}, {\n    operation: function(input1, input2) {\n        return !(input1 && input2);\n    }\n});\n\nexport const Xor = Gate21.define('logic.Xor', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K' }}\n}, {\n    operation: function(input1, input2) {\n        return (!input1 || input2) && (input1 || !input2);\n    }\n});\n\nexport const Xnor = Gate21.define('logic.Xnor', {\n    attrs: { image: { 'xlink:href': 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg==' }}\n}, {\n    operation: function(input1, input2) {\n        return (!input1 || !input2) && (input1 || input2);\n    }\n});\n\nexport const Wire = Link.define('logic.Wire', {\n    attrs: {\n        '.connection': { 'stroke-width': 2 },\n        '.marker-vertex': { r: 7 }\n    },\n\n    router: { name: 'orthogonal' },\n    connector: { name: 'rounded', args: { radius: 10 }}\n}, {\n    arrowheadMarkup: [\n        '<g class=\"marker-arrowhead-group marker-arrowhead-group-<%= end %>\">',\n        '<circle class=\"marker-arrowhead\" end=\"<%= end %>\" r=\"7\"/>',\n        '</g>'\n    ].join(''),\n\n    vertexMarkup: [\n        '<g class=\"marker-vertex-group\" transform=\"translate(<%= x %>, <%= y %>)\">',\n        '<circle class=\"marker-vertex\" idx=\"<%= idx %>\" r=\"10\" />',\n        '<g class=\"marker-vertex-remove-group\">',\n        '<path class=\"marker-vertex-remove-area\" idx=\"<%= idx %>\" d=\"M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z\" transform=\"translate(5, -33)\"/>',\n        '<path class=\"marker-vertex-remove\" idx=\"<%= idx %>\" transform=\"scale(.8) translate(9.5, -37)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\">',\n        '<title>Remove vertex.</title>',\n        '</path>',\n        '</g>',\n        '</g>'\n    ].join('')\n});\n", "import { Generic } from './basic.mjs';\n\nexport const KingWhite = Generic.define('chess.KingWhite', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\"><path      d=\"M 22.5,11.63 L 22.5,6\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />    <path      d=\"M 20,8 L 25,8\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />    <path      d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"      style=\"fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;\" />    <path      d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"      style=\"fill:#ffffff; stroke:#000000;\" />    <path      d=\"M 11.5,30 C 17,27 27,27 32.5,30\"      style=\"fill:none; stroke:#000000;\" />    <path      d=\"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5\"      style=\"fill:none; stroke:#000000;\" />    <path      d=\"M 11.5,37 C 17,34 27,34 32.5,37\"      style=\"fill:none; stroke:#000000;\" />  </g></g></g>'\n});\n\nexport const KingBlack = Generic.define('chess.KingBlack', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path       d=\"M 22.5,11.63 L 22.5,6\"       style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\"       id=\"path6570\" />    <path       d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"       style=\"fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;\" />    <path       d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"       style=\"fill:#000000; stroke:#000000;\" />    <path       d=\"M 20,8 L 25,8\"       style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />    <path       d=\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37\"       style=\"fill:none; stroke:#ffffff;\" />  </g></g></g>'\n});\n\nexport const QueenWhite = Generic.define('chess.QueenWhite', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(-1,-1)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(15.5,-5.5)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(32,-1)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(7,-4.5)\" />    <path      d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"      transform=\"translate(24,-4)\" />    <path      d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 11.5,30 C 15,29 30,29 33.5,30\"      style=\"fill:none;\" />    <path      d=\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\"      style=\"fill:none;\" />  </g></g></g>'\n});\n\nexport const QueenBlack = Generic.define('chess.QueenBlack', {\n    size: { width: 42, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <g style=\"fill:#000000; stroke:none;\">      <circle cx=\"6\"    cy=\"12\" r=\"2.75\" />      <circle cx=\"14\"   cy=\"9\"  r=\"2.75\" />      <circle cx=\"22.5\" cy=\"8\"  r=\"2.75\" />      <circle cx=\"31\"   cy=\"9\"  r=\"2.75\" />      <circle cx=\"39\"   cy=\"12\" r=\"2.75\" />    </g>    <path       d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"       style=\"stroke-linecap:butt; stroke:#000000;\" />    <path       d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"       style=\"stroke-linecap:butt;\" />    <path       d=\"M 11,38.5 A 35,35 1 0 0 34,38.5\"       style=\"fill:none; stroke:#000000; stroke-linecap:butt;\" />    <path       d=\"M 11,29 A 35,35 1 0 1 34,29\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 12.5,31.5 L 32.5,31.5\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"       style=\"fill:none; stroke:#ffffff;\" />    <path       d=\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"       style=\"fill:none; stroke:#ffffff;\" />  </g></g></g>'\n});\n\nexport const RookWhite = Generic.define('chess.RookWhite', {\n    size: { width: 32, height: 34 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 34,14 L 31,17 L 14,17 L 11,14\" />    <path      d=\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\"      style=\"stroke-linecap:butt; stroke-linejoin:miter;\" />    <path      d=\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\" />    <path      d=\"M 11,14 L 34,14\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const RookBlack = Generic.define('chess.RookBlack', {\n    size: { width: 32, height: 34 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"      style=\"stroke-linecap:butt;stroke-linejoin:miter;\" />    <path      d=\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"      style=\"stroke-linecap:butt;\" />    <path      d=\"M 12,35.5 L 33,35.5 L 33,35.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 13,31.5 L 32,31.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 14,29.5 L 31,29.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 14,16.5 L 31,16.5\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />    <path      d=\"M 11,14 L 34,14\"      style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const BishopWhite = Generic.define('chess.BishopWhite', {\n    size: { width: 38, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <g style=\"fill:#ffffff; stroke:#000000; stroke-linecap:butt;\">       <path        d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\" />      <path        d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />      <path        d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />    </g>    <path      d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"      style=\"fill:none; stroke:#000000; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const BishopBlack = Generic.define('chess.BishopBlack', {\n    size: { width: 38, height: 38 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <g style=\"fill:#000000; stroke:#000000; stroke-linecap:butt;\">       <path        d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\" />      <path        d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />      <path        d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />    </g>    <path       d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"       style=\"fill:none; stroke:#ffffff; stroke-linejoin:miter;\" />  </g></g></g>'\n});\n\nexport const KnightWhite = Generic.define('chess.KnightWhite', {\n    size: { width: 38, height: 37 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"      style=\"fill:#ffffff; stroke:#000000;\" />    <path      d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"      style=\"fill:#ffffff; stroke:#000000;\" />    <path      d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"      style=\"fill:#000000; stroke:#000000;\" />    <path      d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"      transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"      style=\"fill:#000000; stroke:#000000;\" />  </g></g></g>'\n});\n\nexport const KnightBlack = Generic.define('chess.KnightBlack', {\n    size: { width: 38, height: 37 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><g style=\"opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">    <path      d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"      style=\"fill:#000000; stroke:#000000;\" />    <path      d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"      style=\"fill:#000000; stroke:#000000;\" />    <path      d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"      style=\"fill:#ffffff; stroke:#ffffff;\" />    <path      d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"      transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"      style=\"fill:#ffffff; stroke:#ffffff;\" />    <path      d=\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"      style=\"fill:#ffffff; stroke:none;\" />  </g></g></g>'\n});\n\nexport const PawnWhite = Generic.define('chess.PawnWhite', {\n    size: { width: 28, height: 33 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><path d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"  style=\"opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\" /></g></g>'\n});\n\nexport const PawnBlack = Generic.define('chess.PawnBlack', {\n    size: { width: 28, height: 33 }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><path d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"  style=\"opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\" /></g></g>'\n});\n\n", "import { Element } from '../dia/Element.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const Entity = Element.define('erd.Entity', {\n    size: { width: 150, height: 60 },\n    attrs: {\n        '.outer': {\n            fill: '#2ECC71', stroke: '#27AE60', 'stroke-width': 2,\n            points: '100,0 100,60 0,60 0,0'\n        },\n        '.inner': {\n            fill: '#2ECC71', stroke: '#27AE60', 'stroke-width': 2,\n            points: '95,5 95,55 5,55 5,5',\n            display: 'none'\n        },\n        text: {\n            text: 'Entity',\n            'font-family': 'Arial', 'font-size': 14,\n            'ref-x': .5, 'ref-y': .5,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon class=\"outer\"/><polygon class=\"inner\"/></g><text/></g>',\n});\n\nexport const WeakEntity = Entity.define('erd.WeakEntity', {\n    attrs: {\n        '.inner': { display: 'auto' },\n        text: { text: 'Weak Entity' }\n    }\n});\n\nexport const Relationship = Element.define('erd.Relationship', {\n    size: { width: 80, height: 80 },\n    attrs: {\n        '.outer': {\n            fill: '#3498DB', stroke: '#2980B9', 'stroke-width': 2,\n            points: '40,0 80,40 40,80 0,40'\n        },\n        '.inner': {\n            fill: '#3498DB', stroke: '#2980B9', 'stroke-width': 2,\n            points: '40,5 75,40 40,75 5,40',\n            display: 'none'\n        },\n        text: {\n            text: 'Relationship',\n            'font-family': 'Arial', 'font-size': 12,\n            'ref-x': .5, 'ref-y': .5,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon class=\"outer\"/><polygon class=\"inner\"/></g><text/></g>',\n});\n\nexport const IdentifyingRelationship = Relationship.define('erd.IdentifyingRelationship', {\n    attrs: {\n        '.inner': { display: 'auto' },\n        text: { text: 'Identifying' }\n    }\n});\n\nexport const Attribute = Element.define('erd.Attribute', {\n    size: { width: 100, height: 50 },\n    attrs: {\n        'ellipse': {\n            transform: 'translate(50, 25)'\n        },\n        '.outer': {\n            stroke: '#D35400', 'stroke-width': 2,\n            cx: 0, cy: 0, rx: 50, ry: 25,\n            fill: '#E67E22'\n        },\n        '.inner': {\n            stroke: '#D35400', 'stroke-width': 2,\n            cx: 0, cy: 0, rx: 45, ry: 20,\n            fill: '#E67E22', display: 'none'\n        },\n        text: {\n            'font-family': 'Arial', 'font-size': 14,\n            'ref-x': .5, 'ref-y': .5,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><ellipse class=\"outer\"/><ellipse class=\"inner\"/></g><text/></g>',\n});\n\nexport const Multivalued = Attribute.define('erd.Multivalued', {\n    attrs: {\n        '.inner': { display: 'block' },\n        text: { text: 'multivalued' }\n    }\n});\n\nexport const Derived = Attribute.define('erd.Derived', {\n    attrs: {\n        '.outer': { 'stroke-dasharray': '3,5' },\n        text: { text: 'derived' }\n    }\n});\n\nexport const Key = Attribute.define('erd.Key', {\n    attrs: {\n        ellipse: { 'stroke-width': 4 },\n        text: { text: 'key', 'font-weight': '800', 'text-decoration': 'underline' }\n    }\n});\n\nexport const Normal = Attribute.define('erd.Normal', {\n    attrs: { text: { text: 'Normal' }}\n});\n\nexport const ISA = Element.define('erd.ISA', {\n    type: 'erd.ISA',\n    size: { width: 100, height: 50 },\n    attrs: {\n        polygon: {\n            points: '0,0 50,50 100,0',\n            fill: '#F1C40F', stroke: '#F39C12', 'stroke-width': 2\n        },\n        text: {\n            text: 'ISA', 'font-size': 18,\n            'ref-x': .5, 'ref-y': .3,\n            'y-alignment': 'middle', 'text-anchor': 'middle'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><polygon/></g><text/></g>',\n});\n\nexport const Line = Link.define('erd.Line', {}, {\n    cardinality: function(value) {\n        this.set('labels', [{ position: -20, attrs: { text: { dy: -8, text: value }}}]);\n    }\n});\n", "import { Circle } from './basic.mjs';\nimport { Element } from '../dia/Element.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const State = Circle.define('fsa.State', {\n    attrs: {\n        circle: { 'stroke-width': 3 },\n        text: { 'font-weight': '800' }\n    }\n});\n\nexport const StartState = Element.define('fsa.StartState', {\n    size: { width: 20, height: 20 },\n    attrs: {\n        circle: {\n            transform: 'translate(10, 10)',\n            r: 10,\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle/></g></g>',\n});\n\nexport const EndState = Element.define('fsa.EndState', {\n    size: { width: 20, height: 20 },\n    attrs: {\n        '.outer': {\n            transform: 'translate(10, 10)',\n            r: 10,\n            fill: '#ffffff',\n            stroke: '#000000'\n        },\n\n        '.inner': {\n            transform: 'translate(10, 10)',\n            r: 6,\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle class=\"outer\"/><circle class=\"inner\"/></g></g>',\n});\n\nexport const Arrow = Link.define('fsa.Arrow', {\n    attrs: { '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z' }},\n    smooth: true\n});\n\n\n", "import { Element } from '../dia/Element.mjs';\nimport { Link } from '../dia/Link.mjs';\n\nexport const Member = Element.define('org.Member', {\n    size: { width: 180, height: 70 },\n    attrs: {\n        rect: { width: 170, height: 60 },\n\n        '.card': {\n            fill: '#FFFFFF', stroke: '#000000', 'stroke-width': 2,\n            'pointer-events': 'visiblePainted', rx: 10, ry: 10\n        },\n\n        image: {\n            width: 48, height: 48,\n            ref: '.card', 'ref-x': 10, 'ref-y': 5\n        },\n\n        '.rank': {\n            'text-decoration': 'underline',\n            ref: '.card', 'ref-x': 0.9, 'ref-y': 0.2,\n            'font-family': 'Courier New', 'font-size': 14,\n            'text-anchor': 'end'\n        },\n\n        '.name': {\n            'font-weight': '800',\n            ref: '.card', 'ref-x': 0.9, 'ref-y': 0.6,\n            'font-family': 'Courier New', 'font-size': 14,\n            'text-anchor': 'end'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect class=\"card\"/><image/></g><text class=\"rank\"/><text class=\"name\"/></g>',\n});\n\nexport const Arrow = Link.define('org.Arrow', {\n    source: { selector: '.card' }, target: { selector: '.card' },\n    attrs: { '.connection': { stroke: '#585858', 'stroke-width': 3 }},\n    z: -1\n});\n\n", "import { Generic } from './basic.mjs';\nimport { ElementView } from '../dia/ElementView.mjs';\nimport V from '../V/index.mjs';\nimport { Link as diaLink } from '../dia/Link.mjs';\n\nexport const Place = Generic.define('pn.Place', {\n    size: { width: 50, height: 50 },\n    attrs: {\n        '.root': {\n            r: 25,\n            fill: '#ffffff',\n            stroke: '#000000',\n            transform: 'translate(25, 25)'\n        },\n        '.label': {\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': -20,\n            ref: '.root',\n            fill: '#000000',\n            'font-size': 12\n        },\n        '.tokens > circle': {\n            fill: '#000000',\n            r: 5\n        },\n        '.tokens.one > circle': { transform: 'translate(25, 25)' },\n\n        '.tokens.two > circle:nth-child(1)': { transform: 'translate(19, 25)' },\n        '.tokens.two > circle:nth-child(2)': { transform: 'translate(31, 25)' },\n\n        '.tokens.three > circle:nth-child(1)': { transform: 'translate(18, 29)' },\n        '.tokens.three > circle:nth-child(2)': { transform: 'translate(25, 19)' },\n        '.tokens.three > circle:nth-child(3)': { transform: 'translate(32, 29)' },\n\n        '.tokens.alot > text': {\n            transform: 'translate(25, 18)',\n            'text-anchor': 'middle',\n            fill: '#000000'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle class=\"root\"/><g class=\"tokens\" /></g><text class=\"label\"/></g>',\n});\n\nexport const PlaceView = ElementView.extend({\n\n    presentationAttributes: ElementView.addPresentationAttributes({\n        tokens: ['TOKENS']\n    }),\n\n    initFlag: ElementView.prototype.initFlag.concat(['TOKENS']),\n\n    confirmUpdate: function(...args) {\n        let flags = ElementView.prototype.confirmUpdate.call(this, ...args);\n        if (this.hasFlag(flags, 'TOKENS')) {\n            this.renderTokens();\n            this.update();\n            flags = this.removeFlag(flags, 'TOKENS');\n        }\n        return flags;\n    },\n\n    renderTokens: function() {\n\n        const vTokens = this.vel.findOne('.tokens').empty();\n        ['one', 'two', 'three', 'alot'].forEach(function(className) {\n            vTokens.removeClass(className);\n        });\n\n        var tokens = this.model.get('tokens');\n        if (!tokens) return;\n\n        switch (tokens) {\n\n            case 1:\n                vTokens.addClass('one');\n                vTokens.append(V('circle'));\n                break;\n\n            case 2:\n                vTokens.addClass('two');\n                vTokens.append([V('circle'), V('circle')]);\n                break;\n\n            case 3:\n                vTokens.addClass('three');\n                vTokens.append([V('circle'), V('circle'), V('circle')]);\n                break;\n\n            default:\n                vTokens.addClass('alot');\n                vTokens.append(V('text').text(tokens + ''));\n                break;\n        }\n    }\n});\n\nexport const Transition = Generic.define('pn.Transition', {\n    size: { width: 12, height: 50 },\n    attrs: {\n        'rect': {\n            width: 12,\n            height: 50,\n            fill: '#000000',\n            stroke: '#000000'\n        },\n        '.label': {\n            'text-anchor': 'middle',\n            'ref-x': .5,\n            'ref-y': -20,\n            ref: 'rect',\n            fill: '#000000',\n            'font-size': 12\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><rect class=\"root\"/></g></g><text class=\"label\"/>',\n});\n\nexport const Link = diaLink.define('pn.Link', {\n    attrs: { '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z' }}\n});\n", "import { ElementView } from '../dia/ElementView.mjs';\nimport { Link } from '../dia/Link.mjs';\nimport { Generic, Circle } from './basic.mjs';\n\nexport const Class = Generic.define('uml.Class', {\n    attrs: {\n        rect: { 'width': 200 },\n\n        '.uml-class-name-rect': { 'stroke': 'black', 'stroke-width': 2, 'fill': '#3498db' },\n        '.uml-class-attrs-rect': { 'stroke': 'black', 'stroke-width': 2, 'fill': '#2980b9' },\n        '.uml-class-methods-rect': { 'stroke': 'black', 'stroke-width': 2, 'fill': '#2980b9' },\n\n        '.uml-class-name-text': {\n            'ref': '.uml-class-name-rect',\n            'ref-y': .5,\n            'ref-x': .5,\n            'text-anchor': 'middle',\n            'y-alignment': 'middle',\n            'font-weight': 'bold',\n            'fill': 'black',\n            'font-size': 12,\n            'font-family': 'Times New Roman'\n        },\n        '.uml-class-attrs-text': {\n            'ref': '.uml-class-attrs-rect', 'ref-y': 5, 'ref-x': 5,\n            'fill': 'black', 'font-size': 12, 'font-family': 'Times New Roman'\n        },\n        '.uml-class-methods-text': {\n            'ref': '.uml-class-methods-rect', 'ref-y': 5, 'ref-x': 5,\n            'fill': 'black', 'font-size': 12, 'font-family': 'Times New Roman'\n        }\n    },\n\n    name: [],\n    attributes: [],\n    methods: []\n}, {\n    markup: [\n        '<g class=\"rotatable\">',\n        '<g class=\"scalable\">',\n        '<rect class=\"uml-class-name-rect\"/><rect class=\"uml-class-attrs-rect\"/><rect class=\"uml-class-methods-rect\"/>',\n        '</g>',\n        '<text class=\"uml-class-name-text\"/><text class=\"uml-class-attrs-text\"/><text class=\"uml-class-methods-text\"/>',\n        '</g>'\n    ].join(''),\n\n    initialize: function() {\n\n        this.on('change:name change:attributes change:methods', function() {\n            this.updateRectangles();\n            this.trigger('uml-update');\n        }, this);\n\n        this.updateRectangles();\n\n        Generic.prototype.initialize.apply(this, arguments);\n    },\n\n    getClassName: function() {\n        return this.get('name');\n    },\n\n    updateRectangles: function() {\n\n        var attrs = this.get('attrs');\n\n        var rects = [\n            { type: 'name', text: this.getClassName() },\n            { type: 'attrs', text: this.get('attributes') },\n            { type: 'methods', text: this.get('methods') }\n        ];\n\n        var offsetY = 0;\n\n        rects.forEach(function(rect) {\n\n            var lines = Array.isArray(rect.text) ? rect.text : [rect.text];\n            var rectHeight = lines.length * 20 + 20;\n\n            attrs['.uml-class-' + rect.type + '-text'].text = lines.join('\\n');\n            attrs['.uml-class-' + rect.type + '-rect'].height = rectHeight;\n            attrs['.uml-class-' + rect.type + '-rect'].transform = 'translate(0,' + offsetY + ')';\n\n            offsetY += rectHeight;\n        });\n    }\n\n});\n\nexport const ClassView = ElementView.extend({\n\n    initialize: function() {\n\n        ElementView.prototype.initialize.apply(this, arguments);\n\n        this.listenTo(this.model, 'uml-update', function() {\n            this.update();\n            this.resize();\n        });\n    }\n});\n\nexport const Abstract = Class.define('uml.Abstract', {\n    attrs: {\n        '.uml-class-name-rect': { fill: '#e74c3c' },\n        '.uml-class-attrs-rect': { fill: '#c0392b' },\n        '.uml-class-methods-rect': { fill: '#c0392b' }\n    }\n}, {\n\n    getClassName: function() {\n        return ['<<Abstract>>', this.get('name')];\n    }\n\n});\nexport const AbstractView = ClassView;\n\nexport const Interface = Class.define('uml.Interface', {\n    attrs: {\n        '.uml-class-name-rect': { fill: '#f1c40f' },\n        '.uml-class-attrs-rect': { fill: '#f39c12' },\n        '.uml-class-methods-rect': { fill: '#f39c12' }\n    }\n}, {\n    getClassName: function() {\n        return ['<<Interface>>', this.get('name')];\n    }\n});\nexport const InterfaceView = ClassView;\n\nexport const Generalization = Link.define('uml.Generalization', {\n    attrs: { '.marker-target': { d: 'M 20 0 L 0 10 L 20 20 z', fill: 'white' }}\n});\n\nexport const Implementation = Link.define('uml.Implementation', {\n    attrs: {\n        '.marker-target': { d: 'M 20 0 L 0 10 L 20 20 z', fill: 'white' },\n        '.connection': { 'stroke-dasharray': '3,3' }\n    }\n});\n\nexport const Aggregation = Link.define('uml.Aggregation', {\n    attrs: { '.marker-target': { d: 'M 40 10 L 20 20 L 0 10 L 20 0 z', fill: 'white' }}\n});\n\nexport const Composition = Link.define('uml.Composition', {\n    attrs: { '.marker-target': { d: 'M 40 10 L 20 20 L 0 10 L 20 0 z', fill: 'black' }}\n});\n\nexport const Association = Link.define('uml.Association');\n\n// Statechart\n\nexport const State = Generic.define('uml.State', {\n    attrs: {\n        '.uml-state-body': {\n            'width': 200, 'height': 200, 'rx': 10, 'ry': 10,\n            'fill': '#ecf0f1', 'stroke': '#bdc3c7', 'stroke-width': 3\n        },\n        '.uml-state-separator': {\n            'stroke': '#bdc3c7', 'stroke-width': 2\n        },\n        '.uml-state-name': {\n            'ref': '.uml-state-body', 'ref-x': .5, 'ref-y': 5, 'text-anchor': 'middle',\n            'fill': '#000000', 'font-family': 'Courier New', 'font-size': 14\n        },\n        '.uml-state-events': {\n            'ref': '.uml-state-separator', 'ref-x': 5, 'ref-y': 5,\n            'fill': '#000000', 'font-family': 'Courier New', 'font-size': 14\n        }\n    },\n\n    name: 'State',\n    events: []\n\n}, {\n    markup: [\n        '<g class=\"rotatable\">',\n        '<g class=\"scalable\">',\n        '<rect class=\"uml-state-body\"/>',\n        '</g>',\n        '<path class=\"uml-state-separator\"/>',\n        '<text class=\"uml-state-name\"/>',\n        '<text class=\"uml-state-events\"/>',\n        '</g>'\n    ].join(''),\n\n    initialize: function() {\n\n        this.on({\n            'change:name': this.updateName,\n            'change:events': this.updateEvents,\n            'change:size': this.updatePath\n        }, this);\n\n        this.updateName();\n        this.updateEvents();\n        this.updatePath();\n\n        Generic.prototype.initialize.apply(this, arguments);\n    },\n\n    updateName: function() {\n\n        this.attr('.uml-state-name/text', this.get('name'));\n    },\n\n    updateEvents: function() {\n\n        this.attr('.uml-state-events/text', this.get('events').join('\\n'));\n    },\n\n    updatePath: function() {\n\n        var d = 'M 0 20 L ' + this.get('size').width + ' 20';\n\n        // We are using `silent: true` here because updatePath() is meant to be called\n        // on resize and there's no need to to update the element twice (`change:size`\n        // triggers also an update).\n        this.attr('.uml-state-separator/d', d, { silent: true });\n    }\n});\n\nexport const StartState = Circle.define('uml.StartState', {\n    type: 'uml.StartState',\n    attrs: { circle: { 'fill': '#34495e', 'stroke': '#2c3e50', 'stroke-width': 2, 'rx': 1 }}\n});\n\nexport const EndState = Generic.define('uml.EndState', {\n    size: { width: 20, height: 20 },\n    attrs: {\n        'circle.outer': {\n            transform: 'translate(10, 10)',\n            r: 10,\n            fill: '#ffffff',\n            stroke: '#2c3e50'\n        },\n\n        'circle.inner': {\n            transform: 'translate(10, 10)',\n            r: 6,\n            fill: '#34495e'\n        }\n    }\n}, {\n    markup: '<g class=\"rotatable\"><g class=\"scalable\"><circle class=\"outer\"/><circle class=\"inner\"/></g></g>',\n});\n\nexport const Transition = Link.define('uml.Transition', {\n    attrs: {\n        '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z', fill: '#34495e', stroke: '#2c3e50' },\n        '.connection': { stroke: '#2c3e50' }\n    }\n});\n", "import * as util from '../util/index.mjs';\n\nfunction abs2rel(absolute, max) {\n\n    if (max === 0) return '0%';\n    // round to 3 decimal places\n    const dp = 1000;\n    const relative = Math.round(absolute / max * 100 * dp) / dp;\n    return `${relative}%`;\n}\n\nfunction pin(relative) {\n\n    return function(end, view, magnet, coords) {\n        var fn = (view.isNodeConnection(magnet)) ? pinnedLinkEnd : pinnedElementEnd;\n        return fn(relative, end, view, magnet, coords);\n    };\n}\n\nfunction pinnedElementEnd(relative, end, view, magnet, coords) {\n\n    var angle = view.model.angle();\n    var bbox = view.getNodeUnrotatedBBox(magnet);\n    var origin = view.model.getBBox().center();\n    coords.rotate(origin, angle);\n    var dx = coords.x - bbox.x;\n    var dy = coords.y - bbox.y;\n\n    if (relative) {\n        dx = abs2rel(dx, bbox.width);\n        dy = abs2rel(dy, bbox.height);\n    }\n\n    end.anchor = {\n        name: 'topLeft',\n        args: {\n            dx: dx,\n            dy: dy,\n            rotate: true\n        }\n    };\n\n    return end;\n}\n\nfunction pinnedLinkEnd(relative, end, view, _magnet, coords) {\n\n    var connection = view.getConnection();\n    if (!connection) return end;\n    var length = connection.closestPointLength(coords);\n    if (relative) {\n        var totalLength = connection.length();\n        end.anchor = {\n            name: 'connectionRatio',\n            args: {\n                ratio: length / totalLength\n            }\n        };\n    } else {\n        end.anchor = {\n            name: 'connectionLength',\n            args: {\n                length: length\n            }\n        };\n    }\n    return end;\n}\n\nexport const useDefaults = util.noop;\nexport const pinAbsolute = pin(false);\nexport const pinRelative = pin(true);\n\n", "export * from './Vertices.mjs';\nexport * from './Segments.mjs';\nexport * from './Arrowhead.mjs';\nexport * from './Boundary.mjs';\nexport * from './Anchor.mjs';\nexport * from './Button.mjs';\nexport * from './Connect.mjs';\nexport * from './HoverConnect.mjs';\n", "import * as g from '../g/index.mjs';\nimport * as util from '../util/index.mjs';\nimport * as mvc from '../mvc/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport V from '../V/index.mjs';\n\n\n// Vertex Handles\nvar VertexHandle = mvc.View.extend({\n    tagName: 'circle',\n    svgElement: true,\n    className: 'marker-vertex',\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown',\n        dblclick: 'onDoubleClick',\n        dbltap: 'onDoubleClick'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    attributes: {\n        'r': 6,\n        'fill': '#33334F',\n        'stroke': '#FFFFFF',\n        'stroke-width': 2,\n        'cursor': 'move'\n    },\n    position: function(x, y) {\n        const { vel, options } = this;\n        const { scale } = options;\n        let matrix = V.createSVGMatrix().translate(x, y);\n        if (scale) matrix = matrix.scale(scale);\n        vel.transform(matrix, { absolute: true });\n    },\n    onPointerDown: function(evt) {\n        if (this.options.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.options.paper.undelegateEvents();\n        this.delegateDocumentEvents(null, evt.data);\n        this.trigger('will-change', this, evt);\n    },\n    onPointerMove: function(evt) {\n        this.trigger('changing', this, evt);\n    },\n    onDoubleClick: function(evt) {\n        this.trigger('remove', this, evt);\n    },\n    onPointerUp: function(evt) {\n        this.trigger('changed', this, evt);\n        this.undelegateDocumentEvents();\n        this.options.paper.delegateEvents();\n    }\n});\n\nexport const Vertices = ToolView.extend({\n    name: 'vertices',\n    options: {\n        handleClass: VertexHandle,\n        snapRadius: 20,\n        redundancyRemoval: true,\n        vertexAdding: true,\n        stopPropagation: true,\n        scale: null\n    },\n    children: [{\n        tagName: 'path',\n        selector: 'connection',\n        className: 'joint-vertices-path',\n        attributes: {\n            'fill': 'none',\n            'stroke': 'transparent',\n            'stroke-width': 10,\n            'cursor': 'cell'\n        }\n    }],\n    handles: null,\n    events: {\n        'mousedown .joint-vertices-path': 'onPathPointerDown',\n        'touchstart .joint-vertices-path': 'onPathPointerDown'\n    },\n    onRender: function() {\n        if (this.options.vertexAdding) {\n            this.renderChildren();\n            this.updatePath();\n        }\n        this.resetHandles();\n        this.renderHandles();\n        return this;\n    },\n    update: function() {\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        if (vertices.length === this.handles.length) {\n            this.updateHandles();\n        } else {\n            this.resetHandles();\n            this.renderHandles();\n        }\n        if (this.options.vertexAdding) {\n            this.updatePath();\n        }\n        return this;\n    },\n    resetHandles: function() {\n        var handles = this.handles;\n        this.handles = [];\n        this.stopListening();\n        if (!Array.isArray(handles)) return;\n        for (var i = 0, n = handles.length; i < n; i++) {\n            handles[i].remove();\n        }\n    },\n    renderHandles: function() {\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        for (var i = 0, n = vertices.length; i < n; i++) {\n            var vertex = vertices[i];\n            var handle = new (this.options.handleClass)({\n                index: i,\n                paper: this.paper,\n                scale: this.options.scale,\n                guard: evt => this.guard(evt)\n            });\n            handle.render();\n            handle.position(vertex.x, vertex.y);\n            this.simulateRelatedView(handle.el);\n            handle.vel.appendTo(this.el);\n            this.handles.push(handle);\n            this.startHandleListening(handle);\n        }\n    },\n    updateHandles: function() {\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        for (var i = 0, n = vertices.length; i < n; i++) {\n            var vertex = vertices[i];\n            var handle = this.handles[i];\n            if (!handle) return;\n            handle.position(vertex.x, vertex.y);\n        }\n    },\n    updatePath: function() {\n        var connection = this.childNodes.connection;\n        if (connection) connection.setAttribute('d', this.relatedView.getSerializedConnection());\n    },\n    startHandleListening: function(handle) {\n        var relatedView = this.relatedView;\n        if (relatedView.can('vertexMove')) {\n            this.listenTo(handle, 'will-change', this.onHandleWillChange);\n            this.listenTo(handle, 'changing', this.onHandleChanging);\n            this.listenTo(handle, 'changed', this.onHandleChanged);\n        }\n        if (relatedView.can('vertexRemove')) {\n            this.listenTo(handle, 'remove', this.onHandleRemove);\n        }\n    },\n    getNeighborPoints: function(index) {\n        var linkView = this.relatedView;\n        var vertices = linkView.model.vertices();\n        var prev = (index > 0) ? vertices[index - 1] : linkView.sourceAnchor;\n        var next = (index < vertices.length - 1) ? vertices[index + 1] : linkView.targetAnchor;\n        return {\n            prev: new g.Point(prev),\n            next: new g.Point(next)\n        };\n    },\n    onHandleWillChange: function(_handle, evt) {\n        this.focus();\n        const { relatedView, options } = this;\n        relatedView.model.startBatch('vertex-move', { ui: true, tool: this.cid });\n        if (!options.stopPropagation) relatedView.notifyPointerdown(...relatedView.paper.getPointerArgs(evt));\n    },\n    onHandleChanging: function(handle, evt) {\n        const { options, relatedView: linkView } = this;\n        var index = handle.options.index;\n        var [normalizedEvent, x, y] = linkView.paper.getPointerArgs(evt);\n        var vertex = { x, y };\n        this.snapVertex(vertex, index);\n        linkView.model.vertex(index, vertex, { ui: true, tool: this.cid });\n        handle.position(vertex.x, vertex.y);\n        if (!options.stopPropagation) linkView.notifyPointermove(normalizedEvent, x, y);\n    },\n    onHandleChanged: function(_handle, evt) {\n        const { options, relatedView: linkView } = this;\n        if (options.vertexAdding) this.updatePath();\n        if (!options.redundancyRemoval) return;\n        var verticesRemoved = linkView.removeRedundantLinearVertices({ ui: true, tool: this.cid });\n        if (verticesRemoved) this.render();\n        this.blur();\n        linkView.model.stopBatch('vertex-move', { ui: true, tool: this.cid });\n        if (this.eventData(evt).vertexAdded) {\n            linkView.model.stopBatch('vertex-add', { ui: true, tool: this.cid });\n        }\n        var [normalizedEvt, x, y] = linkView.paper.getPointerArgs(evt);\n        if (!options.stopPropagation) linkView.notifyPointerup(normalizedEvt, x, y);\n        linkView.checkMouseleave(normalizedEvt);\n    },\n    snapVertex: function(vertex, index) {\n        var snapRadius = this.options.snapRadius;\n        if (snapRadius > 0) {\n            var neighbors = this.getNeighborPoints(index);\n            var prev = neighbors.prev;\n            var next = neighbors.next;\n            if (Math.abs(vertex.x - prev.x) < snapRadius) {\n                vertex.x = prev.x;\n            } else if (Math.abs(vertex.x - next.x) < snapRadius) {\n                vertex.x = next.x;\n            }\n            if (Math.abs(vertex.y - prev.y) < snapRadius) {\n                vertex.y = neighbors.prev.y;\n            } else if (Math.abs(vertex.y - next.y) < snapRadius) {\n                vertex.y = next.y;\n            }\n        }\n    },\n    onHandleRemove: function(handle, evt) {\n        var index = handle.options.index;\n        var linkView = this.relatedView;\n        linkView.model.removeVertex(index, { ui: true });\n        if (this.options.vertexAdding) this.updatePath();\n        linkView.checkMouseleave(util.normalizeEvent(evt));\n    },\n    onPathPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        var normalizedEvent = util.normalizeEvent(evt);\n        var vertex = this.paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY).toJSON();\n        var relatedView = this.relatedView;\n        relatedView.model.startBatch('vertex-add', { ui: true, tool: this.cid });\n        var index = relatedView.getVertexIndex(vertex.x, vertex.y);\n        this.snapVertex(vertex, index);\n        relatedView.model.insertVertex(index, vertex, { ui: true, tool: this.cid });\n        this.update();\n        var handle = this.handles[index];\n        this.eventData(normalizedEvent, { vertexAdded: true });\n        handle.onPointerDown(normalizedEvent);\n    },\n    onRemove: function() {\n        this.resetHandles();\n    }\n}, {\n    VertexHandle: VertexHandle // keep as class property\n});\n", "import * as connectionStrategies from '../connectionStrategies/index.mjs';\n\nexport function getViewBBox(view, useModelGeometry) {\n    const { model } = view;\n    if (useModelGeometry) return model.getBBox();\n    return (model.isLink()) ? view.getConnection().bbox() : view.getNodeUnrotatedBBox(view.el);\n}\n\nexport function getAnchor(coords, view, magnet) {\n    // take advantage of an existing logic inside of the\n    // pin relative connection strategy\n    var end = connectionStrategies.pinRelative.call(\n        this.paper,\n        {},\n        view,\n        magnet,\n        coords,\n        this.model\n    );\n    return end.anchor;\n}\n\nexport function snapAnchor(coords, view, magnet, type, relatedView, toolView) {\n    var snapRadius = toolView.options.snapRadius;\n    var isSource = (type === 'source');\n    var refIndex = (isSource ? 0 : -1);\n    var ref = this.model.vertex(refIndex) || this.getEndAnchor(isSource ? 'target' : 'source');\n    if (ref) {\n        if (Math.abs(ref.x - coords.x) < snapRadius) coords.x = ref.x;\n        if (Math.abs(ref.y - coords.y) < snapRadius) coords.y = ref.y;\n    }\n    return coords;\n}\n", "import * as g from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport * as util from '../util/index.mjs';\nimport * as mvc from '../mvc/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport { getAnchor } from './helpers.mjs';\n\nvar SegmentHandle = mvc.View.extend({\n    tagName: 'g',\n    svgElement: true,\n    className: 'marker-segment',\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    children: [{\n        tagName: 'line',\n        selector: 'line',\n        attributes: {\n            'stroke': '#33334F',\n            'stroke-width': 2,\n            'fill': 'none',\n            'pointer-events': 'none'\n        }\n    }, {\n        tagName: 'rect',\n        selector: 'handle',\n        attributes: {\n            'width': 20,\n            'height': 8,\n            'x': -10,\n            'y': -4,\n            'rx': 4,\n            'ry': 4,\n            'fill': '#33334F',\n            'stroke': '#FFFFFF',\n            'stroke-width': 2\n        }\n    }],\n    onRender: function() {\n        this.renderChildren();\n    },\n    position: function(x, y, angle, view) {\n        const { scale } = this.options;\n        let matrix = V.createSVGMatrix().translate(x, y).rotate(angle);\n        if (scale) matrix = matrix.scale(scale);\n\n        var handle = this.childNodes.handle;\n        handle.setAttribute('transform', V.matrixToTransformString(matrix));\n        handle.setAttribute('cursor', (angle % 180 === 0) ? 'row-resize' : 'col-resize');\n\n        var viewPoint = view.getClosestPoint(new g.Point(x, y));\n        var line = this.childNodes.line;\n        line.setAttribute('x1', x);\n        line.setAttribute('y1', y);\n        line.setAttribute('x2', viewPoint.x);\n        line.setAttribute('y2', viewPoint.y);\n    },\n    onPointerDown: function(evt) {\n        if (this.options.guard(evt)) return;\n        this.trigger('change:start', this, evt);\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.options.paper.undelegateEvents();\n        this.delegateDocumentEvents(null, evt.data);\n    },\n    onPointerMove: function(evt) {\n        this.trigger('changing', this, evt);\n    },\n    onPointerUp: function(evt) {\n        this.undelegateDocumentEvents();\n        this.options.paper.delegateEvents();\n        this.trigger('change:end', this, evt);\n    },\n    show: function() {\n        this.el.style.display = '';\n    },\n    hide: function() {\n        this.el.style.display = 'none';\n    }\n});\n\nexport const Segments = ToolView.extend({\n    name: 'segments',\n    precision: .5,\n    options: {\n        handleClass: SegmentHandle,\n        segmentLengthThreshold: 40,\n        redundancyRemoval: true,\n        anchor: getAnchor,\n        snapRadius: 10,\n        snapHandle: true,\n        stopPropagation: true\n    },\n    handles: null,\n    onRender: function() {\n        this.resetHandles();\n        var relatedView = this.relatedView;\n        var vertices = relatedView.model.vertices();\n        vertices.unshift(relatedView.sourcePoint);\n        vertices.push(relatedView.targetPoint);\n        for (var i = 0, n = vertices.length; i < n - 1; i++) {\n            var vertex = vertices[i];\n            var nextVertex = vertices[i + 1];\n            var handle = this.renderHandle(vertex, nextVertex);\n            this.simulateRelatedView(handle.el);\n            this.handles.push(handle);\n            handle.options.index = i;\n        }\n        return this;\n    },\n    renderHandle: function(vertex, nextVertex) {\n        var handle = new (this.options.handleClass)({\n            paper: this.paper,\n            scale: this.options.scale,\n            guard: evt => this.guard(evt)\n        });\n        handle.render();\n        this.updateHandle(handle, vertex, nextVertex);\n        handle.vel.appendTo(this.el);\n        this.startHandleListening(handle);\n        return handle;\n    },\n    update: function() {\n        this.render();\n        return this;\n    },\n    startHandleListening: function(handle) {\n        this.listenTo(handle, 'change:start', this.onHandleChangeStart);\n        this.listenTo(handle, 'changing', this.onHandleChanging);\n        this.listenTo(handle, 'change:end', this.onHandleChangeEnd);\n    },\n    resetHandles: function() {\n        var handles = this.handles;\n        this.handles = [];\n        this.stopListening();\n        if (!Array.isArray(handles)) return;\n        for (var i = 0, n = handles.length; i < n; i++) {\n            handles[i].remove();\n        }\n    },\n    shiftHandleIndexes: function(value) {\n        var handles = this.handles;\n        for (var i = 0, n = handles.length; i < n; i++) handles[i].options.index += value;\n    },\n    resetAnchor: function(type, anchor) {\n        var relatedModel = this.relatedView.model;\n        if (anchor) {\n            relatedModel.prop([type, 'anchor'], anchor, {\n                rewrite: true,\n                ui: true,\n                tool: this.cid\n            });\n        } else {\n            relatedModel.removeProp([type, 'anchor'], {\n                ui: true,\n                tool: this.cid\n            });\n        }\n    },\n    snapHandle: function(handle, position, data) {\n\n        var index = handle.options.index;\n        var linkView = this.relatedView;\n        var link = linkView.model;\n        var vertices = link.vertices();\n        var axis = handle.options.axis;\n        var prev = vertices[index - 2] || data.sourceAnchor;\n        var next = vertices[index + 1] || data.targetAnchor;\n        var snapRadius = this.options.snapRadius;\n        if (Math.abs(position[axis] - prev[axis]) < snapRadius) {\n            position[axis] = prev[axis];\n        } else if (Math.abs(position[axis] - next[axis]) < snapRadius) {\n            position[axis] = next[axis];\n        }\n        return position;\n    },\n\n    onHandleChanging: function(handle, evt) {\n\n        const { options } = this;\n        var data = this.eventData(evt);\n        var relatedView = this.relatedView;\n        var paper = relatedView.paper;\n        var index = handle.options.index - 1;\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        var position = this.snapHandle(handle, coords.clone(), data);\n        var axis = handle.options.axis;\n        var offset = (this.options.snapHandle) ? 0 : (coords[axis] - position[axis]);\n        var link = relatedView.model;\n        var vertices = util.cloneDeep(link.vertices());\n        var anchorFn = this.options.anchor;\n        if (typeof anchorFn !== 'function') anchorFn = null;\n\n        const handleIndex = handle.options.index;\n\n        const vertexPoints = [relatedView.sourcePoint.clone(), ...vertices, relatedView.targetPoint.clone()];\n        let indexOffset = 0;\n\n        // check if vertex before handle vertex exists\n        if (handleIndex - 1 >= 0) {\n            const v1 = vertexPoints[handleIndex - 1];\n            const v2 = vertexPoints[handleIndex];\n\n            const theta = new g.Line(v1, v2).vector().theta();\n\n            // check only non-orthogonal segments\n            if (theta % 90 !== 0) {\n                vertices.splice(handleIndex - 1, 0, data.originalVertices[handleIndex - 1]);\n                indexOffset++;\n                this.shiftHandleIndexes(1);\n            }\n        }\n\n        var vertex = vertices[index + indexOffset];\n        var nextVertex = vertices[index + 1 + indexOffset];\n\n        // check if vertex after handle vertex exists\n        if (handleIndex + 2 < vertexPoints.length) {\n            const v1 = vertexPoints[handleIndex + 1];\n            const v2 = vertexPoints[handleIndex + 2];\n\n            const theta = new g.Line(v1, v2).vector().theta();\n\n            // check only non-orthogonal segments\n            if (theta % 90 !== 0) {\n                const isSingleVertex = data.originalVertices.length === 1;\n                const origVIndex = isSingleVertex ? 0 : handleIndex;\n                const additionalOffset = data.firstHandleShifted && !isSingleVertex ? 1 : 0;\n                let nextVIndex = 1 + indexOffset;\n                vertices.splice(handleIndex + nextVIndex, 0, data.originalVertices[origVIndex - additionalOffset]);\n            }\n        }\n\n        // First Segment\n        var sourceView = relatedView.sourceView;\n        var sourceBBox = relatedView.sourceBBox;\n        var changeSourceAnchor = false;\n        var deleteSourceAnchor = false;\n        if (!vertex) {\n            vertex = relatedView.sourceAnchor.toJSON();\n            vertex[axis] = position[axis];\n            if (sourceBBox.containsPoint(vertex)) {\n                vertex[axis] = position[axis];\n                changeSourceAnchor = true;\n            } else {\n                // we left the area of the source magnet for the first time\n                vertices.unshift(vertex);\n                this.shiftHandleIndexes(1);\n                data.firstHandleShifted = true;\n                deleteSourceAnchor = true;\n            }\n        } else if (index === 0) {\n            if (sourceBBox.containsPoint(vertex)) {\n                vertices.shift();\n                this.shiftHandleIndexes(-1);\n                changeSourceAnchor = true;\n            } else {\n                vertex[axis] = position[axis];\n                deleteSourceAnchor = true;\n            }\n        } else {\n            vertex[axis] = position[axis];\n        }\n\n        if (anchorFn && sourceView) {\n            if (changeSourceAnchor) {\n                var sourceAnchorPosition = data.sourceAnchor.clone();\n                sourceAnchorPosition[axis] = position[axis];\n                var sourceAnchor = anchorFn.call(relatedView, sourceAnchorPosition, sourceView, relatedView.sourceMagnet || sourceView.el, 'source', relatedView);\n                this.resetAnchor('source', sourceAnchor);\n            }\n            if (deleteSourceAnchor) {\n                this.resetAnchor('source', data.sourceAnchorDef);\n            }\n        }\n\n        // Last segment\n        var targetView = relatedView.targetView;\n        var targetBBox = relatedView.targetBBox;\n        var changeTargetAnchor = false;\n        var deleteTargetAnchor = false;\n        if (!nextVertex) {\n            nextVertex = relatedView.targetAnchor.toJSON();\n            nextVertex[axis] = position[axis];\n            if (targetBBox.containsPoint(nextVertex)) {\n                changeTargetAnchor = true;\n            } else {\n                // we left the area of the target magnet for the first time\n                vertices.push(nextVertex);\n                deleteTargetAnchor = true;\n            }\n        } else if (index === vertices.length - 2) {\n            if (targetBBox.containsPoint(nextVertex)) {\n                vertices.pop();\n                changeTargetAnchor = true;\n            } else {\n                nextVertex[axis] = position[axis];\n                deleteTargetAnchor = true;\n            }\n        } else {\n            nextVertex[axis] = position[axis];\n        }\n\n        if (anchorFn && targetView) {\n            if (changeTargetAnchor) {\n                var targetAnchorPosition = data.targetAnchor.clone();\n                targetAnchorPosition[axis] = position[axis];\n                var targetAnchor = anchorFn.call(relatedView, targetAnchorPosition, targetView, relatedView.targetMagnet || targetView.el, 'target', relatedView);\n                this.resetAnchor('target', targetAnchor);\n            }\n            if (deleteTargetAnchor) {\n                this.resetAnchor('target', data.targetAnchorDef);\n            }\n        }\n        if (vertices.some(v => !v)) {\n            // This can happen when the link is using a smart routing and the number of\n            // vertices is not the same as the number of route points.\n            throw new Error('Segments: incompatible router in use');\n        }\n        link.vertices(vertices, { ui: true, tool: this.cid });\n        this.updateHandle(handle, vertex, nextVertex, offset);\n        if (!options.stopPropagation) relatedView.notifyPointermove(normalizedEvent, coords.x, coords.y);\n    },\n    onHandleChangeStart: function(handle, evt) {\n        const { options, handles, relatedView: linkView } = this;\n        const { model, paper } = linkView;\n        var index = handle.options.index;\n        if (!Array.isArray(handles)) return;\n        for (var i = 0, n = handles.length; i < n; i++) {\n            if (i !== index) handles[i].hide();\n        }\n        this.focus();\n        this.eventData(evt, {\n            sourceAnchor: linkView.sourceAnchor.clone(),\n            targetAnchor: linkView.targetAnchor.clone(),\n            sourceAnchorDef: util.clone(model.prop(['source', 'anchor'])),\n            targetAnchorDef: util.clone(model.prop(['target', 'anchor'])),\n            originalVertices: util.cloneDeep(model.vertices()),\n            firstHandleShifted: false\n        });\n        model.startBatch('segment-move', { ui: true, tool: this.cid });\n        if (!options.stopPropagation) linkView.notifyPointerdown(...paper.getPointerArgs(evt));\n    },\n    onHandleChangeEnd: function(_handle, evt) {\n        const { options, relatedView: linkView }= this;\n        const { paper, model } = linkView;\n        if (options.redundancyRemoval) {\n            linkView.removeRedundantLinearVertices({ ui: true, tool: this.cid });\n        }\n        const normalizedEvent = util.normalizeEvent(evt);\n        const coords = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        this.render();\n        this.blur();\n        model.stopBatch('segment-move', { ui: true, tool: this.cid });\n        if (!options.stopPropagation) linkView.notifyPointerup(normalizedEvent, coords.x, coords.y);\n        linkView.checkMouseleave(normalizedEvent);\n    },\n    updateHandle: function(handle, vertex, nextVertex, offset) {\n        var vertical = Math.abs(vertex.x - nextVertex.x) < this.precision;\n        var horizontal = Math.abs(vertex.y - nextVertex.y) < this.precision;\n        if (vertical || horizontal) {\n            var segmentLine = new g.Line(vertex, nextVertex);\n            var length = segmentLine.length();\n            if (length < this.options.segmentLengthThreshold) {\n                handle.hide();\n            } else {\n                var position = segmentLine.midpoint();\n                var axis = (vertical) ? 'x' : 'y';\n                position[axis] += offset || 0;\n                var angle = segmentLine.vector().vectorAngle(new g.Point(1, 0));\n                handle.position(position.x, position.y, angle, this.relatedView);\n                handle.show();\n                handle.options.axis = axis;\n            }\n        } else {\n            handle.hide();\n        }\n    },\n    onRemove: function() {\n        this.resetHandles();\n    }\n}, {\n    SegmentHandle: SegmentHandle // keep as class property\n});\n", "import * as g from '../g/index.mjs';\nimport V from '../V/index.mjs';\nimport * as util from '../util/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\n\n// End Markers\nconst Arrowhead = ToolView.extend({\n    tagName: 'path',\n    xAxisVector: new g.Point(1, 0),\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    options: {\n        scale: null\n    },\n    onRender: function() {\n        this.update();\n    },\n    update: function() {\n        var ratio = this.ratio;\n        var view = this.relatedView;\n        var tangent = view.getTangentAtRatio(ratio);\n        var position, angle;\n        if (tangent) {\n            position = tangent.start;\n            angle = tangent.vector().vectorAngle(this.xAxisVector) || 0;\n        } else {\n            position = view.getPointAtRatio(ratio);\n            angle = 0;\n        }\n        if (!position) return this;\n        var matrix = V.createSVGMatrix().translate(position.x, position.y).rotate(angle);\n        const { scale } = this.options;\n        if (scale) matrix = matrix.scale(scale);\n        this.vel.transform(matrix, { absolute: true });\n        return this;\n    },\n    onPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        var relatedView = this.relatedView;\n        relatedView.model.startBatch('arrowhead-move', { ui: true, tool: this.cid });\n        if (relatedView.can('arrowheadMove')) {\n            relatedView.startArrowheadMove(this.arrowheadType);\n            this.delegateDocumentEvents();\n            relatedView.paper.undelegateEvents();\n        }\n        this.focus();\n        this.el.style.pointerEvents = 'none';\n    },\n    onPointerMove: function(evt) {\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = this.paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        this.relatedView.pointermove(normalizedEvent, coords.x, coords.y);\n    },\n    onPointerUp: function(evt) {\n        this.undelegateDocumentEvents();\n        var relatedView = this.relatedView;\n        var paper = relatedView.paper;\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        relatedView.pointerup(normalizedEvent, coords.x, coords.y);\n        paper.delegateEvents();\n        this.blur();\n        this.el.style.pointerEvents = '';\n        relatedView.model.stopBatch('arrowhead-move', { ui: true, tool: this.cid });\n    }\n});\n\nexport const TargetArrowhead = Arrowhead.extend({\n    name: 'target-arrowhead',\n    ratio: 1,\n    arrowheadType: 'target',\n    attributes: {\n        'd': 'M -10 -8 10 0 -10 8 Z',\n        'fill': '#33334F',\n        'stroke': '#FFFFFF',\n        'stroke-width': 2,\n        'cursor': 'move',\n        'class': 'target-arrowhead'\n    }\n});\n\nexport const SourceArrowhead = Arrowhead.extend({\n    name: 'source-arrowhead',\n    ratio: 0,\n    arrowheadType: 'source',\n    attributes: {\n        'd': 'M 10 -8 -10 0 10 8 Z',\n        'fill': '#33334F',\n        'stroke': '#FFFFFF',\n        'stroke-width': 2,\n        'cursor': 'move',\n        'class': 'source-arrowhead'\n    }\n});\n", "\nimport * as util from '../util/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport { getViewBBox } from './helpers.mjs';\n\nexport const Boundary = ToolView.extend({\n    name: 'boundary',\n    tagName: 'rect',\n    options: {\n        padding: 10,\n        useModelGeometry: false,\n    },\n    attributes: {\n        'fill': 'none',\n        'stroke': '#33334F',\n        'stroke-width': .5,\n        'stroke-dasharray': '5, 5',\n        'pointer-events': 'none'\n    },\n    onRender: function() {\n        this.update();\n    },\n    update: function() {\n        const { relatedView: view, options, vel } = this;\n        const { useModelGeometry, rotate } = options;\n        const padding = util.normalizeSides(options.padding);\n        let bbox = getViewBBox(view, useModelGeometry).moveAndExpand({\n            x: -padding.left,\n            y: -padding.top,\n            width: padding.left + padding.right,\n            height: padding.top + padding.bottom\n        });\n        var model = view.model;\n        if (model.isElement()) {\n            var angle = model.angle();\n            if (angle) {\n                if (rotate) {\n                    var origin = model.getBBox().center();\n                    vel.rotate(angle, origin.x, origin.y, { absolute: true });\n                } else {\n                    bbox = bbox.bbox(angle);\n                }\n            }\n        }\n        vel.attr(bbox.toJSON());\n        return this;\n    }\n});\n", "import * as g from '../g/index.mjs';\nimport * as util from '../util/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport { getAnchor, snapAnchor } from './helpers.mjs';\n\nconst Anchor = ToolView.extend({\n    tagName: 'g',\n    type: null,\n    children: [{\n        tagName: 'circle',\n        selector: 'anchor',\n        attributes: {\n            'cursor': 'pointer'\n        }\n    }, {\n        tagName: 'rect',\n        selector: 'area',\n        attributes: {\n            'pointer-events': 'none',\n            'fill': 'none',\n            'stroke': '#33334F',\n            'stroke-dasharray': '2,4',\n            'rx': 5,\n            'ry': 5\n        }\n    }],\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown',\n        dblclick: 'onPointerDblClick',\n        dbltap: 'onPointerDblClick'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    options: {\n        snap: snapAnchor,\n        anchor: getAnchor,\n        scale: null,\n        resetAnchor: true,\n        customAnchorAttributes: {\n            'stroke-width': 4,\n            'stroke': '#33334F',\n            'fill': '#FFFFFF',\n            'r': 5\n        },\n        defaultAnchorAttributes: {\n            'stroke-width': 2,\n            'stroke': '#FFFFFF',\n            'fill': '#33334F',\n            'r': 6\n        },\n        areaPadding: 6,\n        snapRadius: 10,\n        restrictArea: true,\n        redundancyRemoval: true\n    },\n    onRender: function() {\n        this.renderChildren();\n        this.toggleArea(false);\n        this.update();\n    },\n    update: function() {\n        var type = this.type;\n        var relatedView = this.relatedView;\n        var view = relatedView.getEndView(type);\n        if (view) {\n            this.updateAnchor();\n            this.updateArea();\n            this.el.style.display = '';\n        } else {\n            this.el.style.display = 'none';\n        }\n        return this;\n    },\n    updateAnchor: function() {\n        var childNodes = this.childNodes;\n        if (!childNodes) return;\n        var anchorNode = childNodes.anchor;\n        if (!anchorNode) return;\n        var relatedView = this.relatedView;\n        var type = this.type;\n        var position = relatedView.getEndAnchor(type);\n        var options = this.options;\n        var customAnchor = relatedView.model.prop([type, 'anchor']);\n        let transformString =  `translate(${position.x},${position.y})`;\n        if (options.scale) {\n            transformString += ` scale(${options.scale})`;\n        }\n        anchorNode.setAttribute('transform', transformString);\n        var anchorAttributes = (customAnchor) ? options.customAnchorAttributes : options.defaultAnchorAttributes;\n        for (var attrName in anchorAttributes) {\n            anchorNode.setAttribute(attrName, anchorAttributes[attrName]);\n        }\n    },\n    updateArea: function() {\n        var childNodes = this.childNodes;\n        if (!childNodes) return;\n        var areaNode = childNodes.area;\n        if (!areaNode) return;\n        var relatedView = this.relatedView;\n        var type = this.type;\n        var view = relatedView.getEndView(type);\n        var model = view.model;\n        var magnet = relatedView.getEndMagnet(type);\n        var padding = this.options.areaPadding;\n        if (!isFinite(padding)) padding = 0;\n        var bbox, angle, center;\n        if (view.isNodeConnection(magnet)) {\n            bbox = view.getNodeBBox(magnet);\n            angle = 0;\n            center = bbox.center();\n        } else {\n            bbox = view.getNodeUnrotatedBBox(magnet);\n            angle = model.angle();\n            center = bbox.center();\n            if (angle) center.rotate(model.getBBox().center(), -angle);\n            // TODO: get the link's magnet rotation into account\n        }\n        bbox.inflate(padding);\n        areaNode.setAttribute('x', -bbox.width / 2);\n        areaNode.setAttribute('y', -bbox.height / 2);\n        areaNode.setAttribute('width', bbox.width);\n        areaNode.setAttribute('height', bbox.height);\n        areaNode.setAttribute('transform', 'translate(' + center.x + ',' + center.y + ') rotate(' + angle + ')');\n    },\n    toggleArea: function(visible) {\n        var childNodes = this.childNodes;\n        if (!childNodes) return;\n        var areaNode = childNodes.area;\n        if (!areaNode) return;\n        areaNode.style.display = (visible) ? '' : 'none';\n    },\n    onPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.paper.undelegateEvents();\n        this.delegateDocumentEvents();\n        this.focus();\n        this.toggleArea(this.options.restrictArea);\n        this.relatedView.model.startBatch('anchor-move', { ui: true, tool: this.cid });\n    },\n    resetAnchor: function(anchor) {\n        var type = this.type;\n        var relatedModel = this.relatedView.model;\n        if (anchor) {\n            relatedModel.prop([type, 'anchor'], anchor, {\n                rewrite: true,\n                ui: true,\n                tool: this.cid\n            });\n        } else {\n            relatedModel.removeProp([type, 'anchor'], {\n                ui: true,\n                tool: this.cid\n            });\n        }\n    },\n    onPointerMove: function(evt) {\n\n        var relatedView = this.relatedView;\n        var type = this.type;\n        var view = relatedView.getEndView(type);\n        var model = view.model;\n        var magnet = relatedView.getEndMagnet(type);\n        var normalizedEvent = util.normalizeEvent(evt);\n        var coords = this.paper.clientToLocalPoint(normalizedEvent.clientX, normalizedEvent.clientY);\n        var snapFn = this.options.snap;\n        if (typeof snapFn === 'function') {\n            coords = snapFn.call(relatedView, coords, view, magnet, type, relatedView, this);\n            coords = new g.Point(coords);\n        }\n\n        if (this.options.restrictArea) {\n            if (view.isNodeConnection(magnet)) {\n                // snap coords to the link's connection\n                var pointAtConnection = view.getClosestPoint(coords);\n                if (pointAtConnection) coords = pointAtConnection;\n            } else {\n                // snap coords within node bbox\n                var bbox = view.getNodeUnrotatedBBox(magnet);\n                var angle = model.angle();\n                var origin = model.getBBox().center();\n                var rotatedCoords = coords.clone().rotate(origin, angle);\n                if (!bbox.containsPoint(rotatedCoords)) {\n                    coords = bbox.pointNearestToPoint(rotatedCoords).rotate(origin, -angle);\n                }\n            }\n        }\n\n        var anchor;\n        var anchorFn = this.options.anchor;\n        if (typeof anchorFn === 'function') {\n            anchor = anchorFn.call(relatedView, coords, view, magnet, type, relatedView);\n        }\n\n        this.resetAnchor(anchor);\n        this.update();\n    },\n\n    onPointerUp: function(evt) {\n        const normalizedEvent = util.normalizeEvent(evt);\n        this.paper.delegateEvents();\n        this.undelegateDocumentEvents();\n        this.blur();\n        this.toggleArea(false);\n        var linkView = this.relatedView;\n        if (this.options.redundancyRemoval) linkView.removeRedundantLinearVertices({ ui: true, tool: this.cid });\n        linkView.checkMouseleave(normalizedEvent);\n        linkView.model.stopBatch('anchor-move', { ui: true, tool: this.cid });\n    },\n\n    onPointerDblClick: function() {\n        var anchor = this.options.resetAnchor;\n        if (anchor === false) return; // reset anchor disabled\n        if (anchor === true) anchor = null; // remove the current anchor\n        this.resetAnchor(util.cloneDeep(anchor));\n        this.update();\n    }\n});\n\nexport const SourceAnchor = Anchor.extend({\n    name: 'source-anchor',\n    type: 'source'\n});\n\nexport const TargetAnchor = Anchor.extend({\n    name: 'target-anchor',\n    type: 'target'\n});\n", "import { evalCalcAttribute, isCalcAttribute } from '../dia/attributes/calc.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport { getViewBBox } from './helpers.mjs';\nimport * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\nimport V from '../V/index.mjs';\n\nexport const Button = ToolView.extend({\n    name: 'button',\n    events: {\n        'mousedown': 'onPointerDown',\n        'touchstart': 'onPointerDown'\n    },\n    options: {\n        distance: 0,\n        offset: 0,\n        scale: null,\n        rotate: false\n    },\n    onRender: function() {\n        this.renderChildren(this.options.markup);\n        this.update();\n    },\n    update: function() {\n        this.position();\n        return this;\n    },\n    position: function() {\n        const { vel } = this;\n        vel.transform(this.getCellMatrix(), { absolute: true });\n    },\n    getCellMatrix() {\n        return this.relatedView.model.isLink() ? this.getLinkMatrix() : this.getElementMatrix();\n    },\n    getElementMatrix() {\n        const { relatedView: view, options } = this;\n        let { x = 0, y = 0, offset = {}, useModelGeometry, rotate, scale } = options;\n        let bbox = getViewBBox(view, useModelGeometry);\n        const angle = view.model.angle();\n        if (!rotate) bbox = bbox.bbox(angle);\n        const { x: offsetX = 0, y: offsetY = 0 } = offset;\n        if (util.isPercentage(x)) {\n            x = parseFloat(x) / 100 * bbox.width;\n        } else if (isCalcAttribute(x)) {\n            x = Number(evalCalcAttribute(x, bbox));\n        }\n        if (util.isPercentage(y)) {\n            y = parseFloat(y) / 100 * bbox.height;\n        } else if (isCalcAttribute(y)) {\n            y = Number(evalCalcAttribute(y, bbox));\n        }\n        let matrix = V.createSVGMatrix().translate(bbox.x + bbox.width / 2, bbox.y + bbox.height / 2);\n        if (rotate) matrix = matrix.rotate(angle);\n        matrix = matrix.translate(x + offsetX - bbox.width / 2, y + offsetY - bbox.height / 2);\n        if (scale) matrix = matrix.scale(scale);\n        return matrix;\n    },\n    getLinkMatrix() {\n        const { relatedView: view, options } = this;\n        const { offset = 0, distance = 0, rotate, scale } = options;\n        let tangent, position, angle;\n        if (util.isPercentage(distance)) {\n            tangent = view.getTangentAtRatio(parseFloat(distance) / 100);\n        } else {\n            tangent = view.getTangentAtLength(distance);\n        }\n        if (tangent) {\n            position = tangent.start;\n            angle = tangent.vector().vectorAngle(new g.Point(1, 0)) || 0;\n        } else {\n            position = view.getConnection().start;\n            angle = 0;\n        }\n        let matrix = V.createSVGMatrix()\n            .translate(position.x, position.y)\n            .rotate(angle)\n            .translate(0, offset);\n        if (!rotate) matrix = matrix.rotate(-angle);\n        if (scale) matrix = matrix.scale(scale);\n        return matrix;\n    },\n    onPointerDown: function(evt) {\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        var actionFn = this.options.action;\n        if (typeof actionFn === 'function') {\n            actionFn.call(this.relatedView, evt, this.relatedView, this);\n        }\n    }\n});\n\nexport const Remove = Button.extend({\n    children: [{\n        tagName: 'circle',\n        selector: 'button',\n        attributes: {\n            'r': 7,\n            'fill': '#FF1D00',\n            'cursor': 'pointer'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'icon',\n        attributes: {\n            'd': 'M -3 -3 3 3 M -3 3 3 -3',\n            'fill': 'none',\n            'stroke': '#FFFFFF',\n            'stroke-width': 2,\n            'pointer-events': 'none'\n        }\n    }],\n    options: {\n        distance: 60,\n        offset: 0,\n        action: function(evt, view, tool) {\n            view.model.remove({ ui: true, tool: tool.cid });\n        }\n    }\n});\n", "import { Button } from './Button.mjs';\nimport * as util from '../util/index.mjs';\n\nexport const Connect = Button.extend({\n    name: 'connect',\n    documentEvents: {\n        mousemove: 'drag',\n        touchmove: 'drag',\n        mouseup: 'dragend',\n        touchend: 'dragend',\n        touchcancel: 'dragend'\n    },\n    children: [{\n        tagName: 'circle',\n        selector: 'button',\n        attributes: {\n            'r': 7,\n            'fill': '#333333',\n            'cursor': 'pointer'\n        }\n    }, {\n        tagName: 'path',\n        selector: 'icon',\n        attributes: {\n            'd': 'M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z',\n            'fill': '#FFFFFF',\n            'stroke': 'none',\n            'stroke-width': 2,\n            'pointer-events': 'none'\n        }\n    }],\n    options: {\n        distance: 80,\n        offset: 0,\n        magnet: (view) => view.el,\n        action: (evt, _view, tool) => tool.dragstart(evt),\n    },\n    getMagnetNode: function() {\n        const { options, relatedView } = this;\n        const { magnet } = options;\n        let magnetNode;\n        switch (typeof magnet) {\n            case 'function': {\n                magnetNode = magnet.call(this, relatedView, this);\n                break;\n            }\n            case 'string': {\n                [magnetNode] = relatedView.findBySelector(magnet);\n                break;\n            }\n            default: {\n                magnetNode = magnet;\n                break;\n            }\n        }\n        if (!magnetNode) magnetNode = relatedView.el;\n        if (magnetNode instanceof SVGElement) return magnetNode;\n        throw new Error('Connect: magnet must be an SVGElement');\n    },\n    dragstart: function(evt) {\n        const { paper, relatedView } = this;\n        const normalizedEvent = util.normalizeEvent(evt);\n        const { x, y } = paper.clientToLocalPoint(normalizedEvent.clientX, normalizedEvent.clientY);\n        relatedView.dragLinkStart(normalizedEvent, this.getMagnetNode(), x, y);\n        paper.undelegateEvents();\n        this.delegateDocumentEvents(null, normalizedEvent.data);\n        this.focus();\n    },\n    drag: function(evt) {\n        const { paper, relatedView } = this;\n        const normalizedEvent = util.normalizeEvent(evt);\n        const { x, y } = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        relatedView.dragLink(normalizedEvent, x, y);\n    },\n    dragend: function(evt) {\n        const { paper, relatedView } = this;\n        const normalizedEvent = util.normalizeEvent(evt);\n        const { x, y } = paper.snapToGrid(normalizedEvent.clientX, normalizedEvent.clientY);\n        relatedView.dragLinkEnd(normalizedEvent, x, y);\n        this.undelegateDocumentEvents();\n        paper.delegateEvents();\n        this.blur();\n        relatedView.checkMouseleave(normalizedEvent);\n    }\n});\n", "import { Connect } from '../linkTools/Connect.mjs';\nimport V from '../V/index.mjs';\nimport $ from 'jquery';\nimport * as util from '../util/index.mjs';\nimport * as g from '../g/index.mjs';\n\nexport const HoverConnect = Connect.extend({\n\n    name: 'hover-connect',\n\n    defaultMarkup: [\n        {\n            tagName: 'circle',\n            attributes: {\n                'r': 7,\n                'fill': '#333333',\n                'cursor': 'pointer'\n            }\n        },\n        {\n            tagName: 'path',\n            attributes: {\n                'd': 'M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z',\n                'fill': '#FFFFFF',\n                'stroke': 'none',\n                'stroke-width': 2\n            }\n        }\n    ],\n\n    children() {\n        const { options, defaultMarkup } = this;\n        return [\n            {\n                tagName: 'path',\n                selector: 'track',\n                attributes: {\n                    'fill': 'none',\n                    'stroke': 'transparent',\n                    'stroke-width': options.trackWidth || 15,\n                    'cursor': 'pointer'\n                }\n            },\n            {\n                tagName: 'g',\n                selector: 'button',\n                attributes: {\n                    'pointer-events': 'none',\n                    'display': 'none'\n                },\n                children: options.markup || defaultMarkup\n            }\n        ];\n    },\n\n    events: Object.assign({\n        mousemove: 'onMousemove',\n        mouseenter: 'onMouseenter',\n        mouseleave: 'onMouseleave'\n    }, Connect.prototype.events),\n\n    onRender: function() {\n        this.renderChildren();\n        this.update();\n    },\n\n    trackPath: null,\n\n    update() {\n        const { childNodes } = this;\n        this.trackPath = this.getTrackPath();\n        Connect.prototype.update.apply(this, arguments);\n        childNodes.track.setAttribute(\n            'd',\n            this.trackPath.serialize()\n        );\n    },\n\n    position() {\n        const { el, childNodes } = this;\n        childNodes.button.setAttribute(\n            'transform',\n            V.matrixToTransformString(this.getButtonMatrix())\n        );\n        el.setAttribute(\n            'transform',\n            V.matrixToTransformString(this.getTrackMatrix())\n        );\n    },\n\n    getButtonMatrix() {\n        const { options, trackPath } = this;\n        const { offset = 0, distance = 0, rotate, scale } = options;\n        let tangent, position, angle;\n        if (util.isPercentage(distance)) {\n            tangent = trackPath.tangentAtRatio(parseFloat(distance) / 100);\n        } else {\n            tangent = trackPath.tangentAtLength(distance);\n        }\n        if (tangent) {\n            position = tangent.start;\n            angle = tangent.vector().vectorAngle(new g.Point(1, 0)) || 0;\n        } else {\n            position = trackPath.start;\n            angle = 0;\n        }\n        let matrix = V.createSVGMatrix()\n            .translate(position.x, position.y)\n            .rotate(angle)\n            .translate(0, offset);\n        if (!rotate) matrix = matrix.rotate(-angle);\n        if (scale) matrix = matrix.scale(scale);\n        return matrix;\n    },\n\n    getTrackPath() {\n        return this.relatedView.getConnection();\n    },\n\n    getTrackMatrix() {\n        return V.createSVGMatrix();\n    },\n\n    getTrackRatioFromEvent(evt) {\n        const { relatedView, trackPath } = this;\n        const localPoint = relatedView.paper.clientToLocalPoint(evt.clientX, evt.clientY);\n        const trackPoint = V.transformPoint(localPoint, this.getTrackMatrix().inverse());\n        return trackPath.closestPointLength(trackPoint);\n    },\n\n    canShowButton() {\n        // Has been the paper events undelegated? If so, we can't show the button.\n        // TODO: add a method to the paper to check if the events are delegated.\n        return $._data(this.paper.el, 'events');\n    },\n\n    showButton() {\n        this.childNodes.button.style.display = 'block';\n    },\n\n    hideButton() {\n        this.childNodes.button.style.display = '';\n    },\n\n    onMousemove(evt) {\n        const { trackPath } = this;\n        if (!trackPath) return;\n        const { options } = this;\n        options.distance = this.getTrackRatioFromEvent(evt);\n        this.position();\n    },\n\n    onMouseenter() {\n        if (!this.canShowButton()) return;\n        this.showButton();\n    },\n\n    onMouseleave() {\n        this.hideButton();\n    }\n});\n", "export * from './Control.mjs';\nexport { Button, Remove } from '../linkTools/Button.mjs';\nexport { Connect } from '../linkTools/Connect.mjs';\nexport { Boundary } from '../linkTools/Boundary.mjs';\nexport { HoverConnect } from './HoverConnect.mjs';\n", "import { ToolView } from '../dia/ToolView.mjs';\nimport * as util from '../util/index.mjs';\n\nexport const Control = ToolView.extend({\n    tagName: 'g',\n    children: [{\n        tagName: 'circle',\n        selector: 'handle',\n        attributes: {\n            'cursor': 'pointer',\n            'stroke-width': 2,\n            'stroke': '#FFFFFF',\n            'fill': '#33334F',\n            'r': 6\n        }\n    }, {\n        tagName: 'rect',\n        selector: 'extras',\n        attributes: {\n            'pointer-events': 'none',\n            'fill': 'none',\n            'stroke': '#33334F',\n            'stroke-dasharray': '2,4',\n            'rx': 5,\n            'ry': 5\n        }\n    }],\n    events: {\n        mousedown: 'onPointerDown',\n        touchstart: 'onPointerDown',\n        dblclick: 'onPointerDblClick',\n        dbltap: 'onPointerDblClick'\n    },\n    documentEvents: {\n        mousemove: 'onPointerMove',\n        touchmove: 'onPointerMove',\n        mouseup: 'onPointerUp',\n        touchend: 'onPointerUp',\n        touchcancel: 'onPointerUp'\n    },\n    options: {\n        handleAttributes: null,\n        selector: 'root',\n        padding: 6,\n        scale: null\n    },\n\n    getPosition: function() {\n        // To be overridden\n    },\n    setPosition: function() {\n        // To be overridden\n    },\n    resetPosition: function() {\n        // To be overridden\n    },\n    onRender: function() {\n        this.renderChildren();\n        this.toggleExtras(false);\n        this.update();\n    },\n    update: function() {\n        const { handle, extras } = this.childNodes;\n        if (handle) {\n            this.updateHandle(handle);\n        } else {\n            throw new Error('Control: markup selector `handle` is required');\n        }\n        if (extras) {\n            this.updateExtras(extras);\n        }\n        return this;\n    },\n    updateHandle: function(handleNode) {\n        const { relatedView, options } = this;\n        const { model } = relatedView;\n        const relativePos = this.getPosition(relatedView, this);\n        const absolutePos = model.getAbsolutePointFromRelative(relativePos);\n        const { handleAttributes, scale } = options;\n        let transformString =  `translate(${absolutePos.x},${absolutePos.y})`;\n        if (scale) {\n            transformString += ` scale(${scale})`;\n        }\n        handleNode.setAttribute('transform', transformString);\n        if (handleAttributes) {\n            for (let attrName in handleAttributes) {\n                handleNode.setAttribute(attrName, handleAttributes[attrName]);\n            }\n        }\n    },\n    updateExtras: function(extrasNode) {\n        const { relatedView, options } = this;\n        const { selector } = this.options;\n        if (!selector) {\n            this.toggleExtras(false);\n            return;\n        }\n        const [magnet] = relatedView.findBySelector(selector);\n        if (!magnet) throw new Error('Control: invalid selector.');\n        let padding = options.padding;\n        if (!isFinite(padding)) padding = 0;\n        const bbox = relatedView.getNodeUnrotatedBBox(magnet);\n        const model = relatedView.model;\n        const angle = model.angle();\n        const center = bbox.center();\n        if (angle) center.rotate(model.getBBox().center(), -angle);\n        bbox.inflate(padding);\n        extrasNode.setAttribute('x', -bbox.width / 2);\n        extrasNode.setAttribute('y', -bbox.height / 2);\n        extrasNode.setAttribute('width', bbox.width);\n        extrasNode.setAttribute('height', bbox.height);\n        extrasNode.setAttribute('transform', `translate(${center.x},${center.y}) rotate(${angle})`);\n    },\n    toggleExtras: function(visible) {\n        const { extras } = this.childNodes;\n        if (!extras) return;\n        extras.style.display = (visible) ? '' : 'none';\n    },\n    onPointerDown: function(evt) {\n        const { relatedView, paper } = this;\n        if (this.guard(evt)) return;\n        evt.stopPropagation();\n        evt.preventDefault();\n        paper.undelegateEvents();\n        this.delegateDocumentEvents();\n        this.focus();\n        this.toggleExtras(true);\n        relatedView.model.startBatch('control-move', { ui: true, tool: this.cid });\n    },\n    onPointerMove: function(evt) {\n        const { relatedView, paper } = this;\n        const { model } = relatedView;\n        const { clientX, clientY } = util.normalizeEvent(evt);\n        const coords = paper.clientToLocalPoint(clientX, clientY);\n        const relativeCoords = model.getRelativePointFromAbsolute(coords);\n        this.setPosition(relatedView, relativeCoords, this);\n        this.update();\n    },\n    onPointerUp: function(_evt) {\n        const { relatedView, paper } = this;\n        paper.delegateEvents();\n        this.undelegateDocumentEvents();\n        this.blur();\n        this.toggleExtras(false);\n        relatedView.model.stopBatch('control-move', { ui: true, tool: this.cid });\n    },\n    onPointerDblClick: function() {\n        const { relatedView } = this;\n        this.resetPosition(relatedView, this);\n        this.update();\n    }\n\n});\n", "import { HoverConnect as LinkHoverConnect } from '../linkTools/HoverConnect.mjs';\nimport V from '../V/index.mjs';\nimport * as g from '../g/index.mjs';\nimport { getViewBBox } from '../linkTools/helpers.mjs';\nimport { isCalcAttribute, evalCalcAttribute } from '../dia/attributes/calc.mjs';\n\nexport const HoverConnect = LinkHoverConnect.extend({\n\n    getTrackPath() {\n        const { relatedView: view, options } = this;\n        let {\n            useModelGeometry,\n            trackPath =  'M 0 0 H calc(w) V calc(h) H 0 Z'\n        } = options;\n        if (typeof trackPath === 'function') {\n            trackPath = trackPath.call(this, view);\n        }\n        if (isCalcAttribute(trackPath)) {\n            const bbox = getViewBBox(view, useModelGeometry);\n            trackPath = evalCalcAttribute(trackPath, bbox);\n        }\n        return new g.Path(V.normalizePathData(trackPath));\n    },\n\n    getTrackMatrix() {\n        const { relatedView: view, options } = this;\n        let { useModelGeometry, rotate } = options;\n        let bbox = getViewBBox(view, useModelGeometry);\n        const angle = view.model.angle();\n        if (!rotate) bbox = bbox.bbox(angle);\n        let matrix = V.createSVGMatrix().translate(bbox.x + bbox.width / 2, bbox.y + bbox.height / 2);\n        if (rotate) matrix = matrix.rotate(angle);\n        matrix = matrix.translate(- bbox.width / 2, - bbox.height / 2);\n        return matrix;\n    }\n\n});\n", "var version = \"3.7.7\";\n\nexport { version };\n", "import * as connectors from './connectors/index.mjs';\nimport * as highlighters from './highlighters/index.mjs';\nimport * as connectionPoints from './connectionPoints/index.mjs';\nimport * as connectionStrategies from './connectionStrategies/index.mjs';\nimport * as routers from './routers/index.mjs';\nimport * as anchors from './anchors/index.mjs';\nimport * as linkAnchors from './linkAnchors/index.mjs';\nimport * as dia from './dia/index.mjs';\nimport * as linkTools from './linkTools/index.mjs';\nimport * as elementTools from './elementTools/index.mjs';\nimport * as util from './util/index.mjs';\nimport * as mvc from './mvc/index.mjs';\nimport * as g from './g/index.mjs';\nimport { config } from './config/index.mjs';\nimport V from './V/index.mjs';\nimport * as Port from './layout/ports/port.mjs';\nimport * as PortLabel from './layout/ports/portLabel.mjs';\n\nexport * from '../dist/version.mjs';\nexport const Vectorizer = V;\nexport const layout = { PortLabel, Port };\nexport { env } from './env/index.mjs';\nexport {\n    config,\n    anchors,\n    linkAnchors,\n    connectionPoints,\n    connectionStrategies,\n    connectors,\n    dia,\n    highlighters,\n    mvc,\n    routers,\n    util,\n    linkTools,\n    elementTools,\n    V,\n    g\n};\nexport const setTheme = function(theme, opt) {\n\n    opt = opt || {};\n\n    util.invoke(mvc.views, 'setTheme', theme, opt);\n\n    // Update the default theme on the view prototype.\n    mvc.View.prototype.defaultTheme = theme;\n};\n"],
  "mappings": "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",
  "names": ["hasOwnProperty", "length", "rest", "hasOwnProperty", "isFinite", "isNaN", "keys", "keys", "length", "object", "length", "className", "length", "keys", "length", "keys", "length", "values", "length", "pairs", "result", "length", "defaults", "length", "keys", "result", "props", "result", "toPath", "init_toPath", "length", "object", "toPath", "init_toPath", "has", "toPath", "length", "init_has", "init_toPath", "toPath", "init_toPath", "iteratee", "length", "iteratee", "random", "min", "max", "map", "matcher", "interpolate", "template", "toPath", "length", "init_toPath", "self", "result", "length", "length", "keys", "memoize", "result", "result", "result", "times", "times", "length", "length", "iteratee", "sortedIndex", "length", "isNaN", "iteratee", "length", "iteratee", "length", "iteratee", "initial", "length", "list", "length", "length", "init_toPath", "toPath", "max", "iteratee", "result", "length", "list", "min", "iteratee", "result", "length", "list", "random", "sample", "length", "last", "iteratee", "list", "left", "right", "iteratee", "result", "result", "result", "result", "result", "keys", "result", "iteratee", "length", "keys", "iteratee", "flatten", "init_flatten", "rest", "iteratee", "result", "length", "intersection", "result", "length", "length", "max", "result", "list", "values", "result", "length", "length", "range", "result", "length", "flatten", "has", "intersection", "isFinite", "isNaN", "max", "min", "random", "init_has", "init_flatten", "_", "flatten", "has", "intersection", "isFinite", "isNaN", "max", "min", "random", "global", "window", "slice", "push", "toString", "isFunction", "isWindow", "document", "version", "clone", "length", "isArrayLike", "arr", "first", "invert", "documentElement", "attributes", "rquickExpr", "find", "i", "keys", "fn", "matches", "node", "className", "result", "last", "dir", "parent", "diff", "matcher", "map", "filter", "elem", "self", "root", "object", "_", "list", "reject", "value", "deferred", "camelCase", "data", "scale", "initial", "nodeName", "values", "wrap", "types", "props", "name", "index", "max", "val", "completed", "rect", "top", "method", "type", "root", "_", "$", "exports", "Backbone", "slice", "iteratee", "map", "length", "Model", "attributes", "defaults", "unset", "diff", "set", "merge", "first", "View", "cb", "Class", "matcher", "config", "xhr", "escapeRegExp", "router", "window", "extend", "parent", "ellipse", "line", "bbox", "property", "range", "min", "max", "cos", "sin", "atan2", "round", "PI", "point", "length", "scale", "max", "min", "left", "top", "right", "bottom", "length", "intersection", "line", "determinant", "sqrt", "round", "pow", "rect", "ellipse", "line", "diff", "root", "result", "point", "center", "abs", "cos", "sin", "min", "max", "round", "pow", "line", "center", "result", "intersection", "rect", "scale", "point", "point", "abs", "rect", "point", "length", "line", "abs", "sqrt", "min", "max", "pow", "left", "top", "right", "bottom", "length", "point", "bbox", "length", "line", "intersection", "curve", "curve", "rect", "line2", "ellipse", "line", "sqrt", "ellipse2", "rect", "length", "cos", "sin", "clone", "debounce", "defaultsDeep", "filter", "has", "intersection", "isBoolean", "isEmpty", "isEqual", "isFunction", "isObject", "mixin", "noop", "result", "sortBy", "sortedIndex", "template", "toArray", "uniq", "uniqueId", "PI", "atan2", "sqrt", "min", "max", "cos", "sin", "V", "line", "ns", "attributes", "parent", "clone", "className", "svg", "bbox", "center", "scale", "length", "sample", "rect", "point", "object", "ellipse", "math", "abs", "_13", "_23", "a", "b", "path", "pcom", "i", "MAX_ARRAY_INDEX", "values", "object", "keys", "result", "isTypedArray", "length", "eq", "isObject", "props", "some", "othValue", "map", "set", "get", "array", "cacheHas", "key", "createAssigner", "isArguments", "iteratee", "last", "property", "baseIteratee", "collection", "pairs", "size", "isBoolean", "toString", "mixin", "defaultsDeep", "sortedIndex", "uniq", "clone", "isEmpty", "isEqual", "isFunction", "toArray", "debounce", "wait", "sortBy", "intersection", "has", "idCounter", "uniqueId", "className", "ns", "svg", "$", "attributes", "group", "keys", "length", "last", "value", "property", "max", "rest", "bbox", "validUnitExp", "word", "size", "words", "xhr", "callback", "map", "attrs", "has", "top", "right", "bottom", "left", "cb", "b", "filter", "template", "align", "scale", "before", "after", "i", "d", "el", "isFunction", "noop", "uniq", "toArray", "map", "clone", "parent", "isEmpty", "props", "_", "import_jquery", "point", "$", "_", "stroke", "filter", "isObject", "size", "fn", "Backbone", "attributes", "defaults", "uniqueId", "result", "isObject", "isEqual", "isEmpty", "sortBy", "parent", "uniq", "clone", "toArray", "props", "property", "options", "point", "defaultsDeep", "Cell", "has", "object", "isFunction", "toArray", "fn", "document", "svg", "attributes", "className", "node", "root", "rect", "point", "ports", "center", "ellipse", "bbox", "line", "bottom", "left", "right", "top", "defaultsDeep", "center", "round", "left", "right", "top", "bottom", "Element", "import_backbone", "clone", "router", "fn", "isFunction", "attributes", "group", "toArray", "isObject", "isFunction", "result", "isEmpty", "before", "uniq", "Element", "parent", "bbox", "isObject", "center", "left", "right", "top", "bottom", "absolute", "size", "attributes", "Backbone", "has", "Element", "toArray", "model", "_", "exists", "links", "iteratee", "isEmpty", "rect", "bbox", "import_backbone", "import_jquery", "Backbone", "result", "className", "$", "import_backbone", "object", "cb", "Backbone", "import_jquery", "toArray", "attributes", "result", "views", "_", "list", "attributes", "result", "root", "group", "isFunction", "isObject", "isBoolean", "$", "bbox", "rect", "isEmpty", "scale", "sortedIndex", "item", "uniq", "parent", "Flags", "_", "attributes", "size", "max", "parent", "isFunction", "toArray", "bbox", "bearing", "boundary", "toArray", "max", "config", "isFunction", "toArray", "map", "bbox", "point", "sortedIndex", "getSourceBBox", "getTargetBBox", "getSourceAnchor", "getTargetAnchor", "diff", "snapToGrid", "round", "parent", "min", "anchor", "keys", "isObject", "key", "result", "config", "point", "isFunction", "line", "anchor", "point", "bbox", "isElement", "y", "x", "toDirection", "normal", "_13", "_23", "line2", "point", "line", "toArray", "intersection", "diff", "normal", "CORNER_RADIUS", "PRECISION", "Directions", "last", "curve", "cos", "sin", "import_jquery", "Flags", "attributes", "className", "$", "labelMarkup", "result", "size", "template", "point", "anchor", "line", "scale", "connectionLength", "toArray", "vToken", "callback", "isObject", "router", "isFunction", "clone", "length", "normal", "bbox", "isEqual", "magnet", "view", "paper", "fn", "Directions", "size", "isEqual", "length", "left", "right", "top", "bottom", "bbox", "length", "fn", "line", "length", "stroke", "align", "bbox", "center", "intersection", "anchor", "bottom", "left", "right", "top", "bbox", "anchor", "topLeft", "bottomRight", "center", "top", "bottom", "left", "right", "import_jquery", "import_backbone", "HighlightingTypes", "has", "$", "_", "isFunction", "defaultsDeep", "svg", "flag", "isObject", "Backbone", "views", "create", "result", "bbox", "rect", "debounce", "deltaY", "scale", "evt", "filter", "toArray", "opacity", "radians", "size", "opacity", "views", "isFunction", "point", "length", "noop", "Ellipse", "Path", "Polygon", "Polyline", "Rect", "fn", "result", "Element", "Rect", "Ellipse", "Polygon", "Polyline", "Path", "size", "_", "has", "Circle", "Ellipse", "Image", "Link", "Path", "Polygon", "Polyline", "TextBlock", "Element", "Circle", "Ellipse", "Path", "Polygon", "Polyline", "Image", "TextBlock", "Link", "Link", "uniq", "group", "toArray", "isObject", "Link", "Line", "Element", "Line", "Element", "Arrow", "Element", "Arrow", "Link", "className", "Link", "EndState", "StartState", "State", "Transition", "rect", "State", "StartState", "EndState", "Transition", "absolute", "max", "fn", "bbox", "length", "noop", "scale", "scale", "line", "anchor", "clone", "length", "scale", "bbox", "bbox", "center", "anchor", "scale", "bbox", "import_jquery", "scale", "$", "HoverConnect", "scale", "bbox", "center", "HoverConnect", "bbox"]
}
